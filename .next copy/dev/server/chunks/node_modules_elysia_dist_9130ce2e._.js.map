{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/universal/utils.mjs"],"sourcesContent":["const isBun = typeof Bun < \"u\", isDeno = typeof Deno < \"u\";\nexport {\n  isBun,\n  isDeno\n};\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,QAAQ,OAAO,MAAM,KAAK,SAAS,OAAO,OAAO","ignoreList":[0]}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/universal/file.mjs"],"sourcesContent":["import { isBun } from \"./utils.mjs\";\nconst mime = {\n  aac: \"audio/aac\",\n  abw: \"application/x-abiword\",\n  ai: \"application/postscript\",\n  arc: \"application/octet-stream\",\n  avi: \"video/x-msvideo\",\n  azw: \"application/vnd.amazon.ebook\",\n  bin: \"application/octet-stream\",\n  bz: \"application/x-bzip\",\n  bz2: \"application/x-bzip2\",\n  csh: \"application/x-csh\",\n  css: \"text/css\",\n  csv: \"text/csv\",\n  doc: \"application/msword\",\n  dll: \"application/octet-stream\",\n  eot: \"application/vnd.ms-fontobject\",\n  epub: \"application/epub+zip\",\n  gif: \"image/gif\",\n  htm: \"text/html\",\n  html: \"text/html\",\n  ico: \"image/x-icon\",\n  ics: \"text/calendar\",\n  jar: \"application/java-archive\",\n  jpeg: \"image/jpeg\",\n  jpg: \"image/jpeg\",\n  js: \"application/javascript\",\n  json: \"application/json\",\n  mid: \"audio/midi\",\n  midi: \"audio/midi\",\n  mp2: \"audio/mpeg\",\n  mp3: \"audio/mpeg\",\n  mp4: \"video/mp4\",\n  mpa: \"video/mpeg\",\n  mpe: \"video/mpeg\",\n  mpeg: \"video/mpeg\",\n  mpkg: \"application/vnd.apple.installer+xml\",\n  odp: \"application/vnd.oasis.opendocument.presentation\",\n  ods: \"application/vnd.oasis.opendocument.spreadsheet\",\n  odt: \"application/vnd.oasis.opendocument.text\",\n  oga: \"audio/ogg\",\n  ogv: \"video/ogg\",\n  ogx: \"application/ogg\",\n  otf: \"font/otf\",\n  png: \"image/png\",\n  pdf: \"application/pdf\",\n  ppt: \"application/vnd.ms-powerpoint\",\n  rar: \"application/x-rar-compressed\",\n  rtf: \"application/rtf\",\n  sh: \"application/x-sh\",\n  svg: \"image/svg+xml\",\n  swf: \"application/x-shockwave-flash\",\n  tar: \"application/x-tar\",\n  tif: \"image/tiff\",\n  tiff: \"image/tiff\",\n  ts: \"application/typescript\",\n  ttf: \"font/ttf\",\n  txt: \"text/plain\",\n  vsd: \"application/vnd.visio\",\n  wav: \"audio/x-wav\",\n  weba: \"audio/webm\",\n  webm: \"video/webm\",\n  webp: \"image/webp\",\n  woff: \"font/woff\",\n  woff2: \"font/woff2\",\n  xhtml: \"application/xhtml+xml\",\n  xls: \"application/vnd.ms-excel\",\n  xlsx: \"application/vnd.ms-excel\",\n  xlsx_OLD: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n  xml: \"application/xml\",\n  xul: \"application/vnd.mozilla.xul+xml\",\n  zip: \"application/zip\",\n  \"3gp\": \"video/3gpp\",\n  \"3gp_DOES_NOT_CONTAIN_VIDEO\": \"audio/3gpp\",\n  \"3gp2\": \"video/3gpp2\",\n  \"3gp2_DOES_NOT_CONTAIN_VIDEO\": \"audio/3gpp2\",\n  \"7z\": \"application/x-7z-compressed\"\n}, getFileExtension = (path) => {\n  const index = path.lastIndexOf(\".\");\n  return index === -1 ? \"\" : path.slice(index + 1);\n}, file = (path) => new ElysiaFile(path);\nlet createReadStream, stat;\nclass ElysiaFile {\n  constructor(path) {\n    this.path = path;\n    if (isBun) this.value = Bun.file(path);\n    else {\n      if (!createReadStream || !stat) {\n        if (typeof window < \"u\") {\n          console.warn(\"Browser environment does not support file\");\n          return;\n        }\n        const warnMissing = (name) => console.warn(\n          new Error(\n            `[elysia] \\`file\\` require \\`fs${name ? \".\" + name : \"\"}\\` ${name?.includes(\".\") ? \"module \" : \"\"}which is not available in this environment`\n          )\n        );\n        if (typeof process > \"u\" || typeof process.getBuiltinModule != \"function\") {\n          warnMissing();\n          return;\n        }\n        const fs = process.getBuiltinModule(\"fs\");\n        if (!fs) {\n          warnMissing();\n          return;\n        }\n        if (typeof fs.createReadStream != \"function\") {\n          warnMissing();\n          return;\n        }\n        if (typeof fs.promises?.stat != \"function\") {\n          warnMissing();\n          return;\n        }\n        createReadStream = fs.createReadStream, stat = fs.promises.stat;\n      }\n      this.value = createReadStream(path), this.stats = stat(path);\n    }\n  }\n  get type() {\n    return (\n      // @ts-ignore\n      mime[getFileExtension(this.path)] || \"application/octet-stream\"\n    );\n  }\n  get length() {\n    return isBun ? this.value.size : this.stats?.then((x) => x.size) ?? 0;\n  }\n}\nexport {\n  ElysiaFile,\n  file,\n  getFileExtension,\n  mime\n};\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AACA,MAAM,OAAO;IACX,KAAK;IACL,KAAK;IACL,IAAI;IACJ,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,IAAI;IACJ,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,KAAK;IACL,KAAK;IACL,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,KAAK;IACL,IAAI;IACJ,MAAM;IACN,KAAK;IACL,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,IAAI;IACJ,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,IAAI;IACJ,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,OAAO;IACP,OAAO;IACP,KAAK;IACL,MAAM;IACN,UAAU;IACV,KAAK;IACL,KAAK;IACL,KAAK;IACL,OAAO;IACP,8BAA8B;IAC9B,QAAQ;IACR,+BAA+B;IAC/B,MAAM;AACR,GAAG,mBAAmB,CAAC;IACrB,MAAM,QAAQ,KAAK,WAAW,CAAC;IAC/B,OAAO,UAAU,CAAC,IAAI,KAAK,KAAK,KAAK,CAAC,QAAQ;AAChD,GAAG,OAAO,CAAC,OAAS,IAAI,WAAW;AACnC,IAAI,kBAAkB;AACtB,MAAM;IACJ,YAAY,IAAI,CAAE;QAChB,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,gKAAK,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,IAAI,CAAC;aAC5B;YACH,IAAI,CAAC,oBAAoB,CAAC,MAAM;gBAC9B,IAAI,gDAAgB,KAAK;oBACvB,QAAQ,IAAI,CAAC;oBACb;gBACF;gBACA,MAAM,cAAc,CAAC,OAAS,QAAQ,IAAI,CACxC,IAAI,MACF,CAAC,8BAA8B,EAAE,OAAO,MAAM,OAAO,GAAG,GAAG,EAAE,MAAM,SAAS,OAAO,YAAY,GAAG,0CAA0C,CAAC;gBAGjJ,IAAI,OAAO,UAAU,OAAO,OAAO,QAAQ,gBAAgB,IAAI,YAAY;oBACzE;oBACA;gBACF;gBACA,MAAM,KAAK,QAAQ,gBAAgB,CAAC;gBACpC,IAAI,CAAC,IAAI;oBACP;oBACA;gBACF;gBACA,IAAI,OAAO,GAAG,gBAAgB,IAAI,YAAY;oBAC5C;oBACA;gBACF;gBACA,IAAI,OAAO,GAAG,QAAQ,EAAE,QAAQ,YAAY;oBAC1C;oBACA;gBACF;gBACA,mBAAmB,GAAG,gBAAgB,EAAE,OAAO,GAAG,QAAQ,CAAC,IAAI;YACjE;YACA,IAAI,CAAC,KAAK,GAAG,iBAAiB,OAAO,IAAI,CAAC,KAAK,GAAG,KAAK;QACzD;IACF;IACA,IAAI,OAAO;QACT,OACE,aAAa;QACb,IAAI,CAAC,iBAAiB,IAAI,CAAC,IAAI,EAAE,IAAI;IAEzC;IACA,IAAI,SAAS;QACX,OAAO,gKAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,IAAM,EAAE,IAAI,KAAK;IACtE;AACF","ignoreList":[0]}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/utils.mjs"],"sourcesContent":["import { ElysiaFile } from \"./universal/file.mjs\";\nconst hasHeaderShorthand = \"toJSON\" in new Headers(), replaceUrlPath = (url, pathname) => {\n  const pathStartIndex = url.indexOf(\"/\", 11), queryIndex = url.indexOf(\"?\", pathStartIndex);\n  return queryIndex === -1 ? `${url.slice(0, pathStartIndex)}${pathname.charCodeAt(0) === 47 ? \"\" : \"/\"}${pathname}` : `${url.slice(0, pathStartIndex)}${pathname.charCodeAt(0) === 47 ? \"\" : \"/\"}${pathname}${url.slice(queryIndex)}`;\n}, isClass = (v) => typeof v == \"function\" && /^\\s*class\\s+/.test(v.toString()) || // Handle Object.create(null)\nv.toString && // Handle import * as Sentry from '@sentry/bun'\n// This also handle [object Date], [object Array]\n// and FFI value like [object Prisma]\nv.toString().startsWith(\"[object \") && v.toString() !== \"[object Object]\" || // If object prototype is not pure, then probably a class-like object\nisNotEmpty(Object.getPrototypeOf(v)), isObject = (item) => item && typeof item == \"object\" && !Array.isArray(item), mergeDeep = (target, source, options) => {\n  const skipKeys = options?.skipKeys, override = options?.override ?? !0, mergeArray = options?.mergeArray ?? !1, seen = options?.seen ?? /* @__PURE__ */ new WeakSet();\n  if (!isObject(target) || !isObject(source) || seen.has(source)) return target;\n  seen.add(source);\n  for (const [key, value] of Object.entries(source))\n    if (!(skipKeys?.includes(key) || [\"__proto__\", \"constructor\", \"prototype\"].includes(key))) {\n      if (mergeArray && Array.isArray(value)) {\n        target[key] = Array.isArray(\n          target[key]\n        ) ? [...target[key], ...value] : target[key] = value;\n        continue;\n      }\n      if (!isObject(value) || !(key in target) || isClass(value)) {\n        if ((override || !(key in target)) && !Object.isFrozen(target))\n          try {\n            target[key] = value;\n          } catch {\n          }\n        continue;\n      }\n      if (!Object.isFrozen(target[key]))\n        try {\n          target[key] = mergeDeep(\n            target[key],\n            value,\n            { skipKeys, override, mergeArray, seen }\n          );\n        } catch {\n        }\n    }\n  return seen.delete(source), target;\n}, mergeCookie = (a, b) => {\n  const v = mergeDeep(Object.assign({}, a), b, {\n    skipKeys: [\"properties\"],\n    mergeArray: !1\n  });\n  return v.properties && delete v.properties, v;\n}, mergeObjectArray = (a, b) => {\n  if (!b) return a;\n  const array = [], checksums = [];\n  if (a) {\n    Array.isArray(a) || (a = [a]);\n    for (const item of a)\n      array.push(item), item.checksum && checksums.push(item.checksum);\n  }\n  if (b) {\n    Array.isArray(b) || (b = [b]);\n    for (const item of b)\n      checksums.includes(item.checksum) || array.push(item);\n  }\n  return array;\n}, primitiveHooks = [\n  \"start\",\n  \"request\",\n  \"parse\",\n  \"transform\",\n  \"resolve\",\n  \"beforeHandle\",\n  \"afterHandle\",\n  \"mapResponse\",\n  \"afterResponse\",\n  \"trace\",\n  \"error\",\n  \"stop\",\n  \"body\",\n  \"headers\",\n  \"params\",\n  \"query\",\n  \"response\",\n  \"type\",\n  \"detail\"\n], primitiveHookMap = primitiveHooks.reduce(\n  (acc, x) => (acc[x] = !0, acc),\n  {}\n), isRecordNumber = (x) => typeof x == \"object\" && Object.keys(x).every((x2) => !isNaN(+x2)), mergeResponse = (a, b) => isRecordNumber(a) && isRecordNumber(b) ? Object.assign({}, a, b) : a && !isRecordNumber(a) && isRecordNumber(b) ? Object.assign({ 200: a }, b) : b ?? a, mergeSchemaValidator = (a, b) => !a && !b ? {\n  body: void 0,\n  headers: void 0,\n  params: void 0,\n  query: void 0,\n  cookie: void 0,\n  response: void 0\n} : {\n  body: b?.body ?? a?.body,\n  headers: b?.headers ?? a?.headers,\n  params: b?.params ?? a?.params,\n  query: b?.query ?? a?.query,\n  cookie: b?.cookie ?? a?.cookie,\n  // @ts-ignore ? This order is correct - SaltyAom\n  response: mergeResponse(\n    // @ts-ignore\n    a?.response,\n    // @ts-ignore\n    b?.response\n  )\n}, mergeHook = (a, b) => {\n  if (!b) return a ?? {};\n  if (!a) return b ?? {};\n  if (!Object.values(b).find((x) => x != null))\n    return { ...a };\n  const hook = {\n    ...a,\n    ...b,\n    // Merge local hook first\n    // @ts-ignore\n    body: b.body ?? a.body,\n    // @ts-ignore\n    headers: b.headers ?? a.headers,\n    // @ts-ignore\n    params: b.params ?? a.params,\n    // @ts-ignore\n    query: b.query ?? a.query,\n    // @ts-ignore\n    cookie: b.cookie ?? a.cookie,\n    // ? This order is correct - SaltyAom\n    response: mergeResponse(\n      // @ts-ignore\n      a.response,\n      // @ts-ignore\n      b.response\n    ),\n    type: a.type || b.type,\n    detail: mergeDeep(\n      // @ts-ignore\n      b.detail ?? {},\n      // @ts-ignore\n      a.detail ?? {}\n    ),\n    parse: mergeObjectArray(a.parse, b.parse),\n    transform: mergeObjectArray(a.transform, b.transform),\n    beforeHandle: mergeObjectArray(\n      mergeObjectArray(\n        // @ts-ignore\n        fnToContainer(a.resolve, \"resolve\"),\n        a.beforeHandle\n      ),\n      mergeObjectArray(\n        fnToContainer(b.resolve, \"resolve\"),\n        b.beforeHandle\n      )\n    ),\n    afterHandle: mergeObjectArray(a.afterHandle, b.afterHandle),\n    mapResponse: mergeObjectArray(a.mapResponse, b.mapResponse),\n    afterResponse: mergeObjectArray(\n      a.afterResponse,\n      b.afterResponse\n    ),\n    trace: mergeObjectArray(a.trace, b.trace),\n    error: mergeObjectArray(a.error, b.error),\n    // @ts-ignore\n    standaloneSchema: (\n      // @ts-ignore\n      a.standaloneSchema || b.standaloneSchema ? (\n        // @ts-ignore\n        a.standaloneSchema && !b.standaloneSchema ? (\n          // @ts-ignore\n          a.standaloneSchema\n        ) : (\n          // @ts-ignore\n          b.standaloneSchema && !a.standaloneSchema ? b.standaloneSchema : [\n            // @ts-ignore\n            ...a.standaloneSchema ?? [],\n            ...b.standaloneSchema ?? []\n          ]\n        )\n      ) : void 0\n    )\n  };\n  return hook.resolve && delete hook.resolve, hook;\n}, lifeCycleToArray = (a) => {\n  a.parse && !Array.isArray(a.parse) && (a.parse = [a.parse]), a.transform && !Array.isArray(a.transform) && (a.transform = [a.transform]), a.afterHandle && !Array.isArray(a.afterHandle) && (a.afterHandle = [a.afterHandle]), a.mapResponse && !Array.isArray(a.mapResponse) && (a.mapResponse = [a.mapResponse]), a.afterResponse && !Array.isArray(a.afterResponse) && (a.afterResponse = [a.afterResponse]), a.trace && !Array.isArray(a.trace) && (a.trace = [a.trace]), a.error && !Array.isArray(a.error) && (a.error = [a.error]);\n  let beforeHandle = [];\n  return a.resolve && (beforeHandle = fnToContainer(\n    // @ts-expect-error\n    Array.isArray(a.resolve) ? a.resolve : [a.resolve],\n    \"resolve\"\n  ), delete a.resolve), a.beforeHandle && (beforeHandle.length ? beforeHandle = beforeHandle.concat(\n    Array.isArray(a.beforeHandle) ? a.beforeHandle : [a.beforeHandle]\n  ) : beforeHandle = Array.isArray(a.beforeHandle) ? a.beforeHandle : [a.beforeHandle]), beforeHandle.length && (a.beforeHandle = beforeHandle), a;\n}, isBun = typeof Bun < \"u\", hasBunHash = isBun && typeof Bun.hash == \"function\", hasSetImmediate = typeof setImmediate == \"function\", checksum = (s) => {\n  let h = 9;\n  for (let i = 0; i < s.length; ) h = Math.imul(h ^ s.charCodeAt(i++), 9 ** 9);\n  return h = h ^ h >>> 9;\n}, injectChecksum = (checksum2, x) => {\n  if (!x) return;\n  if (!Array.isArray(x)) {\n    const fn = x;\n    return checksum2 && !fn.checksum && (fn.checksum = checksum2), fn.scope === \"scoped\" && (fn.scope = \"local\"), fn;\n  }\n  const fns = [...x];\n  for (const fn of fns)\n    checksum2 && !fn.checksum && (fn.checksum = checksum2), fn.scope === \"scoped\" && (fn.scope = \"local\");\n  return fns;\n}, mergeLifeCycle = (a, b, checksum2) => ({\n  start: mergeObjectArray(\n    a.start,\n    injectChecksum(checksum2, b?.start)\n  ),\n  request: mergeObjectArray(\n    a.request,\n    injectChecksum(checksum2, b?.request)\n  ),\n  parse: mergeObjectArray(\n    a.parse,\n    injectChecksum(checksum2, b?.parse)\n  ),\n  transform: mergeObjectArray(\n    a.transform,\n    injectChecksum(checksum2, b?.transform)\n  ),\n  beforeHandle: mergeObjectArray(\n    mergeObjectArray(\n      // @ts-ignore\n      fnToContainer(a.resolve, \"resolve\"),\n      a.beforeHandle\n    ),\n    injectChecksum(\n      checksum2,\n      mergeObjectArray(\n        fnToContainer(b?.resolve, \"resolve\"),\n        b?.beforeHandle\n      )\n    )\n  ),\n  afterHandle: mergeObjectArray(\n    a.afterHandle,\n    injectChecksum(checksum2, b?.afterHandle)\n  ),\n  mapResponse: mergeObjectArray(\n    a.mapResponse,\n    injectChecksum(checksum2, b?.mapResponse)\n  ),\n  afterResponse: mergeObjectArray(\n    a.afterResponse,\n    injectChecksum(checksum2, b?.afterResponse)\n  ),\n  // Already merged on Elysia._use, also logic is more complicated, can't directly merge\n  trace: mergeObjectArray(\n    a.trace,\n    injectChecksum(checksum2, b?.trace)\n  ),\n  error: mergeObjectArray(\n    a.error,\n    injectChecksum(checksum2, b?.error)\n  ),\n  stop: mergeObjectArray(\n    a.stop,\n    injectChecksum(checksum2, b?.stop)\n  )\n}), asHookType = (fn, inject, { skipIfHasType = !1 }) => {\n  if (!fn) return fn;\n  if (!Array.isArray(fn))\n    return skipIfHasType ? fn.scope ??= inject : fn.scope = inject, fn;\n  for (const x of fn)\n    skipIfHasType ? x.scope ??= inject : x.scope = inject;\n  return fn;\n}, filterGlobal = (fn) => {\n  if (!fn) return fn;\n  if (!Array.isArray(fn))\n    switch (fn.scope) {\n      case \"global\":\n      case \"scoped\":\n        return { ...fn };\n      default:\n        return { fn };\n    }\n  const array = [];\n  for (const x of fn)\n    switch (x.scope) {\n      case \"global\":\n      case \"scoped\":\n        array.push({\n          ...x\n        });\n        break;\n    }\n  return array;\n}, filterGlobalHook = (hook) => ({\n  // rest is validator\n  ...hook,\n  type: hook?.type,\n  detail: hook?.detail,\n  parse: filterGlobal(hook?.parse),\n  transform: filterGlobal(hook?.transform),\n  beforeHandle: filterGlobal(hook?.beforeHandle),\n  afterHandle: filterGlobal(hook?.afterHandle),\n  mapResponse: filterGlobal(hook?.mapResponse),\n  afterResponse: filterGlobal(hook?.afterResponse),\n  error: filterGlobal(hook?.error),\n  trace: filterGlobal(hook?.trace)\n}), StatusMap = {\n  Continue: 100,\n  \"Switching Protocols\": 101,\n  Processing: 102,\n  \"Early Hints\": 103,\n  OK: 200,\n  Created: 201,\n  Accepted: 202,\n  \"Non-Authoritative Information\": 203,\n  \"No Content\": 204,\n  \"Reset Content\": 205,\n  \"Partial Content\": 206,\n  \"Multi-Status\": 207,\n  \"Already Reported\": 208,\n  \"Multiple Choices\": 300,\n  \"Moved Permanently\": 301,\n  Found: 302,\n  \"See Other\": 303,\n  \"Not Modified\": 304,\n  \"Temporary Redirect\": 307,\n  \"Permanent Redirect\": 308,\n  \"Bad Request\": 400,\n  Unauthorized: 401,\n  \"Payment Required\": 402,\n  Forbidden: 403,\n  \"Not Found\": 404,\n  \"Method Not Allowed\": 405,\n  \"Not Acceptable\": 406,\n  \"Proxy Authentication Required\": 407,\n  \"Request Timeout\": 408,\n  Conflict: 409,\n  Gone: 410,\n  \"Length Required\": 411,\n  \"Precondition Failed\": 412,\n  \"Payload Too Large\": 413,\n  \"URI Too Long\": 414,\n  \"Unsupported Media Type\": 415,\n  \"Range Not Satisfiable\": 416,\n  \"Expectation Failed\": 417,\n  \"I'm a teapot\": 418,\n  \"Enhance Your Calm\": 420,\n  \"Misdirected Request\": 421,\n  \"Unprocessable Content\": 422,\n  Locked: 423,\n  \"Failed Dependency\": 424,\n  \"Too Early\": 425,\n  \"Upgrade Required\": 426,\n  \"Precondition Required\": 428,\n  \"Too Many Requests\": 429,\n  \"Request Header Fields Too Large\": 431,\n  \"Unavailable For Legal Reasons\": 451,\n  \"Internal Server Error\": 500,\n  \"Not Implemented\": 501,\n  \"Bad Gateway\": 502,\n  \"Service Unavailable\": 503,\n  \"Gateway Timeout\": 504,\n  \"HTTP Version Not Supported\": 505,\n  \"Variant Also Negotiates\": 506,\n  \"Insufficient Storage\": 507,\n  \"Loop Detected\": 508,\n  \"Not Extended\": 510,\n  \"Network Authentication Required\": 511\n}, InvertedStatusMap = Object.fromEntries(\n  Object.entries(StatusMap).map(([k, v]) => [v, k])\n);\nfunction removeTrailingEquals(digest) {\n  let trimmedDigest = digest;\n  for (; trimmedDigest.endsWith(\"=\"); )\n    trimmedDigest = trimmedDigest.slice(0, -1);\n  return trimmedDigest;\n}\nconst encoder = new TextEncoder(), signCookie = async (val, secret) => {\n  if (typeof val == \"object\" ? val = JSON.stringify(val) : typeof val != \"string\" && (val = val + \"\"), secret === null) throw new TypeError(\"Secret key must be provided.\");\n  const secretKey = await crypto.subtle.importKey(\n    \"raw\",\n    encoder.encode(secret),\n    { name: \"HMAC\", hash: \"SHA-256\" },\n    !1,\n    [\"sign\"]\n  ), hmacBuffer = await crypto.subtle.sign(\n    \"HMAC\",\n    secretKey,\n    encoder.encode(val)\n  );\n  return val + \".\" + removeTrailingEquals(Buffer.from(hmacBuffer).toString(\"base64\"));\n}, constantTimeEqual = typeof crypto?.timingSafeEqual == \"function\" ? (a, b) => {\n  const ab = Buffer.from(a, \"utf8\"), bb = Buffer.from(b, \"utf8\");\n  return ab.length !== bb.length ? !1 : crypto.timingSafeEqual(ab, bb);\n} : (a, b) => a === b, unsignCookie = async (input, secret) => {\n  if (typeof input != \"string\")\n    throw new TypeError(\"Signed cookie string must be provided.\");\n  if (secret === null) throw new TypeError(\"Secret key must be provided.\");\n  const dot = input.lastIndexOf(\".\");\n  if (dot <= 0) return !1;\n  const tentativeValue = input.slice(0, dot), expectedInput = await signCookie(tentativeValue, secret);\n  return constantTimeEqual(expectedInput, input) ? tentativeValue : !1;\n}, insertStandaloneValidator = (hook, name, value) => {\n  if (!hook.standaloneValidator?.length || !Array.isArray(hook.standaloneValidator)) {\n    hook.standaloneValidator = [\n      {\n        [name]: value\n      }\n    ];\n    return;\n  }\n  const last = hook.standaloneValidator[hook.standaloneValidator.length - 1];\n  name in last ? hook.standaloneValidator.push({\n    [name]: value\n  }) : last[name] = value;\n}, parseNumericString = (message) => {\n  if (typeof message == \"number\") return message;\n  if (message.length < 16) {\n    if (message.trim().length === 0) return null;\n    const length = Number(message);\n    return Number.isNaN(length) ? null : length;\n  }\n  if (message.length === 16) {\n    if (message.trim().length === 0) return null;\n    const number = Number(message);\n    return Number.isNaN(number) || number.toString() !== message ? null : number;\n  }\n  return null;\n}, isNumericString = (message) => parseNumericString(message) !== null;\nclass PromiseGroup {\n  constructor(onError = console.error, onFinally = () => {\n  }) {\n    this.onError = onError;\n    this.onFinally = onFinally;\n    this.root = null;\n    this.promises = [];\n  }\n  /**\n   * The number of promises still being awaited.\n   */\n  get size() {\n    return this.promises.length;\n  }\n  /**\n   * Add a promise to the group.\n   * @returns The promise that was added.\n   */\n  add(promise) {\n    return this.promises.push(promise), this.root ||= this.drain(), this.promises.length === 1 && this.then(this.onFinally), promise;\n  }\n  async drain() {\n    for (; this.promises.length > 0; ) {\n      try {\n        await this.promises[0];\n      } catch (error) {\n        this.onError(error);\n      }\n      this.promises.shift();\n    }\n    this.root = null;\n  }\n  // Allow the group to be awaited.\n  then(onfulfilled, onrejected) {\n    return (this.root ?? Promise.resolve()).then(onfulfilled, onrejected);\n  }\n}\nconst fnToContainer = (fn, subType) => {\n  if (!fn) return fn;\n  if (!Array.isArray(fn)) {\n    if (typeof fn == \"function\" || typeof fn == \"string\")\n      return subType ? { fn, subType } : { fn };\n    if (\"fn\" in fn) return fn;\n  }\n  const fns = [];\n  for (const x of fn)\n    typeof x == \"function\" || typeof x == \"string\" ? fns.push(subType ? { fn: x, subType } : { fn: x }) : \"fn\" in x && fns.push(x);\n  return fns;\n}, localHookToLifeCycleStore = (a) => (a.start && (a.start = fnToContainer(a.start)), a.request && (a.request = fnToContainer(a.request)), a.parse && (a.parse = fnToContainer(a.parse)), a.transform && (a.transform = fnToContainer(a.transform)), a.beforeHandle && (a.beforeHandle = fnToContainer(a.beforeHandle)), a.afterHandle && (a.afterHandle = fnToContainer(a.afterHandle)), a.mapResponse && (a.mapResponse = fnToContainer(a.mapResponse)), a.afterResponse && (a.afterResponse = fnToContainer(a.afterResponse)), a.trace && (a.trace = fnToContainer(a.trace)), a.error && (a.error = fnToContainer(a.error)), a.stop && (a.stop = fnToContainer(a.stop)), a), lifeCycleToFn = (a) => {\n  const lifecycle = /* @__PURE__ */ Object.create(null);\n  return a.start?.map && (lifecycle.start = a.start.map((x) => x.fn)), a.request?.map && (lifecycle.request = a.request.map((x) => x.fn)), a.parse?.map && (lifecycle.parse = a.parse.map((x) => x.fn)), a.transform?.map && (lifecycle.transform = a.transform.map((x) => x.fn)), a.beforeHandle?.map && (lifecycle.beforeHandle = a.beforeHandle.map((x) => x.fn)), a.afterHandle?.map && (lifecycle.afterHandle = a.afterHandle.map((x) => x.fn)), a.mapResponse?.map && (lifecycle.mapResponse = a.mapResponse.map((x) => x.fn)), a.afterResponse?.map && (lifecycle.afterResponse = a.afterResponse.map((x) => x.fn)), a.error?.map && (lifecycle.error = a.error.map((x) => x.fn)), a.stop?.map && (lifecycle.stop = a.stop.map((x) => x.fn)), a.trace?.map ? lifecycle.trace = a.trace.map((x) => x.fn) : lifecycle.trace = [], lifecycle;\n}, cloneInference = (inference) => ({\n  body: inference.body,\n  cookie: inference.cookie,\n  headers: inference.headers,\n  query: inference.query,\n  set: inference.set,\n  server: inference.server,\n  path: inference.path,\n  route: inference.route,\n  url: inference.url\n}), redirect = (url, status = 302) => Response.redirect(url, status), ELYSIA_FORM_DATA = Symbol(\"ElysiaFormData\"), ELYSIA_REQUEST_ID = Symbol(\"ElysiaRequestId\"), form = (items) => {\n  const formData = new FormData();\n  if (formData[ELYSIA_FORM_DATA] = {}, items)\n    for (const [key, value] of Object.entries(items)) {\n      if (Array.isArray(value)) {\n        formData[ELYSIA_FORM_DATA][key] = [];\n        for (const v of value)\n          value instanceof File ? formData.append(key, value, value.name) : value instanceof ElysiaFile ? formData.append(key, value.value, value.value?.name) : formData.append(key, value), formData[ELYSIA_FORM_DATA][key].push(value);\n        continue;\n      }\n      value instanceof File ? formData.append(key, value, value.name) : value instanceof ElysiaFile ? formData.append(key, value.value, value.value?.name) : formData.append(key, value), formData[ELYSIA_FORM_DATA][key] = value;\n    }\n  return formData;\n}, randomId = typeof crypto > \"u\" ? () => {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\", charactersLength = characters.length;\n  for (let i = 0; i < 16; i++)\n    result += characters.charAt(\n      Math.floor(Math.random() * charactersLength)\n    );\n  return result;\n} : () => {\n  const uuid = crypto.randomUUID();\n  return uuid.slice(0, 8) + uuid.slice(24, 32);\n}, deduplicateChecksum = (array) => {\n  if (!array.length) return [];\n  const hashes = [];\n  for (let i = 0; i < array.length; i++) {\n    const item = array[i];\n    item.checksum && (hashes.includes(item.checksum) && (array.splice(i, 1), i--), hashes.push(item.checksum));\n  }\n  return array;\n}, promoteEvent = (events, as = \"scoped\") => {\n  if (events) {\n    if (as === \"scoped\") {\n      for (const event of events)\n        \"scope\" in event && event.scope === \"local\" && (event.scope = \"scoped\");\n      return;\n    }\n    for (const event of events) \"scope\" in event && (event.scope = \"global\");\n  }\n}, getLoosePath = (path) => path.charCodeAt(path.length - 1) === 47 ? path.slice(0, path.length - 1) : path + \"/\", isNotEmpty = (obj) => {\n  if (!obj) return !1;\n  for (const _ in obj) return !0;\n  return !1;\n}, encodePath = (path, { dynamic = !1 } = {}) => {\n  let encoded = encodeURIComponent(path).replace(/%2F/g, \"/\");\n  return dynamic && (encoded = encoded.replace(/%3A/g, \":\").replace(/%3F/g, \"?\")), encoded;\n}, supportPerMethodInlineHandler = !!(typeof Bun > \"u\" || Bun.semver?.satisfies?.(Bun.version, \">=1.2.14\")), sse = (_payload) => {\n  if (_payload instanceof ReadableStream)\n    return _payload.sse = !0, _payload;\n  const payload = typeof _payload == \"string\" ? { data: _payload } : _payload;\n  return payload.sse = !0, payload.toSSE = () => {\n    let payloadString = \"\";\n    return payload.id !== void 0 && payload.id !== null && (payloadString += `id: ${payload.id}\n`), payload.event && (payloadString += `event: ${payload.event}\n`), payload.retry !== void 0 && (payloadString += `retry: ${payload.retry}\n`), payload.data === null ? payloadString += `data: null\n` : typeof payload.data == \"string\" ? payloadString += `data: ${payload.data}\n` : typeof payload.data == \"object\" && (payloadString += `data: ${JSON.stringify(payload.data)}\n`), payloadString && (payloadString += `\n`), payloadString;\n  }, payload;\n};\nasync function getResponseLength(response) {\n  if (response.bodyUsed || !response.body) return 0;\n  let length = 0;\n  const reader = response.body.getReader();\n  for (; ; ) {\n    const { done, value } = await reader.read();\n    if (done) break;\n    length += value.byteLength;\n  }\n  return length;\n}\nconst emptySchema = {\n  headers: !0,\n  cookie: !0,\n  query: !0,\n  params: !0,\n  body: !0,\n  response: !0\n};\nfunction deepClone(source, weak = /* @__PURE__ */ new WeakMap()) {\n  if (source === null || typeof source != \"object\" || typeof source == \"function\")\n    return source;\n  if (weak.has(source)) return weak.get(source);\n  if (Array.isArray(source)) {\n    const copy = new Array(source.length);\n    weak.set(source, copy);\n    for (let i = 0; i < source.length; i++)\n      copy[i] = deepClone(source[i], weak);\n    return copy;\n  }\n  if (typeof source == \"object\") {\n    const keys = Object.keys(source).concat(\n      Object.getOwnPropertySymbols(source)\n    ), cloned = {};\n    weak.set(source, cloned);\n    for (const key of keys)\n      cloned[key] = deepClone(source[key], weak);\n    return cloned;\n  }\n  return source;\n}\nexport {\n  ELYSIA_FORM_DATA,\n  ELYSIA_REQUEST_ID,\n  InvertedStatusMap,\n  PromiseGroup,\n  StatusMap,\n  asHookType,\n  checksum,\n  cloneInference,\n  deduplicateChecksum,\n  deepClone,\n  emptySchema,\n  encodePath,\n  filterGlobalHook,\n  fnToContainer,\n  form,\n  getLoosePath,\n  getResponseLength,\n  hasHeaderShorthand,\n  hasSetImmediate,\n  injectChecksum,\n  insertStandaloneValidator,\n  isClass,\n  isNotEmpty,\n  isNumericString,\n  lifeCycleToArray,\n  lifeCycleToFn,\n  localHookToLifeCycleStore,\n  mergeCookie,\n  mergeDeep,\n  mergeHook,\n  mergeLifeCycle,\n  mergeObjectArray,\n  mergeResponse,\n  mergeSchemaValidator,\n  primitiveHooks,\n  promoteEvent,\n  randomId,\n  redirect,\n  replaceUrlPath,\n  signCookie,\n  sse,\n  supportPerMethodInlineHandler,\n  unsignCookie\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 775, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/error.mjs"],"sourcesContent":["import { Value } from \"@sinclair/typebox/value\";\nimport { StatusMap, InvertedStatusMap } from \"./utils.mjs\";\nconst env = typeof Bun < \"u\" ? Bun.env : typeof process < \"u\" ? process?.env : void 0, ERROR_CODE = Symbol(\"ElysiaErrorCode\"), isProduction = (env?.NODE_ENV ?? env?.ENV) === \"production\", emptyHttpStatus = {\n  101: void 0,\n  204: void 0,\n  205: void 0,\n  304: void 0,\n  307: void 0,\n  308: void 0\n};\nclass ElysiaCustomStatusResponse {\n  constructor(code, response) {\n    const res = response ?? (code in InvertedStatusMap ? (\n      // @ts-expect-error Always correct\n      InvertedStatusMap[code]\n    ) : code);\n    this.code = StatusMap[code] ?? code, code in emptyHttpStatus ? this.response = void 0 : this.response = res;\n  }\n}\nconst status = (code, response) => new ElysiaCustomStatusResponse(code, response);\nclass InternalServerError extends Error {\n  constructor(message) {\n    super(message ?? \"INTERNAL_SERVER_ERROR\");\n    this.code = \"INTERNAL_SERVER_ERROR\";\n    this.status = 500;\n  }\n}\nclass NotFoundError extends Error {\n  constructor(message) {\n    super(message ?? \"NOT_FOUND\");\n    this.code = \"NOT_FOUND\";\n    this.status = 404;\n  }\n}\nclass ParseError extends Error {\n  constructor(cause) {\n    super(\"Bad Request\", {\n      cause\n    });\n    this.code = \"PARSE\";\n    this.status = 400;\n  }\n}\nclass InvalidCookieSignature extends Error {\n  constructor(key, message) {\n    super(message ?? `\"${key}\" has invalid cookie signature`);\n    this.key = key;\n    this.code = \"INVALID_COOKIE_SIGNATURE\";\n    this.status = 400;\n  }\n}\nconst mapValueError = (error) => {\n  if (!error) return error;\n  let { message, path, value, type } = error;\n  Array.isArray(path) && (path = path[0]);\n  const property = typeof path == \"string\" ? path.slice(1).replaceAll(\"/\", \".\") : \"unknown\", isRoot = path === \"\";\n  switch (type) {\n    case 42:\n      return {\n        ...error,\n        summary: isRoot ? \"Value should not be provided\" : `Property '${property}' should not be provided`\n      };\n    case 45:\n      return {\n        ...error,\n        summary: isRoot ? \"Value is missing\" : `Property '${property}' is missing`\n      };\n    case 50:\n      const quoteIndex = message.indexOf(\"'\"), format = message.slice(\n        quoteIndex + 1,\n        message.indexOf(\"'\", quoteIndex + 1)\n      );\n      return {\n        ...error,\n        summary: isRoot ? \"Value should be an email\" : `Property '${property}' should be ${format}`\n      };\n    case 54:\n      return {\n        ...error,\n        summary: `${message.slice(0, 9).trim()} property '${property}' to be ${message.slice(8).trim()} but found: ${value}`\n      };\n    case 62:\n      const union = error.schema.anyOf.map((x) => `'${x?.format ?? x.type}'`).join(\", \");\n      return {\n        ...error,\n        summary: isRoot ? `Value should be one of ${union}` : `Property '${property}' should be one of: ${union}`\n      };\n    default:\n      return { summary: message, ...error };\n  }\n};\nclass InvalidFileType extends Error {\n  constructor(property, expected, message = `\"${property}\" has invalid file type`) {\n    super(message);\n    this.property = property;\n    this.expected = expected;\n    this.message = message;\n    this.code = \"INVALID_FILE_TYPE\";\n    this.status = 422;\n    Object.setPrototypeOf(this, InvalidFileType.prototype);\n  }\n  toResponse(headers) {\n    return isProduction ? new Response(\n      JSON.stringify({\n        type: \"validation\",\n        on: \"body\"\n      }),\n      {\n        status: 422,\n        headers: {\n          ...headers,\n          \"content-type\": \"application/json\"\n        }\n      }\n    ) : new Response(\n      JSON.stringify({\n        type: \"validation\",\n        on: \"body\",\n        summary: \"Invalid file type\",\n        message: this.message,\n        property: this.property,\n        expected: this.expected\n      }),\n      {\n        status: 422,\n        headers: {\n          ...headers,\n          \"content-type\": \"application/json\"\n        }\n      }\n    );\n  }\n}\nclass ValidationError extends Error {\n  constructor(type, validator, value, allowUnsafeValidationDetails = !1, errors) {\n    let message = \"\", error, expected, customError;\n    if (\n      // @ts-ignore\n      validator?.provider === \"standard\" || \"~standard\" in validator || // @ts-ignore\n      validator.schema && \"~standard\" in validator.schema\n    ) {\n      const standard = (\n        // @ts-ignore\n        (\"~standard\" in validator ? validator : validator.schema)[\"~standard\"]\n      );\n      error = (errors ?? standard.validate(value).issues)?.[0], isProduction && !allowUnsafeValidationDetails ? message = JSON.stringify({\n        type: \"validation\",\n        on: type,\n        found: value\n      }) : message = JSON.stringify(\n        {\n          type: \"validation\",\n          on: type,\n          property: error.path?.[0] || \"root\",\n          message: error?.message,\n          summary: error?.problem,\n          expected,\n          found: value,\n          errors\n        },\n        null,\n        2\n      ), customError = error?.message;\n    } else {\n      value && typeof value == \"object\" && value instanceof ElysiaCustomStatusResponse && (value = value.response), error = errors?.First() ?? (\"Errors\" in validator ? validator.Errors(value).First() : Value.Errors(validator, value).First());\n      const accessor = error?.path || \"root\", schema = validator?.schema ?? validator;\n      if (!isProduction && !allowUnsafeValidationDetails)\n        try {\n          expected = Value.Create(schema);\n        } catch (error2) {\n          expected = {\n            type: \"Could not create expected value\",\n            // @ts-expect-error\n            message: error2?.message,\n            error: error2\n          };\n        }\n      customError = error?.schema?.message || error?.schema?.error !== void 0 ? typeof error.schema.error == \"function\" ? error.schema.error(\n        isProduction && !allowUnsafeValidationDetails ? {\n          type: \"validation\",\n          on: type,\n          found: value\n        } : {\n          type: \"validation\",\n          on: type,\n          value,\n          property: accessor,\n          message: error?.message,\n          summary: mapValueError(error).summary,\n          found: value,\n          expected,\n          errors: \"Errors\" in validator ? [\n            ...validator.Errors(\n              value\n            )\n          ].map(mapValueError) : [\n            ...Value.Errors(\n              validator,\n              value\n            )\n          ].map(mapValueError)\n        },\n        validator\n      ) : error.schema.error : void 0, customError !== void 0 ? message = typeof customError == \"object\" ? JSON.stringify(customError) : customError + \"\" : isProduction && !allowUnsafeValidationDetails ? message = JSON.stringify({\n        type: \"validation\",\n        on: type,\n        found: value\n      }) : message = JSON.stringify(\n        {\n          type: \"validation\",\n          on: type,\n          property: accessor,\n          message: error?.message,\n          summary: mapValueError(error).summary,\n          expected,\n          found: value,\n          errors: \"Errors\" in validator ? [...validator.Errors(value)].map(\n            mapValueError\n          ) : [...Value.Errors(validator, value)].map(\n            mapValueError\n          )\n        },\n        null,\n        2\n      );\n    }\n    super(message);\n    this.type = type;\n    this.validator = validator;\n    this.value = value;\n    this.allowUnsafeValidationDetails = allowUnsafeValidationDetails;\n    this.code = \"VALIDATION\";\n    this.status = 422;\n    this.valueError = error, this.expected = expected, this.customError = customError, Object.setPrototypeOf(this, ValidationError.prototype);\n  }\n  /**\n   * Alias of `valueError`\n   */\n  get messageValue() {\n    return this.valueError;\n  }\n  get all() {\n    return (\n      // @ts-ignore\n      this.validator?.provider === \"standard\" || \"~standard\" in this.validator || // @ts-ignore\n      \"schema\" in this.validator && // @ts-ignore\n      this.validator.schema && // @ts-ignore\n      \"~standard\" in this.validator.schema ? /* @ts-ignore */ (\"~standard\" in this.validator ? this.validator : (\n        // @ts-ignore\n        this.validator.schema\n      ))[\"~standard\"].validate(this.value).issues?.map((issue) => ({\n        summary: issue.message,\n        path: issue.path?.join(\".\") || \"root\",\n        message: issue.message,\n        value: this.value\n      })) || [] : \"Errors\" in this.validator ? [...this.validator.Errors(this.value)].map(mapValueError) : (\n        // @ts-ignore\n        [...Value.Errors(this.validator, this.value)].map(mapValueError)\n      )\n    );\n  }\n  static simplifyModel(validator) {\n    const model = \"schema\" in validator ? validator.schema : validator;\n    try {\n      return Value.Create(model);\n    } catch {\n      return model;\n    }\n  }\n  get model() {\n    return \"~standard\" in this.validator ? this.validator : ValidationError.simplifyModel(this.validator);\n  }\n  toResponse(headers) {\n    return new Response(this.message, {\n      status: 400,\n      headers: {\n        ...headers,\n        \"content-type\": \"application/json\"\n      }\n    });\n  }\n  /**\n   * Utility function to inherit add custom error and keep the original Validation error\n   *\n   * @since 1.3.14\n   *\n   * @example\n   * ```ts\n   * new Elysia()\n   *\t\t.onError(({ error, code }) => {\n   *\t\t\tif (code === 'VALIDATION') return error.detail(error.message)\n   *\t\t})\n   *\t\t.post('/', () => 'Hello World!', {\n   *\t\t\tbody: t.Object({\n   *\t\t\t\tx: t.Number({\n   *\t\t\t\t\terror: 'x must be a number'\n   *\t\t\t\t})\n   *\t\t\t})\n   *\t\t})\n   * ```\n   */\n  detail(message, allowUnsafeValidatorDetails = this.allowUnsafeValidationDetails) {\n    if (!this.customError) return this.message;\n    const value = this.value, expected = this.expected, errors = this.all;\n    return isProduction && !allowUnsafeValidatorDetails ? {\n      type: \"validation\",\n      on: this.type,\n      found: value,\n      message\n    } : {\n      type: \"validation\",\n      on: this.type,\n      property: this.valueError?.path || \"root\",\n      message,\n      summary: this.valueError ? mapValueError(this.valueError).summary : void 0,\n      found: value,\n      expected,\n      errors\n    };\n  }\n}\nexport {\n  ERROR_CODE,\n  ElysiaCustomStatusResponse,\n  InternalServerError,\n  InvalidCookieSignature,\n  InvalidFileType,\n  NotFoundError,\n  ParseError,\n  ValidationError,\n  isProduction,\n  mapValueError,\n  status\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1094, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/type-system/utils.mjs"],"sourcesContent":["import {\n  Kind,\n  TypeRegistry,\n  Unsafe\n} from \"@sinclair/typebox\";\nimport { Value } from \"@sinclair/typebox/value\";\nimport { TypeCompiler } from \"@sinclair/typebox/compiler\";\nimport { ElysiaFile } from \"../universal/file.mjs\";\nimport { InvalidFileType, ValidationError } from \"../error.mjs\";\nconst tryParse = (v, schema) => {\n  try {\n    return JSON.parse(v);\n  } catch {\n    throw new ValidationError(\"property\", schema, v);\n  }\n};\nfunction createType(kind, func) {\n  return TypeRegistry.Has(kind) || TypeRegistry.Set(kind, func), (options = {}) => Unsafe({ ...options, [Kind]: kind });\n}\nconst compile = (schema) => {\n  try {\n    const compiler = TypeCompiler.Compile(schema);\n    return compiler.Create = () => Value.Create(schema), compiler.Error = (v) => (\n      // @ts-ignore\n      new ValidationError(\"property\", schema, v, compiler.Errors(v))\n    ), compiler;\n  } catch {\n    return {\n      Check: (v) => Value.Check(schema, v),\n      CheckThrow: (v) => {\n        if (!Value.Check(schema, v))\n          throw new ValidationError(\n            \"property\",\n            schema,\n            v,\n            // @ts-ignore\n            Value.Errors(schema, v)\n          );\n      },\n      Decode: (v) => Value.Decode(schema, v),\n      Create: () => Value.Create(schema),\n      Error: (v) => new ValidationError(\n        \"property\",\n        schema,\n        v,\n        // @ts-ignore\n        Value.Errors(schema, v)\n      )\n    };\n  }\n}, parseFileUnit = (size) => {\n  if (typeof size == \"string\")\n    switch (size.slice(-1)) {\n      case \"k\":\n        return +size.slice(0, size.length - 1) * 1024;\n      case \"m\":\n        return +size.slice(0, size.length - 1) * 1048576;\n      default:\n        return +size;\n    }\n  return size;\n}, checkFileExtension = (type, extension) => type.startsWith(extension) ? !0 : extension.charCodeAt(extension.length - 1) === 42 && extension.charCodeAt(extension.length - 2) === 47 && type.startsWith(extension.slice(0, -1));\nlet _fileTypeFromBlobWarn = !1;\nconst warnIfFileTypeIsNotInstalled = () => {\n  _fileTypeFromBlobWarn || (console.warn(\n    \"[Elysia] Attempt to validate file type without 'file-type'. This may lead to security risks. We recommend installing 'file-type' to properly validate file extension.\"\n  ), _fileTypeFromBlobWarn = !0);\n}, loadFileType = async () => import(\"file-type\").then((x) => (_fileTypeFromBlob = x.fileTypeFromBlob, _fileTypeFromBlob)).catch(warnIfFileTypeIsNotInstalled);\nlet _fileTypeFromBlob;\nconst fileTypeFromBlob = (file) => _fileTypeFromBlob ? _fileTypeFromBlob(file) : loadFileType().then((mod) => {\n  if (mod) return mod(file);\n}), fileType = async (file, extension, name = file?.name ?? \"\") => {\n  if (Array.isArray(file))\n    return await Promise.all(file.map((f) => fileType(f, extension, name))), !0;\n  if (!file) return !1;\n  const result = await fileTypeFromBlob(file);\n  if (!result) throw new InvalidFileType(name, extension);\n  if (typeof extension == \"string\" && !checkFileExtension(result.mime, extension))\n    throw new InvalidFileType(name, extension);\n  for (let i = 0; i < extension.length; i++)\n    if (checkFileExtension(result.mime, extension[i])) return !0;\n  throw new InvalidFileType(name, extension);\n}, validateFile = (options, value) => {\n  if (value instanceof ElysiaFile) return !0;\n  if (!(value instanceof Blob) || options.minSize && value.size < parseFileUnit(options.minSize) || options.maxSize && value.size > parseFileUnit(options.maxSize))\n    return !1;\n  if (options.extension) {\n    if (typeof options.extension == \"string\")\n      return checkFileExtension(value.type, options.extension);\n    for (let i = 0; i < options.extension.length; i++)\n      if (checkFileExtension(value.type, options.extension[i]))\n        return !0;\n    return !1;\n  }\n  return !0;\n}, validationDetail = (message) => (error) => ({\n  ...error,\n  message\n});\nexport {\n  checkFileExtension,\n  compile,\n  createType,\n  fileType,\n  fileTypeFromBlob,\n  loadFileType,\n  parseFileUnit,\n  tryParse,\n  validateFile,\n  validationDetail\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1203, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/type-system/format.mjs"],"sourcesContent":["import { FormatRegistry } from \"@sinclair/typebox\";\nconst fullFormats = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: getTime(!0),\n  \"date-time\": getDateTime(!0),\n  \"iso-time\": getTime(!1),\n  \"iso-date-time\": getDateTime(!1),\n  // duration: https://tools.ietf.org/html/rfc3339#appendix-A\n  duration: /^P(?!$)((\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+S)?)?|(\\d+W)?)$/,\n  uri,\n  \"uri-reference\": /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,\n  // uri-template: https://tools.ietf.org/html/rfc6570\n  \"uri-template\": /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,\n  // For the source: https://gist.github.com/dperini/729294\n  // For test cases: https://mathiasbynens.be/demo/url-regex\n  url: /^(?:https?|ftp):\\/\\/(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)(?:\\.(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu,\n  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)$/,\n  ipv6: /^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))$/i,\n  regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  \"json-pointer\": /^(?:\\/(?:[^~/]|~0|~1)*)*$/,\n  \"json-pointer-uri-fragment\": /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  \"relative-json-pointer\": /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/,\n  // the following formats are used by the openapi specification: https://spec.openapis.org/oas/v3.0.0#data-types\n  // byte: https://github.com/miguelmota/is-base64\n  byte,\n  // signed 32 bit integer\n  int32: { type: \"number\", validate: validateInt32 },\n  // signed 64 bit integer\n  int64: { type: \"number\", validate: validateInt64 },\n  // C-type float\n  float: { type: \"number\", validate: validateNumber },\n  // C-type double\n  double: { type: \"number\", validate: validateNumber },\n  // hint to the UI to hide input strings\n  password: !0,\n  // unchecked string payload\n  binary: !0\n};\nfunction isLeapYear(year) {\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\nconst DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/, DAYS = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nfunction date(str) {\n  const matches = DATE.exec(str);\n  if (!matches) return !1;\n  const year = +matches[1], month = +matches[2], day = +matches[3];\n  return month >= 1 && month <= 12 && day >= 1 && day <= (month === 2 && isLeapYear(year) ? 29 : DAYS[month]);\n}\nconst TIME = /^(\\d\\d):(\\d\\d):(\\d\\d(?:\\.\\d+)?)(z|([+-])(\\d\\d)(?::?(\\d\\d))?)?$/i;\nfunction getTime(strictTimeZone) {\n  return function(str) {\n    const matches = TIME.exec(str);\n    if (!matches) return !1;\n    const hr = +matches[1], min = +matches[2], sec = +matches[3], tz = matches[4], tzSign = matches[5] === \"-\" ? -1 : 1, tzH = +(matches[6] || 0), tzM = +(matches[7] || 0);\n    if (tzH > 23 || tzM > 59 || strictTimeZone && !tz) return !1;\n    if (hr <= 23 && min <= 59 && sec < 60) return !0;\n    const utcMin = min - tzM * tzSign, utcHr = hr - tzH * tzSign - (utcMin < 0 ? 1 : 0);\n    return (utcHr === 23 || utcHr === -1) && (utcMin === 59 || utcMin === -1) && sec < 61;\n  };\n}\nconst parseDateTimeEmptySpace = (str) => str.charCodeAt(str.length - 6) === 32 ? str.slice(0, -6) + \"+\" + str.slice(-5) : str, DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction getDateTime(strictTimeZone) {\n  const time = getTime(strictTimeZone);\n  return function(str) {\n    const dateTime = str.split(DATE_TIME_SEPARATOR);\n    return dateTime.length === 2 && date(dateTime[0]) && time(dateTime[1]);\n  };\n}\nconst NOT_URI_FRAGMENT = /\\/|:/, URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nfunction uri(str) {\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\nconst BYTE = /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;\nfunction byte(str) {\n  return BYTE.lastIndex = 0, BYTE.test(str);\n}\nconst MIN_INT32 = -(2 ** 31), MAX_INT32 = 2 ** 31 - 1;\nfunction validateInt32(value) {\n  return Number.isInteger(value) && value <= MAX_INT32 && value >= MIN_INT32;\n}\nfunction validateInt64(value) {\n  return Number.isInteger(value);\n}\nfunction validateNumber() {\n  return !0;\n}\nconst Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return !1;\n  try {\n    return new RegExp(str), !0;\n  } catch {\n    return !1;\n  }\n}\n/**\n * @license\n *\n * MIT License\n *\n * Copyright (c) 2020 Evgeny Poberezkin\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nconst isISO8601 = /(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))/, isFormalDate = /(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)\\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s\\d{2}\\s\\d{4}\\s\\d{2}:\\d{2}:\\d{2}\\sGMT(?:\\+|-)\\d{4}\\s\\([^)]+\\)/, isShortenDate = /^(?:(?:(?:(?:0?[1-9]|[12][0-9]|3[01])[/\\s-](?:0?[1-9]|1[0-2])[/\\s-](?:19|20)\\d{2})|(?:(?:19|20)\\d{2}[/\\s-](?:0?[1-9]|1[0-2])[/\\s-](?:0?[1-9]|[12][0-9]|3[01]))))(?:\\s(?:1[012]|0?[1-9]):[0-5][0-9](?::[0-5][0-9])?(?:\\s[AP]M)?)?$/, _validateDate = fullFormats.date, _validateDateTime = fullFormats[\"date-time\"];\nFormatRegistry.Has(\"date\") || FormatRegistry.Set(\"date\", (value) => {\n  const temp = parseDateTimeEmptySpace(value).replace(/\"/g, \"\");\n  if (isISO8601.test(temp) || isFormalDate.test(temp) || isShortenDate.test(temp) || _validateDate(temp)) {\n    const date2 = new Date(temp);\n    if (!Number.isNaN(date2.getTime())) return !0;\n  }\n  return !1;\n}), FormatRegistry.Has(\"date-time\") || FormatRegistry.Set(\"date-time\", (value) => {\n  const temp = value.replace(/\"/g, \"\");\n  if (isISO8601.test(temp) || isFormalDate.test(temp) || isShortenDate.test(temp) || _validateDateTime(temp)) {\n    const date2 = new Date(temp);\n    if (!Number.isNaN(date2.getTime())) return !0;\n  }\n  return !1;\n}), Object.entries(fullFormats).forEach((formatEntry) => {\n  const [formatName, formatValue] = formatEntry;\n  FormatRegistry.Has(formatName) || (formatValue instanceof RegExp ? FormatRegistry.Set(formatName, (value) => formatValue.test(value)) : typeof formatValue == \"function\" && FormatRegistry.Set(formatName, formatValue));\n}), FormatRegistry.Has(\"numeric\") || FormatRegistry.Set(\"numeric\", (value) => !!value && !isNaN(+value)), FormatRegistry.Has(\"integer\") || FormatRegistry.Set(\n  \"integer\",\n  (value) => !!value && Number.isInteger(+value)\n), FormatRegistry.Has(\"boolean\") || FormatRegistry.Set(\n  \"boolean\",\n  (value) => value === \"true\" || value === \"false\"\n), FormatRegistry.Has(\"ObjectString\") || FormatRegistry.Set(\"ObjectString\", (value) => {\n  let start = value.charCodeAt(0);\n  if ((start === 9 || start === 10 || start === 32) && (start = value.trimStart().charCodeAt(0)), start !== 123 && start !== 91) return !1;\n  try {\n    return JSON.parse(value), !0;\n  } catch {\n    return !1;\n  }\n}), FormatRegistry.Has(\"ArrayString\") || FormatRegistry.Set(\"ArrayString\", (value) => {\n  let start = value.charCodeAt(0);\n  if ((start === 9 || start === 10 || start === 32) && (start = value.trimStart().charCodeAt(0)), start !== 123 && start !== 91) return !1;\n  try {\n    return JSON.parse(value), !0;\n  } catch {\n    return !1;\n  }\n});\nexport {\n  fullFormats,\n  parseDateTimeEmptySpace\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1405, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/type-system/index.mjs"],"sourcesContent":["import { Type, Kind } from \"@sinclair/typebox\";\nimport {\n  compile,\n  createType,\n  loadFileType,\n  tryParse,\n  validateFile\n} from \"./utils.mjs\";\nimport { ELYSIA_FORM_DATA, form } from \"../utils.mjs\";\nimport { ValidationError } from \"../error.mjs\";\nimport { parseDateTimeEmptySpace } from \"./format.mjs\";\nconst t = Object.assign({}, Type);\ncreateType(\n  \"UnionEnum\",\n  (schema, value) => (typeof value == \"number\" || typeof value == \"string\" || value === null) && schema.enum.includes(value)\n), createType(\n  \"ArrayBuffer\",\n  (schema, value) => value instanceof ArrayBuffer\n);\nconst internalFiles = createType(\n  \"Files\",\n  (options, value) => {\n    if (options.minItems && options.minItems > 1 && !Array.isArray(value))\n      return !1;\n    if (!Array.isArray(value)) return validateFile(options, value);\n    if (options.minItems && value.length < options.minItems || options.maxItems && value.length > options.maxItems) return !1;\n    for (let i = 0; i < value.length; i++)\n      if (!validateFile(options, value[i])) return !1;\n    return !0;\n  }\n), internalFormData = createType(\n  \"ElysiaForm\",\n  ({ compiler, ...schema }, value) => {\n    if (!(value instanceof FormData)) return !1;\n    if (compiler) {\n      if (!(ELYSIA_FORM_DATA in value))\n        throw new ValidationError(\"property\", schema, value);\n      if (!compiler.Check(value[ELYSIA_FORM_DATA]))\n        throw compiler.Error(value[ELYSIA_FORM_DATA]);\n    }\n    return !0;\n  }\n), ElysiaType = {\n  // @ts-ignore\n  String: (property) => Type.String(property),\n  Numeric: (property) => {\n    const schema = Type.Number(property), compiler = compile(schema);\n    return t.Transform(\n      t.Union(\n        [\n          t.String({\n            format: \"numeric\",\n            default: 0\n          }),\n          t.Number(property)\n        ],\n        property\n      )\n    ).Decode((value) => {\n      const number = +value;\n      if (isNaN(number)) return value;\n      if (property && !compiler.Check(number))\n        throw compiler.Error(number);\n      return number;\n    }).Encode((value) => value);\n  },\n  NumericEnum(item, property) {\n    const schema = Type.Enum(item, property), compiler = compile(schema);\n    return t.Transform(\n      t.Union([t.String({ format: \"numeric\" }), t.Number()], property)\n    ).Decode((value) => {\n      const number = +value;\n      if (isNaN(number) || !compiler.Check(number)) throw compiler.Error(number);\n      return number;\n    }).Encode((value) => value);\n  },\n  Integer: (property) => {\n    const schema = Type.Integer(property), compiler = compile(schema);\n    return t.Transform(\n      t.Union(\n        [\n          t.String({\n            format: \"integer\",\n            default: 0\n          }),\n          Type.Integer(property)\n        ],\n        property\n      )\n    ).Decode((value) => {\n      const number = +value;\n      if (!compiler.Check(number)) throw compiler.Error(number);\n      return number;\n    }).Encode((value) => value);\n  },\n  Date: (property) => {\n    const schema = Type.Date(property), compiler = compile(schema), _default = property?.default ? new Date(property.default) : void 0;\n    return t.Transform(\n      t.Union(\n        [\n          Type.Date(property),\n          t.String({\n            format: \"date-time\",\n            default: _default?.toISOString()\n          }),\n          t.String({\n            format: \"date\",\n            default: _default?.toISOString()\n          }),\n          t.Number({ default: _default?.getTime() })\n        ],\n        property\n      )\n    ).Decode((value) => {\n      if (typeof value == \"number\") {\n        const date2 = new Date(value);\n        if (!compiler.Check(date2)) throw compiler.Error(date2);\n        return date2;\n      }\n      if (value instanceof Date) return value;\n      const date = new Date(parseDateTimeEmptySpace(value));\n      if (!date || isNaN(date.getTime()))\n        throw new ValidationError(\"property\", schema, date);\n      if (!compiler.Check(date)) throw compiler.Error(date);\n      return date;\n    }).Encode((value) => {\n      if (value instanceof Date) return value.toISOString();\n      if (typeof value == \"string\") {\n        const parsed = new Date(parseDateTimeEmptySpace(value));\n        if (isNaN(parsed.getTime()))\n          throw new ValidationError(\"property\", schema, value);\n        return parsed.toISOString();\n      }\n      if (!compiler.Check(value)) throw compiler.Error(value);\n      return value;\n    });\n  },\n  BooleanString: (property) => {\n    const schema = Type.Boolean(property), compiler = compile(schema);\n    return t.Transform(\n      t.Union(\n        [\n          t.Boolean(property),\n          t.String({\n            format: \"boolean\",\n            default: !1\n          })\n        ],\n        property\n      )\n    ).Decode((value) => {\n      if (typeof value == \"string\") return value === \"true\";\n      if (value !== void 0 && !compiler.Check(value))\n        throw compiler.Error(value);\n      return value;\n    }).Encode((value) => value);\n  },\n  ObjectString: (properties, options) => {\n    const schema = t.Object(properties, options), compiler = compile(schema);\n    return t.Transform(\n      t.Union(\n        [\n          t.String({\n            format: \"ObjectString\",\n            default: options?.default\n          }),\n          schema\n        ],\n        {\n          elysiaMeta: \"ObjectString\"\n        }\n      )\n    ).Decode((value) => {\n      if (typeof value == \"string\") {\n        if (value.charCodeAt(0) !== 123)\n          throw new ValidationError(\"property\", schema, value);\n        if (!compiler.Check(value = tryParse(value, schema)))\n          throw compiler.Error(value);\n        return compiler.Decode(value);\n      }\n      return value;\n    }).Encode((value) => {\n      let original;\n      if (typeof value == \"string\" && (value = tryParse(original = value, schema)), !compiler.Check(value)) throw compiler.Error(value);\n      return original ?? JSON.stringify(value);\n    });\n  },\n  ArrayString: (children = t.String(), options) => {\n    const schema = t.Array(children, options), compiler = compile(schema), decode = (value, isProperty = !1) => {\n      if (value.charCodeAt(0) === 91) {\n        if (!compiler.Check(value = tryParse(value, schema)))\n          throw compiler.Error(value);\n        return compiler.Decode(value);\n      }\n      if (isProperty) return value;\n      throw new ValidationError(\"property\", schema, value);\n    };\n    return t.Transform(\n      t.Union(\n        [\n          t.String({\n            format: \"ArrayString\",\n            default: options?.default\n          }),\n          schema\n        ],\n        {\n          elysiaMeta: \"ArrayString\"\n        }\n      )\n    ).Decode((value) => {\n      if (Array.isArray(value)) {\n        let values = [];\n        for (let i = 0; i < value.length; i++) {\n          const v = value[i];\n          if (typeof v == \"string\") {\n            const t2 = decode(v, !0);\n            Array.isArray(t2) ? values = values.concat(t2) : values.push(t2);\n            continue;\n          }\n          values.push(v);\n        }\n        return values;\n      }\n      return typeof value == \"string\" ? decode(value) : value;\n    }).Encode((value) => {\n      let original;\n      if (typeof value == \"string\" && (value = tryParse(original = value, schema)), !compiler.Check(value))\n        throw new ValidationError(\"property\", schema, value);\n      return original ?? JSON.stringify(value);\n    });\n  },\n  ArrayQuery: (children = t.String(), options) => {\n    const schema = t.Array(children, options), compiler = compile(schema), decode = (value) => value.indexOf(\",\") !== -1 ? compiler.Decode(value.split(\",\")) : compiler.Decode([value]);\n    return t.Transform(\n      t.Union(\n        [\n          t.String({\n            default: options?.default\n          }),\n          schema\n        ],\n        {\n          elysiaMeta: \"ArrayQuery\"\n        }\n      )\n    ).Decode((value) => {\n      if (Array.isArray(value)) {\n        let values = [];\n        for (let i = 0; i < value.length; i++) {\n          const v = value[i];\n          if (typeof v == \"string\") {\n            const t2 = decode(v);\n            Array.isArray(t2) ? values = values.concat(t2) : values.push(t2);\n            continue;\n          }\n          values.push(v);\n        }\n        return values;\n      }\n      return typeof value == \"string\" ? decode(value) : value;\n    }).Encode((value) => {\n      let original;\n      if (typeof value == \"string\" && (value = tryParse(original = value, schema)), !compiler.Check(value))\n        throw new ValidationError(\"property\", schema, value);\n      return original ?? JSON.stringify(value);\n    });\n  },\n  File: createType(\n    \"File\",\n    validateFile\n  ),\n  Files: (options = {}) => t.Transform(internalFiles(options)).Decode((value) => Array.isArray(value) ? value : [value]).Encode((value) => value),\n  Nullable: (schema, options) => t.Union([schema, t.Null()], {\n    ...options,\n    nullable: !0\n  }),\n  /**\n   * Allow Optional, Nullable and Undefined\n   */\n  MaybeEmpty: (schema, options) => t.Union([schema, t.Null(), t.Undefined()], options),\n  Cookie: (properties, {\n    domain,\n    expires,\n    httpOnly,\n    maxAge,\n    path,\n    priority,\n    sameSite,\n    secure,\n    secrets,\n    sign,\n    ...options\n  } = {}) => {\n    const v = t.Object(properties, options);\n    return v.config = {\n      domain,\n      expires,\n      httpOnly,\n      maxAge,\n      path,\n      priority,\n      sameSite,\n      secure,\n      secrets,\n      sign\n    }, v;\n  },\n  UnionEnum: (values, options = {}) => {\n    const type = values.every((value) => typeof value == \"string\") ? { type: \"string\" } : values.every((value) => typeof value == \"number\") ? { type: \"number\" } : values.every((value) => value === null) ? { type: \"null\" } : {};\n    if (values.some((x) => typeof x == \"object\" && x !== null))\n      throw new Error(\"This type does not support objects or arrays\");\n    return {\n      // default is need for generating error message\n      default: values[0],\n      ...options,\n      [Kind]: \"UnionEnum\",\n      ...type,\n      enum: values\n    };\n  },\n  NoValidate: (v, enabled = !0) => (v.noValidate = enabled, v),\n  Form: (v, options = {}) => {\n    const schema = t.Object(v, {\n      default: form({}),\n      ...options\n    }), compiler = compile(schema);\n    return t.Union([\n      schema,\n      // @ts-expect-error\n      internalFormData({\n        compiler\n      })\n    ]);\n  },\n  ArrayBuffer(options = {}) {\n    return {\n      // default is need for generating error message\n      default: [1, 2, 3],\n      ...options,\n      [Kind]: \"ArrayBuffer\"\n    };\n  },\n  Uint8Array: (options) => {\n    const schema = Type.Uint8Array(options), compiler = compile(schema);\n    return t.Transform(t.Union([t.ArrayBuffer(), Type.Uint8Array(options)])).Decode((value) => {\n      if (value instanceof ArrayBuffer) {\n        if (!compiler.Check(value = new Uint8Array(value)))\n          throw compiler.Error(value);\n        return value;\n      }\n      return value;\n    }).Encode((value) => value);\n  }\n};\nt.BooleanString = ElysiaType.BooleanString, t.ObjectString = ElysiaType.ObjectString, t.ArrayString = ElysiaType.ArrayString, t.ArrayQuery = ElysiaType.ArrayQuery, t.Numeric = ElysiaType.Numeric, t.NumericEnum = ElysiaType.NumericEnum, t.Integer = ElysiaType.Integer, t.File = (arg) => (arg?.type && loadFileType(), ElysiaType.File({\n  default: \"File\",\n  ...arg,\n  extension: arg?.type,\n  type: \"string\",\n  format: \"binary\"\n})), t.Files = (arg) => (arg?.type && loadFileType(), ElysiaType.Files({\n  ...arg,\n  elysiaMeta: \"Files\",\n  default: \"Files\",\n  extension: arg?.type,\n  type: \"array\",\n  items: {\n    ...arg,\n    default: \"Files\",\n    type: \"string\",\n    format: \"binary\"\n  }\n})), t.Nullable = ElysiaType.Nullable, t.MaybeEmpty = ElysiaType.MaybeEmpty, t.Cookie = ElysiaType.Cookie, t.Date = ElysiaType.Date, t.UnionEnum = ElysiaType.UnionEnum, t.NoValidate = ElysiaType.NoValidate, t.Form = ElysiaType.Form, t.ArrayBuffer = ElysiaType.ArrayBuffer, t.Uint8Array = ElysiaType.Uint8Array;\nimport {\n  TypeSystemPolicy,\n  TypeSystem,\n  TypeSystemDuplicateFormat,\n  TypeSystemDuplicateTypeKind\n} from \"@sinclair/typebox/system\";\nimport { TypeRegistry, FormatRegistry } from \"@sinclair/typebox\";\nimport { TypeCompiler, TypeCheck } from \"@sinclair/typebox/compiler\";\nexport {\n  ElysiaType,\n  FormatRegistry,\n  TypeCheck,\n  TypeCompiler,\n  TypeRegistry,\n  TypeSystem,\n  TypeSystemDuplicateFormat,\n  TypeSystemDuplicateTypeKind,\n  TypeSystemPolicy,\n  t\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1749, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/cookies.mjs"],"sourcesContent":["import { parse, serialize } from \"cookie\";\nimport decode from \"fast-decode-uri-component\";\nimport { isNotEmpty, unsignCookie } from \"./utils.mjs\";\nimport { InvalidCookieSignature } from \"./error.mjs\";\nconst hashString = (str) => {\n  let hash = 2166136261;\n  const len = str.length;\n  for (let i = 0; i < len; i++)\n    hash ^= str.charCodeAt(i), hash = Math.imul(hash, 16777619);\n  return hash >>> 0;\n};\nclass Cookie {\n  constructor(name, jar, initial = {}) {\n    this.name = name;\n    this.jar = jar;\n    this.initial = initial;\n  }\n  get cookie() {\n    return this.jar[this.name] ?? this.initial;\n  }\n  set cookie(jar) {\n    this.name in this.jar || (this.jar[this.name] = this.initial), this.jar[this.name] = jar, this.valueHash = void 0;\n  }\n  get setCookie() {\n    return this.name in this.jar || (this.jar[this.name] = this.initial), this.jar[this.name];\n  }\n  set setCookie(jar) {\n    this.cookie = jar;\n  }\n  get value() {\n    return this.cookie.value;\n  }\n  set value(value) {\n    const current = this.cookie.value;\n    if (current !== value) {\n      if (typeof current == \"object\" && current !== null && typeof value == \"object\" && value !== null)\n        try {\n          const valueStr = JSON.stringify(value), newHash = hashString(valueStr);\n          if (this.valueHash !== void 0 && this.valueHash !== newHash)\n            this.valueHash = newHash;\n          else {\n            if (JSON.stringify(current) === valueStr) {\n              this.valueHash = newHash;\n              return;\n            }\n            this.valueHash = newHash;\n          }\n        } catch {\n        }\n      this.name in this.jar || (this.jar[this.name] = { ...this.initial }), this.jar[this.name].value = value;\n    }\n  }\n  get expires() {\n    return this.cookie.expires;\n  }\n  set expires(expires) {\n    this.setCookie.expires = expires;\n  }\n  get maxAge() {\n    return this.cookie.maxAge;\n  }\n  set maxAge(maxAge) {\n    this.setCookie.maxAge = maxAge;\n  }\n  get domain() {\n    return this.cookie.domain;\n  }\n  set domain(domain) {\n    this.setCookie.domain = domain;\n  }\n  get path() {\n    return this.cookie.path;\n  }\n  set path(path) {\n    this.setCookie.path = path;\n  }\n  get secure() {\n    return this.cookie.secure;\n  }\n  set secure(secure) {\n    this.setCookie.secure = secure;\n  }\n  get httpOnly() {\n    return this.cookie.httpOnly;\n  }\n  set httpOnly(httpOnly) {\n    this.setCookie.httpOnly = httpOnly;\n  }\n  get sameSite() {\n    return this.cookie.sameSite;\n  }\n  set sameSite(sameSite) {\n    this.setCookie.sameSite = sameSite;\n  }\n  get priority() {\n    return this.cookie.priority;\n  }\n  set priority(priority) {\n    this.setCookie.priority = priority;\n  }\n  get partitioned() {\n    return this.cookie.partitioned;\n  }\n  set partitioned(partitioned) {\n    this.setCookie.partitioned = partitioned;\n  }\n  get secrets() {\n    return this.cookie.secrets;\n  }\n  set secrets(secrets) {\n    this.setCookie.secrets = secrets;\n  }\n  update(config) {\n    return this.setCookie = Object.assign(\n      this.cookie,\n      typeof config == \"function\" ? config(this.cookie) : config\n    ), this;\n  }\n  set(config) {\n    return this.setCookie = Object.assign(\n      {\n        ...this.initial,\n        value: this.value\n      },\n      typeof config == \"function\" ? config(this.cookie) : config\n    ), this;\n  }\n  remove() {\n    if (this.value !== void 0)\n      return this.set({\n        expires: /* @__PURE__ */ new Date(0),\n        maxAge: 0,\n        value: \"\"\n      }), this;\n  }\n  toString() {\n    return typeof this.value == \"object\" ? JSON.stringify(this.value) : this.value?.toString() ?? \"\";\n  }\n}\nconst createCookieJar = (set, store, initial) => (set.cookie || (set.cookie = {}), new Proxy(store, {\n  get(_, key) {\n    return key in store ? new Cookie(\n      key,\n      set.cookie,\n      Object.assign({}, initial ?? {}, store[key])\n    ) : new Cookie(\n      key,\n      set.cookie,\n      Object.assign({}, initial)\n    );\n  }\n})), parseCookie = async (set, cookieString, {\n  secrets,\n  sign,\n  ...initial\n} = {}) => {\n  if (!cookieString) return createCookieJar(set, {}, initial);\n  const isStringKey = typeof secrets == \"string\";\n  sign && sign !== !0 && !Array.isArray(sign) && (sign = [sign]);\n  const jar = {}, cookies = parse(cookieString);\n  for (const [name, v] of Object.entries(cookies)) {\n    if (v === void 0) continue;\n    let value = decode(v);\n    if (value) {\n      const starts = value.charCodeAt(0), ends = value.charCodeAt(value.length - 1);\n      if (starts === 123 && ends === 125 || starts === 91 && ends === 93)\n        try {\n          value = JSON.parse(value);\n        } catch {\n        }\n    }\n    if (sign === !0 || sign?.includes(name)) {\n      if (!secrets)\n        throw new Error(\"No secret is provided to cookie plugin\");\n      if (isStringKey) {\n        if (typeof value != \"string\") throw new InvalidCookieSignature(name);\n        const temp = await unsignCookie(value, secrets);\n        if (temp === !1) throw new InvalidCookieSignature(name);\n        value = temp;\n      } else {\n        let decoded = !1;\n        for (let i = 0; i < secrets.length; i++) {\n          if (typeof value != \"string\") throw new InvalidCookieSignature(name);\n          const temp = await unsignCookie(value, secrets[i]);\n          if (temp !== !1) {\n            decoded = !0, value = temp;\n            break;\n          }\n        }\n        if (!decoded) throw new InvalidCookieSignature(name);\n      }\n    }\n    jar[name] = {\n      value\n    };\n  }\n  return createCookieJar(set, jar, initial);\n}, serializeCookie = (cookies) => {\n  if (!cookies || !isNotEmpty(cookies)) return;\n  const set = [];\n  for (const [key, property] of Object.entries(cookies)) {\n    if (!key || !property) continue;\n    const value = property.value;\n    value != null && set.push(\n      serialize(\n        key,\n        typeof value == \"object\" ? JSON.stringify(value) : value + \"\",\n        property\n      )\n    );\n  }\n  if (set.length !== 0)\n    return set.length === 1 ? set[0] : set;\n};\nexport {\n  Cookie,\n  createCookieJar,\n  parseCookie,\n  serializeCookie\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1953, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/universal/env.mjs"],"sourcesContent":["import { isBun } from \"./utils.mjs\";\nconst env = isBun ? Bun.env : typeof process < \"u\" && process?.env ? process.env : {};\nexport {\n  env\n};\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,MAAM,gKAAK,GAAG,IAAI,GAAG,GAAG,OAAO,UAAU,OAAO,SAAS,MAAM,QAAQ,GAAG,GAAG,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1965, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/universal/index.mjs"],"sourcesContent":["import { env } from \"./env.mjs\";\nimport { file } from \"./file.mjs\";\nexport {\n  env,\n  file\n};\n"],"names":[],"mappings":";AAAA;AACA","ignoreList":[0]}},
    {"offset": {"line": 1975, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/adapter/utils.mjs"],"sourcesContent":["import { serializeCookie } from \"../cookies.mjs\";\nimport { hasHeaderShorthand, isNotEmpty, StatusMap } from \"../utils.mjs\";\nimport { isBun } from \"../universal/utils.mjs\";\nimport { env } from \"../universal/index.mjs\";\nconst handleFile = (response, set) => {\n  if (!isBun && response instanceof Promise)\n    return response.then((res) => handleFile(res, set));\n  const size = response.size, immutable = set && (set.status === 206 || set.status === 304 || set.status === 412 || set.status === 416), defaultHeader = immutable ? {} : {\n    \"accept-ranges\": \"bytes\",\n    \"content-range\": size ? `bytes 0-${size - 1}/${size}` : void 0\n  };\n  if (!set && !size) return new Response(response);\n  if (!set)\n    return new Response(response, {\n      headers: defaultHeader\n    });\n  if (set.headers instanceof Headers) {\n    for (const key of Object.keys(defaultHeader))\n      key in set.headers && set.headers.append(key, defaultHeader[key]);\n    return immutable && (set.headers.delete(\"content-length\"), set.headers.delete(\"accept-ranges\")), new Response(response, set);\n  }\n  return isNotEmpty(set.headers) ? new Response(response, {\n    status: set.status,\n    headers: Object.assign(defaultHeader, set.headers)\n  }) : new Response(response, {\n    status: set.status,\n    headers: defaultHeader\n  });\n}, parseSetCookies = (headers, setCookie) => {\n  if (!headers) return headers;\n  headers.delete(\"set-cookie\");\n  for (let i = 0; i < setCookie.length; i++) {\n    const index = setCookie[i].indexOf(\"=\");\n    headers.append(\n      \"set-cookie\",\n      `${setCookie[i].slice(0, index)}=${setCookie[i].slice(index + 1) || \"\"}`\n    );\n  }\n  return headers;\n}, responseToSetHeaders = (response, set) => {\n  if (set?.headers) {\n    if (response)\n      if (hasHeaderShorthand)\n        Object.assign(set.headers, response.headers.toJSON());\n      else\n        for (const [key, value] of response.headers.entries())\n          key in set.headers && (set.headers[key] = value);\n    return set.status === 200 && (set.status = response.status), set.headers[\"content-encoding\"] && delete set.headers[\"content-encoding\"], set;\n  }\n  if (!response)\n    return {\n      headers: {},\n      status: set?.status ?? 200\n    };\n  if (hasHeaderShorthand)\n    return set = {\n      headers: response.headers.toJSON(),\n      status: set?.status ?? 200\n    }, set.headers[\"content-encoding\"] && delete set.headers[\"content-encoding\"], set;\n  set = {\n    headers: {},\n    status: set?.status ?? 200\n  };\n  for (const [key, value] of response.headers.entries())\n    key !== \"content-encoding\" && key in set.headers && (set.headers[key] = value);\n  return set;\n}, allowRapidStream = env.ELYSIA_RAPID_STREAM === \"true\", createStreamHandler = ({ mapResponse, mapCompactResponse }) => async (generator, set, request, skipFormat) => {\n  let init = generator.next?.();\n  if (set && handleSet(set), init instanceof Promise && (init = await init), init?.value instanceof ReadableStream)\n    generator = init.value;\n  else if (init && (typeof init?.done > \"u\" || init?.done))\n    return set ? mapResponse(init.value, set, request) : mapCompactResponse(init.value, request);\n  const isSSE = !skipFormat && // @ts-ignore First SSE result is wrapped with sse()\n  (init?.value?.sse ?? // @ts-ignore ReadableStream is wrapped with sse()\n  generator?.sse ?? // User explicitly set content-type to SSE\n  set?.headers[\"content-type\"]?.startsWith(\"text/event-stream\")), format = isSSE ? (data) => `data: ${data}\n\n` : (data) => data, contentType = isSSE ? \"text/event-stream\" : init?.value && typeof init?.value == \"object\" ? \"application/json\" : \"text/plain\";\n  set?.headers ? (set.headers[\"transfer-encoding\"] || (set.headers[\"transfer-encoding\"] = \"chunked\"), set.headers[\"content-type\"] || (set.headers[\"content-type\"] = contentType), set.headers[\"cache-control\"] || (set.headers[\"cache-control\"] = \"no-cache\")) : set = {\n    status: 200,\n    headers: {\n      \"content-type\": contentType,\n      \"transfer-encoding\": \"chunked\",\n      \"cache-control\": \"no-cache\",\n      connection: \"keep-alive\"\n    }\n  };\n  const isBrowser = request?.headers.has(\"Origin\");\n  return new Response(\n    new ReadableStream({\n      async start(controller) {\n        let end = !1;\n        if (request?.signal?.addEventListener(\"abort\", () => {\n          end = !0;\n          try {\n            controller.close();\n          } catch {\n          }\n        }), !(!init || init.value instanceof ReadableStream)) {\n          if (init.value !== void 0 && init.value !== null)\n            if (init.value.toSSE)\n              controller.enqueue(init.value.toSSE());\n            else if (typeof init.value == \"object\")\n              try {\n                controller.enqueue(\n                  format(JSON.stringify(init.value))\n                );\n              } catch {\n                controller.enqueue(\n                  format(init.value.toString())\n                );\n              }\n            else controller.enqueue(format(init.value.toString()));\n        }\n        try {\n          for await (const chunk of generator) {\n            if (end) break;\n            if (chunk != null)\n              if (chunk.toSSE)\n                controller.enqueue(chunk.toSSE());\n              else {\n                if (typeof chunk == \"object\")\n                  try {\n                    controller.enqueue(\n                      format(JSON.stringify(chunk))\n                    );\n                  } catch {\n                    controller.enqueue(\n                      format(chunk.toString())\n                    );\n                  }\n                else\n                  controller.enqueue(format(chunk.toString()));\n                !allowRapidStream && isBrowser && !isSSE && await new Promise(\n                  (resolve) => setTimeout(() => resolve(), 0)\n                );\n              }\n          }\n        } catch (error) {\n          console.warn(error);\n        }\n        try {\n          controller.close();\n        } catch {\n        }\n      }\n    }),\n    set\n  );\n};\nasync function* streamResponse(response) {\n  const body = response.body;\n  if (!body) return;\n  const reader = body.getReader(), decoder = new TextDecoder();\n  try {\n    for (; ; ) {\n      const { done, value } = await reader.read();\n      if (done) break;\n      typeof value == \"string\" ? yield value : yield decoder.decode(value);\n    }\n  } finally {\n    reader.releaseLock();\n  }\n}\nconst handleSet = (set) => {\n  if (typeof set.status == \"string\" && (set.status = StatusMap[set.status]), set.cookie && isNotEmpty(set.cookie)) {\n    const cookie = serializeCookie(set.cookie);\n    cookie && (set.headers[\"set-cookie\"] = cookie);\n  }\n  set.headers[\"set-cookie\"] && Array.isArray(set.headers[\"set-cookie\"]) && (set.headers = parseSetCookies(\n    new Headers(set.headers),\n    set.headers[\"set-cookie\"]\n  ));\n}, createResponseHandler = (handler) => {\n  const handleStream = createStreamHandler(handler);\n  return (response, set, request) => {\n    let isCookieSet = !1;\n    if (set.headers instanceof Headers)\n      for (const key of set.headers.keys())\n        if (key === \"set-cookie\") {\n          if (isCookieSet) continue;\n          isCookieSet = !0;\n          for (const cookie of set.headers.getSetCookie())\n            response.headers.append(\"set-cookie\", cookie);\n        } else response.headers.has(key) || response.headers.set(key, set.headers?.get(key) ?? \"\");\n    else\n      for (const key in set.headers)\n        key === \"set-cookie\" ? response.headers.append(\n          key,\n          set.headers[key]\n        ) : response.headers.has(key) || response.headers.set(\n          key,\n          set.headers[key]\n        );\n    const status = set.status ?? 200;\n    if (response.status !== status && status !== 200 && (response.status <= 300 || response.status > 400)) {\n      const newResponse = new Response(response.body, {\n        headers: response.headers,\n        status: set.status\n      });\n      return !newResponse.headers.has(\"content-length\") && newResponse.headers.get(\"transfer-encoding\") === \"chunked\" ? handleStream(\n        streamResponse(newResponse),\n        responseToSetHeaders(newResponse, set),\n        request,\n        !0\n        // skipFormat: don't auto-format SSE for pre-formatted Response\n      ) : newResponse;\n    }\n    return !response.headers.has(\"content-length\") && response.headers.get(\"transfer-encoding\") === \"chunked\" ? handleStream(\n      streamResponse(response),\n      responseToSetHeaders(response, set),\n      request,\n      !0\n      // skipFormat: don't auto-format SSE for pre-formatted Response\n    ) : response;\n  };\n};\nasync function tee(source, branches = 2) {\n  const buffer = [];\n  let done = !1, waiting = [];\n  (async () => {\n    for await (const value of source)\n      buffer.push(value), waiting.forEach((w) => w.resolve()), waiting = [];\n    done = !0, waiting.forEach((w) => w.resolve());\n  })();\n  async function* makeIterator() {\n    let i = 0;\n    for (; ; )\n      if (i < buffer.length)\n        yield buffer[i++];\n      else {\n        if (done)\n          return;\n        await new Promise((resolve) => waiting.push({ resolve }));\n      }\n  }\n  return Array.from({ length: branches }, makeIterator);\n}\nexport {\n  createResponseHandler,\n  createStreamHandler,\n  handleFile,\n  handleSet,\n  parseSetCookies,\n  responseToSetHeaders,\n  streamResponse,\n  tee\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2178, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/adapter/web-standard/handler.mjs"],"sourcesContent":["import {\n  createResponseHandler,\n  createStreamHandler,\n  handleFile,\n  handleSet\n} from \"../utils.mjs\";\nimport { mime } from \"../../universal/file.mjs\";\nimport { isNotEmpty } from \"../../utils.mjs\";\nimport { Cookie } from \"../../cookies.mjs\";\nimport { ElysiaCustomStatusResponse } from \"../../error.mjs\";\nconst handleElysiaFile = (file, set = {\n  headers: {}\n}) => {\n  const path = file.path, contentType = mime[path.slice(path.lastIndexOf(\".\") + 1)];\n  return contentType && (set.headers[\"content-type\"] = contentType), file.stats && set.status !== 206 && set.status !== 304 && set.status !== 412 && set.status !== 416 ? file.stats.then((stat) => {\n    const size = stat.size;\n    return size !== void 0 && (set.headers[\"content-range\"] = `bytes 0-${size - 1}/${size}`, set.headers[\"content-length\"] = size), handleFile(file.value, set);\n  }) : handleFile(file.value, set);\n}, mapResponse = (response, set, request) => {\n  if (isNotEmpty(set.headers) || set.status !== 200 || set.cookie)\n    switch (handleSet(set), response?.constructor?.name) {\n      case \"String\":\n        return set.headers[\"content-type\"] = \"text/plain\", new Response(response, set);\n      case \"Array\":\n      case \"Object\":\n        return set.headers[\"content-type\"] = \"application/json\", new Response(JSON.stringify(response), set);\n      case \"ElysiaFile\":\n        return handleElysiaFile(response, set);\n      case \"File\":\n        return handleFile(response, set);\n      case \"Blob\":\n        return handleFile(response, set);\n      case \"ElysiaCustomStatusResponse\":\n        return set.status = response.code, mapResponse(\n          response.response,\n          set,\n          request\n        );\n      case void 0:\n        return response ? new Response(JSON.stringify(response), set) : new Response(\"\", set);\n      case \"Response\":\n        return handleResponse(response, set, request);\n      case \"Error\":\n        return errorToResponse(response, set);\n      case \"Promise\":\n        return response.then(\n          (x) => mapResponse(x, set, request)\n        );\n      case \"Function\":\n        return mapResponse(response(), set, request);\n      case \"Number\":\n      case \"Boolean\":\n        return new Response(\n          response.toString(),\n          set\n        );\n      case \"Cookie\":\n        return response instanceof Cookie ? new Response(response.value, set) : new Response(response?.toString(), set);\n      case \"FormData\":\n        return new Response(response, set);\n      default:\n        if (response instanceof Response)\n          return handleResponse(response, set, request);\n        if (response instanceof Promise)\n          return response.then((x) => mapResponse(x, set));\n        if (response instanceof Error)\n          return errorToResponse(response, set);\n        if (response instanceof ElysiaCustomStatusResponse)\n          return set.status = response.code, mapResponse(\n            response.response,\n            set,\n            request\n          );\n        if (\n          // @ts-expect-error\n          typeof response?.next == \"function\" || response instanceof ReadableStream\n        )\n          return handleStream(response, set, request);\n        if (typeof response?.then == \"function\")\n          return response.then(\n            (x) => mapResponse(x, set)\n          );\n        if (typeof response?.toResponse == \"function\")\n          return mapResponse(response.toResponse(), set);\n        if (\"charCodeAt\" in response) {\n          const code = response.charCodeAt(0);\n          if (code === 123 || code === 91)\n            return set.headers[\"Content-Type\"] || (set.headers[\"Content-Type\"] = \"application/json\"), new Response(\n              JSON.stringify(response),\n              set\n            );\n        }\n        return new Response(response, set);\n    }\n  return (\n    // @ts-expect-error\n    typeof response?.next == \"function\" || response instanceof ReadableStream ? handleStream(response, set, request) : mapCompactResponse(response, request)\n  );\n}, mapEarlyResponse = (response, set, request) => {\n  if (response != null)\n    if (isNotEmpty(set.headers) || set.status !== 200 || set.cookie)\n      switch (handleSet(set), response?.constructor?.name) {\n        case \"String\":\n          return set.headers[\"content-type\"] = \"text/plain\", new Response(response, set);\n        case \"Array\":\n        case \"Object\":\n          return set.headers[\"content-type\"] = \"application/json\", new Response(JSON.stringify(response), set);\n        case \"ElysiaFile\":\n          return handleElysiaFile(response, set);\n        case \"File\":\n          return handleFile(response, set);\n        case \"Blob\":\n          return handleFile(response, set);\n        case \"ElysiaCustomStatusResponse\":\n          return set.status = response.code, mapEarlyResponse(\n            response.response,\n            set,\n            request\n          );\n        case void 0:\n          return response ? new Response(JSON.stringify(response), set) : void 0;\n        case \"Response\":\n          return handleResponse(response, set, request);\n        case \"Promise\":\n          return response.then(\n            (x) => mapEarlyResponse(x, set)\n          );\n        case \"Error\":\n          return errorToResponse(response, set);\n        case \"Function\":\n          return mapEarlyResponse(response(), set);\n        case \"Number\":\n        case \"Boolean\":\n          return new Response(\n            response.toString(),\n            set\n          );\n        case \"FormData\":\n          return new Response(response);\n        case \"Cookie\":\n          return response instanceof Cookie ? new Response(response.value, set) : new Response(response?.toString(), set);\n        default:\n          if (response instanceof Response)\n            return handleResponse(response, set, request);\n          if (response instanceof Promise)\n            return response.then((x) => mapEarlyResponse(x, set));\n          if (response instanceof Error)\n            return errorToResponse(response, set);\n          if (response instanceof ElysiaCustomStatusResponse)\n            return set.status = response.code, mapEarlyResponse(\n              response.response,\n              set,\n              request\n            );\n          if (\n            // @ts-expect-error\n            typeof response?.next == \"function\" || response instanceof ReadableStream\n          )\n            return handleStream(response, set, request);\n          if (typeof response?.then == \"function\")\n            return response.then(\n              (x) => mapEarlyResponse(x, set)\n            );\n          if (typeof response?.toResponse == \"function\")\n            return mapEarlyResponse(response.toResponse(), set);\n          if (\"charCodeAt\" in response) {\n            const code = response.charCodeAt(0);\n            if (code === 123 || code === 91)\n              return set.headers[\"Content-Type\"] || (set.headers[\"Content-Type\"] = \"application/json\"), new Response(\n                JSON.stringify(response),\n                set\n              );\n          }\n          return new Response(response, set);\n      }\n    else\n      switch (response?.constructor?.name) {\n        case \"String\":\n          return set.headers[\"content-type\"] = \"text/plain\", new Response(response);\n        case \"Array\":\n        case \"Object\":\n          return set.headers[\"content-type\"] = \"application/json\", new Response(JSON.stringify(response), set);\n        case \"ElysiaFile\":\n          return handleElysiaFile(response, set);\n        case \"File\":\n          return handleFile(response, set);\n        case \"Blob\":\n          return handleFile(response, set);\n        case \"ElysiaCustomStatusResponse\":\n          return set.status = response.code, mapEarlyResponse(\n            response.response,\n            set,\n            request\n          );\n        case void 0:\n          return response ? new Response(JSON.stringify(response), {\n            headers: {\n              \"content-type\": \"application/json\"\n            }\n          }) : new Response(\"\");\n        case \"Response\":\n          return response;\n        case \"Promise\":\n          return response.then((x) => {\n            const r = mapEarlyResponse(x, set);\n            if (r !== void 0) return r;\n          });\n        case \"Error\":\n          return errorToResponse(response, set);\n        case \"Function\":\n          return mapCompactResponse(response(), request);\n        case \"Number\":\n        case \"Boolean\":\n          return new Response(response.toString());\n        case \"Cookie\":\n          return response instanceof Cookie ? new Response(response.value, set) : new Response(response?.toString(), set);\n        case \"FormData\":\n          return new Response(response);\n        default:\n          if (response instanceof Response) return response;\n          if (response instanceof Promise)\n            return response.then((x) => mapEarlyResponse(x, set));\n          if (response instanceof Error)\n            return errorToResponse(response, set);\n          if (response instanceof ElysiaCustomStatusResponse)\n            return set.status = response.code, mapEarlyResponse(\n              response.response,\n              set,\n              request\n            );\n          if (\n            // @ts-expect-error\n            typeof response?.next == \"function\" || response instanceof ReadableStream\n          )\n            return handleStream(response, set, request);\n          if (typeof response?.then == \"function\")\n            return response.then(\n              (x) => mapEarlyResponse(x, set)\n            );\n          if (typeof response?.toResponse == \"function\")\n            return mapEarlyResponse(response.toResponse(), set);\n          if (\"charCodeAt\" in response) {\n            const code = response.charCodeAt(0);\n            if (code === 123 || code === 91)\n              return set.headers[\"Content-Type\"] || (set.headers[\"Content-Type\"] = \"application/json\"), new Response(\n                JSON.stringify(response),\n                set\n              );\n          }\n          return new Response(response);\n      }\n}, mapCompactResponse = (response, request) => {\n  switch (response?.constructor?.name) {\n    case \"String\":\n      return new Response(response, {\n        headers: {\n          \"Content-Type\": \"text/plain\"\n        }\n      });\n    case \"Object\":\n    case \"Array\":\n      return new Response(JSON.stringify(response), {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n    case \"ElysiaFile\":\n      return handleElysiaFile(response);\n    case \"File\":\n      return handleFile(response);\n    case \"Blob\":\n      return handleFile(response);\n    case \"ElysiaCustomStatusResponse\":\n      return mapResponse(\n        response.response,\n        {\n          status: response.code,\n          headers: {}\n        }\n      );\n    case void 0:\n      return response ? new Response(JSON.stringify(response), {\n        headers: {\n          \"content-type\": \"application/json\"\n        }\n      }) : new Response(\"\");\n    case \"Response\":\n      return response;\n    case \"Error\":\n      return errorToResponse(response);\n    case \"Promise\":\n      return response.then(\n        (x) => mapCompactResponse(x, request)\n      );\n    // ? Maybe response or Blob\n    case \"Function\":\n      return mapCompactResponse(response(), request);\n    case \"Number\":\n    case \"Boolean\":\n      return new Response(response.toString());\n    case \"FormData\":\n      return new Response(response);\n    default:\n      if (response instanceof Response) return response;\n      if (response instanceof Promise)\n        return response.then(\n          (x) => mapCompactResponse(x, request)\n        );\n      if (response instanceof Error)\n        return errorToResponse(response);\n      if (response instanceof ElysiaCustomStatusResponse)\n        return mapResponse(\n          response.response,\n          {\n            status: response.code,\n            headers: {}\n          }\n        );\n      if (\n        // @ts-expect-error\n        typeof response?.next == \"function\" || response instanceof ReadableStream\n      )\n        return handleStream(response, void 0, request);\n      if (typeof response?.then == \"function\")\n        return response.then(\n          (x) => mapCompactResponse(x, request)\n        );\n      if (typeof response?.toResponse == \"function\")\n        return mapCompactResponse(response.toResponse());\n      if (\"charCodeAt\" in response) {\n        const code = response.charCodeAt(0);\n        if (code === 123 || code === 91)\n          return new Response(JSON.stringify(response), {\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          });\n      }\n      return new Response(response);\n  }\n}, errorToResponse = (error, set) => {\n  if (typeof error?.toResponse == \"function\") {\n    const raw = error.toResponse(), targetSet = set ?? { headers: {}, status: 200, redirect: \"\" }, apply = (resolved) => (resolved instanceof Response && (targetSet.status = resolved.status), mapResponse(resolved, targetSet));\n    return typeof raw?.then == \"function\" ? raw.then(apply) : apply(raw);\n  }\n  return new Response(\n    JSON.stringify({\n      name: error?.name,\n      message: error?.message,\n      cause: error?.cause\n    }),\n    {\n      status: set?.status !== 200 ? set?.status ?? 500 : 500,\n      headers: set?.headers\n    }\n  );\n}, createStaticHandler = (handle, hooks, setHeaders = {}) => {\n  if (typeof handle == \"function\") return;\n  const response = mapResponse(handle, {\n    headers: setHeaders\n  });\n  if (!hooks.parse?.length && !hooks.transform?.length && !hooks.beforeHandle?.length && !hooks.afterHandle?.length)\n    return () => response.clone();\n}, handleResponse = createResponseHandler({\n  mapResponse,\n  mapCompactResponse\n}), handleStream = createStreamHandler({\n  mapResponse,\n  mapCompactResponse\n});\nexport {\n  createStaticHandler,\n  errorToResponse,\n  mapCompactResponse,\n  mapEarlyResponse,\n  mapResponse\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2460, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/adapter/web-standard/index.mjs"],"sourcesContent":["import {\n  mapResponse,\n  mapEarlyResponse,\n  mapCompactResponse,\n  createStaticHandler\n} from \"./handler.mjs\";\nconst WebStandardAdapter = {\n  name: \"web-standard\",\n  isWebStandard: !0,\n  handler: {\n    mapResponse,\n    mapEarlyResponse,\n    mapCompactResponse,\n    createStaticHandler\n  },\n  composeHandler: {\n    mapResponseContext: \"c.request\",\n    preferWebstandardHeaders: !0,\n    // @ts-ignore Bun specific\n    headers: `c.headers={}\nfor(const [k,v] of c.request.headers.entries())c.headers[k]=v\n`,\n    parser: {\n      json(isOptional) {\n        return isOptional ? `try{c.body=await c.request.json()}catch{}\n` : `c.body=await c.request.json()\n`;\n      },\n      text() {\n        return `c.body=await c.request.text()\n`;\n      },\n      urlencoded() {\n        return `c.body=parseQuery(await c.request.text())\n`;\n      },\n      arrayBuffer() {\n        return `c.body=await c.request.arrayBuffer()\n`;\n      },\n      formData(isOptional) {\n        let fnLiteral = `\nc.body={}\n`;\n        return isOptional ? fnLiteral += \"let form;try{form=await c.request.formData()}catch{}\" : fnLiteral += `const form=await c.request.formData()\n`, fnLiteral + `for(const key of form.keys()){if(c.body[key]) continue\nconst value=form.getAll(key)\nif(value.length===1)c.body[key]=value[0]\nelse c.body[key]=value}`;\n      }\n    }\n  },\n  async stop(app, closeActiveConnections) {\n    if (!app.server)\n      throw new Error(\n        \"Elysia isn't running. Call `app.listen` to start the server.\"\n      );\n    if (app.server && (await app.server.stop(closeActiveConnections), app.server = null, app.event.stop?.length))\n      for (let i = 0; i < app.event.stop.length; i++)\n        app.event.stop[i].fn(app);\n  },\n  composeGeneralHandler: {\n    parameters: \"r\",\n    createContext(app) {\n      let decoratorsLiteral = \"\", fnLiteral = \"\";\n      const defaultHeaders = app.setHeaders;\n      for (const key of Object.keys(app.decorator))\n        decoratorsLiteral += `,'${key}':decorator['${key}']`;\n      const standardHostname = app.config.handler?.standardHostname ?? !0, hasTrace = !!app.event.trace?.length;\n      return fnLiteral += `const u=r.url,s=u.indexOf('/',${standardHostname ? 11 : 7}),qi=u.indexOf('?',s+1),p=u.substring(s,qi===-1?undefined:qi)\n`, hasTrace && (fnLiteral += `const id=randomId()\n`), fnLiteral += \"const c={request:r,store,qi,path:p,url:u,redirect,status,set:{headers:\", fnLiteral += Object.keys(defaultHeaders ?? {}).length ? \"Object.assign({},app.setHeaders)\" : \"Object.create(null)\", fnLiteral += \",status:200}\", app.inference.server && (fnLiteral += \",get server(){return app.getServer()}\"), hasTrace && (fnLiteral += \",[ELYSIA_REQUEST_ID]:id\"), fnLiteral += decoratorsLiteral, fnLiteral += `}\n`, fnLiteral;\n    },\n    error404(hasEventHook, hasErrorHook, afterHandle = \"\") {\n      let findDynamicRoute = \"if(route===null){\" + afterHandle + (hasErrorHook ? \"\" : \"c.set.status=404\") + `\nreturn `;\n      return hasErrorHook ? findDynamicRoute += `app.handleError(c,notFound,false,${this.parameters})` : findDynamicRoute += hasEventHook ? \"c.response=c.responseValue=new Response(error404Message,{status:c.set.status===200?404:c.set.status,headers:c.set.headers})\" : \"c.response=c.responseValue=error404.clone()\", findDynamicRoute += \"}\", {\n        declare: hasErrorHook ? \"\" : `const error404Message=notFound.message.toString()\nconst error404=new Response(error404Message,{status:404})\n`,\n        code: findDynamicRoute\n      };\n    }\n  },\n  composeError: {\n    mapResponseContext: \"\",\n    validationError: \"set.headers['content-type']='application/json';return mapResponse(error.message,set)\",\n    unknownError: \"set.status=error.status??set.status??500;return mapResponse(error.message,set)\"\n  },\n  listen() {\n    return () => {\n      throw new Error(\n        \"WebStandard does not support listen, you might want to export default Elysia.fetch instead\"\n      );\n    };\n  }\n};\nexport {\n  WebStandardAdapter\n};\n"],"names":[],"mappings":";;;;AAAA;;AAMA,MAAM,qBAAqB;IACzB,MAAM;IACN,eAAe,CAAC;IAChB,SAAS;QACP,aAAA,yLAAW;QACX,kBAAA,8LAAgB;QAChB,oBAAA,gMAAkB;QAClB,qBAAA,iMAAmB;IACrB;IACA,gBAAgB;QACd,oBAAoB;QACpB,0BAA0B,CAAC;QAC3B,0BAA0B;QAC1B,SAAS,CAAC;;AAEd,CAAC;QACG,QAAQ;YACN,MAAK,UAAU;gBACb,OAAO,aAAa,CAAC;AAC7B,CAAC,GAAG,CAAC;AACL,CAAC;YACK;YACA;gBACE,OAAO,CAAC;AAChB,CAAC;YACK;YACA;gBACE,OAAO,CAAC;AAChB,CAAC;YACK;YACA;gBACE,OAAO,CAAC;AAChB,CAAC;YACK;YACA,UAAS,UAAU;gBACjB,IAAI,YAAY,CAAC;;AAEzB,CAAC;gBACO,OAAO,aAAa,aAAa,yDAAyD,aAAa,CAAC;AAChH,CAAC,EAAE,YAAY,CAAC;;;uBAGO,CAAC;YAClB;QACF;IACF;IACA,MAAM,MAAK,GAAG,EAAE,sBAAsB;QACpC,IAAI,CAAC,IAAI,MAAM,EACb,MAAM,IAAI,MACR;QAEJ,IAAI,IAAI,MAAM,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC,yBAAyB,IAAI,MAAM,GAAG,MAAM,IAAI,KAAK,CAAC,IAAI,EAAE,MAAM,GACzG,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,IACzC,IAAI,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC;IAC3B;IACA,uBAAuB;QACrB,YAAY;QACZ,eAAc,GAAG;YACf,IAAI,oBAAoB,IAAI,YAAY;YACxC,MAAM,iBAAiB,IAAI,UAAU;YACrC,KAAK,MAAM,OAAO,OAAO,IAAI,CAAC,IAAI,SAAS,EACzC,qBAAqB,CAAC,EAAE,EAAE,IAAI,aAAa,EAAE,IAAI,EAAE,CAAC;YACtD,MAAM,mBAAmB,IAAI,MAAM,CAAC,OAAO,EAAE,oBAAoB,CAAC,GAAG,WAAW,CAAC,CAAC,IAAI,KAAK,CAAC,KAAK,EAAE;YACnG,OAAO,aAAa,CAAC,8BAA8B,EAAE,mBAAmB,KAAK,EAAE;AACrF,CAAC,EAAE,YAAY,CAAC,aAAa,CAAC;AAC9B,CAAC,GAAG,aAAa,0EAA0E,aAAa,OAAO,IAAI,CAAC,kBAAkB,CAAC,GAAG,MAAM,GAAG,qCAAqC,uBAAuB,aAAa,gBAAgB,IAAI,SAAS,CAAC,MAAM,IAAI,CAAC,aAAa,uCAAuC,GAAG,YAAY,CAAC,aAAa,yBAAyB,GAAG,aAAa,mBAAmB,aAAa,CAAC;AACha,CAAC,EAAE;QACC;QACA,UAAS,YAAY,EAAE,YAAY,EAAE,cAAc,EAAE;YACnD,IAAI,mBAAmB,sBAAsB,cAAc,CAAC,eAAe,KAAK,kBAAkB,IAAI,CAAC;OACtG,CAAC;YACF,OAAO,eAAe,oBAAoB,CAAC,iCAAiC,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,oBAAoB,eAAe,gIAAgI,+CAA+C,oBAAoB,KAAK;gBAC5U,SAAS,eAAe,KAAK,CAAC;;AAEtC,CAAC;gBACO,MAAM;YACR;QACF;IACF;IACA,cAAc;QACZ,oBAAoB;QACpB,iBAAiB;QACjB,cAAc;IAChB;IACA;QACE,OAAO;YACL,MAAM,IAAI,MACR;QAEJ;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 2555, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/parse-query.mjs"],"sourcesContent":["import decode from \"fast-decode-uri-component\";\nconst KEY_HAS_PLUS = 1, KEY_NEEDS_DECODE = 2, VALUE_HAS_PLUS = 4, VALUE_NEEDS_DECODE = 8;\nfunction parseQueryFromURL(input, startIndex = 0, array, object) {\n  const result = /* @__PURE__ */ Object.create(null);\n  let flags = 0;\n  const inputLength = input.length;\n  let startingIndex = startIndex - 1, equalityIndex = startingIndex;\n  for (let i = 0; i < inputLength; i++)\n    switch (input.charCodeAt(i)) {\n      // '&'\n      case 38:\n        processKeyValuePair(input, i), startingIndex = i, equalityIndex = i, flags = 0;\n        break;\n      // '='\n      case 61:\n        equalityIndex <= startingIndex ? equalityIndex = i : flags |= VALUE_NEEDS_DECODE;\n        break;\n      // '+'\n      case 43:\n        equalityIndex > startingIndex ? flags |= VALUE_HAS_PLUS : flags |= KEY_HAS_PLUS;\n        break;\n      // '%'\n      case 37:\n        equalityIndex > startingIndex ? flags |= VALUE_NEEDS_DECODE : flags |= KEY_NEEDS_DECODE;\n        break;\n    }\n  return startingIndex < inputLength && processKeyValuePair(input, inputLength), result;\n  function processKeyValuePair(input2, endIndex) {\n    const hasBothKeyValuePair = equalityIndex > startingIndex, effectiveEqualityIndex = hasBothKeyValuePair ? equalityIndex : endIndex, keySlice = input2.slice(startingIndex + 1, effectiveEqualityIndex);\n    if (!hasBothKeyValuePair && keySlice.length === 0) return;\n    let finalKey = keySlice;\n    flags & KEY_HAS_PLUS && (finalKey = finalKey.replace(/\\+/g, \" \")), flags & KEY_NEEDS_DECODE && (finalKey = decode(finalKey) || finalKey);\n    let finalValue = \"\";\n    if (hasBothKeyValuePair) {\n      let valueSlice = input2.slice(equalityIndex + 1, endIndex);\n      flags & VALUE_HAS_PLUS && (valueSlice = valueSlice.replace(/\\+/g, \" \")), flags & VALUE_NEEDS_DECODE && (valueSlice = decode(valueSlice) || valueSlice), finalValue = valueSlice;\n    }\n    const currentValue = result[finalKey];\n    array && array?.[finalKey] ? finalValue.charCodeAt(0) === 91 ? (object && object?.[finalKey] ? finalValue = JSON.parse(finalValue) : finalValue = finalValue.slice(1, -1).split(\",\"), currentValue === void 0 ? result[finalKey] = finalValue : Array.isArray(currentValue) ? currentValue.push(...finalValue) : (result[finalKey] = finalValue, result[finalKey].unshift(currentValue))) : currentValue === void 0 ? result[finalKey] = finalValue : Array.isArray(currentValue) ? currentValue.push(finalValue) : result[finalKey] = [currentValue, finalValue] : result[finalKey] = finalValue;\n  }\n}\nfunction parseQueryStandardSchema(input, startIndex = 0) {\n  const result = /* @__PURE__ */ Object.create(null);\n  let flags = 0;\n  const inputLength = input.length;\n  let startingIndex = startIndex - 1, equalityIndex = startingIndex;\n  for (let i = 0; i < inputLength; i++)\n    switch (input.charCodeAt(i)) {\n      // '&'\n      case 38:\n        processKeyValuePair(input, i), startingIndex = i, equalityIndex = i, flags = 0;\n        break;\n      // '='\n      case 61:\n        equalityIndex <= startingIndex ? equalityIndex = i : flags |= VALUE_NEEDS_DECODE;\n        break;\n      // '+'\n      case 43:\n        equalityIndex > startingIndex ? flags |= VALUE_HAS_PLUS : flags |= KEY_HAS_PLUS;\n        break;\n      // '%'\n      case 37:\n        equalityIndex > startingIndex ? flags |= VALUE_NEEDS_DECODE : flags |= KEY_NEEDS_DECODE;\n        break;\n    }\n  return startingIndex < inputLength && processKeyValuePair(input, inputLength), result;\n  function processKeyValuePair(input2, endIndex) {\n    const hasBothKeyValuePair = equalityIndex > startingIndex, effectiveEqualityIndex = hasBothKeyValuePair ? equalityIndex : endIndex, keySlice = input2.slice(startingIndex + 1, effectiveEqualityIndex);\n    if (!hasBothKeyValuePair && keySlice.length === 0) return;\n    let finalKey = keySlice;\n    flags & KEY_HAS_PLUS && (finalKey = finalKey.replace(/\\+/g, \" \")), flags & KEY_NEEDS_DECODE && (finalKey = decode(finalKey) || finalKey);\n    let finalValue = \"\";\n    if (hasBothKeyValuePair) {\n      let valueSlice = input2.slice(equalityIndex + 1, endIndex);\n      flags & VALUE_HAS_PLUS && (valueSlice = valueSlice.replace(/\\+/g, \" \")), flags & VALUE_NEEDS_DECODE && (valueSlice = decode(valueSlice) || valueSlice), finalValue = valueSlice;\n    }\n    const currentValue = result[finalKey];\n    if (finalValue.charCodeAt(0) === 91 && finalValue.charCodeAt(finalValue.length - 1) === 93) {\n      try {\n        finalValue = JSON.parse(finalValue);\n      } catch {\n      }\n      currentValue === void 0 ? result[finalKey] = finalValue : Array.isArray(currentValue) ? currentValue.push(finalValue) : result[finalKey] = [currentValue, finalValue];\n    } else if (finalValue.charCodeAt(0) === 123 && finalValue.charCodeAt(finalValue.length - 1) === 125) {\n      try {\n        finalValue = JSON.parse(finalValue);\n      } catch {\n      }\n      currentValue === void 0 ? result[finalKey] = finalValue : Array.isArray(currentValue) ? currentValue.push(finalValue) : result[finalKey] = [currentValue, finalValue];\n    } else\n      finalValue.includes(\",\") && (finalValue = finalValue.split(\",\")), currentValue === void 0 ? result[finalKey] = finalValue : Array.isArray(currentValue) ? currentValue.push(finalValue) : result[finalKey] = [currentValue, finalValue];\n  }\n}\nfunction parseQuery(input) {\n  const result = /* @__PURE__ */ Object.create(null);\n  let flags = 0;\n  const inputLength = input.length;\n  let startingIndex = -1, equalityIndex = -1;\n  for (let i = 0; i < inputLength; i++)\n    switch (input.charCodeAt(i)) {\n      // '&'\n      case 38:\n        processKeyValuePair(input, i), startingIndex = i, equalityIndex = i, flags = 0;\n        break;\n      // '='\n      case 61:\n        equalityIndex <= startingIndex ? equalityIndex = i : flags |= VALUE_NEEDS_DECODE;\n        break;\n      // '+'\n      case 43:\n        equalityIndex > startingIndex ? flags |= VALUE_HAS_PLUS : flags |= KEY_HAS_PLUS;\n        break;\n      // '%'\n      case 37:\n        equalityIndex > startingIndex ? flags |= VALUE_NEEDS_DECODE : flags |= KEY_NEEDS_DECODE;\n        break;\n    }\n  return startingIndex < inputLength && processKeyValuePair(input, inputLength), result;\n  function processKeyValuePair(input2, endIndex) {\n    const hasBothKeyValuePair = equalityIndex > startingIndex, effectiveEqualityIndex = hasBothKeyValuePair ? equalityIndex : endIndex, keySlice = input2.slice(startingIndex + 1, effectiveEqualityIndex);\n    if (!hasBothKeyValuePair && keySlice.length === 0) return;\n    let finalKey = keySlice;\n    flags & KEY_HAS_PLUS && (finalKey = finalKey.replace(/\\+/g, \" \")), flags & KEY_NEEDS_DECODE && (finalKey = decode(finalKey) || finalKey);\n    let finalValue = \"\";\n    if (hasBothKeyValuePair) {\n      let valueSlice = input2.slice(equalityIndex + 1, endIndex);\n      flags & VALUE_HAS_PLUS && (valueSlice = valueSlice.replace(/\\+/g, \" \")), flags & VALUE_NEEDS_DECODE && (valueSlice = decode(valueSlice) || valueSlice), finalValue = valueSlice;\n    }\n    const currentValue = result[finalKey];\n    currentValue === void 0 ? result[finalKey] = finalValue : Array.isArray(currentValue) ? currentValue.push(finalValue) : result[finalKey] = [currentValue, finalValue];\n  }\n}\nexport {\n  parseQuery,\n  parseQueryFromURL,\n  parseQueryStandardSchema\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2716, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/trace.mjs"],"sourcesContent":["import { ELYSIA_REQUEST_ID } from \"./utils.mjs\";\nconst ELYSIA_TRACE = Symbol(\"ElysiaTrace\"), createProcess = () => {\n  const { promise, resolve } = Promise.withResolvers(), { promise: end, resolve: resolveEnd } = Promise.withResolvers(), { promise: error, resolve: resolveError } = Promise.withResolvers(), callbacks = [], callbacksEnd = [];\n  return [\n    (callback) => (callback && callbacks.push(callback), promise),\n    (process) => {\n      const processes = [], resolvers = [];\n      let groupError = null;\n      for (let i = 0; i < (process.total ?? 0); i++) {\n        const { promise: promise2, resolve: resolve2 } = Promise.withResolvers(), { promise: end2, resolve: resolveEnd2 } = Promise.withResolvers(), { promise: error2, resolve: resolveError2 } = Promise.withResolvers(), callbacks2 = [], callbacksEnd2 = [];\n        processes.push((callback) => (callback && callbacks2.push(callback), promise2)), resolvers.push((process2) => {\n          const result2 = {\n            ...process2,\n            end: end2,\n            error: error2,\n            index: i,\n            onStop(callback) {\n              return callback && callbacksEnd2.push(callback), end2;\n            }\n          };\n          resolve2(result2);\n          for (let i2 = 0; i2 < callbacks2.length; i2++)\n            callbacks2[i2](result2);\n          return (error3 = null) => {\n            const end3 = performance.now();\n            error3 && (groupError = error3);\n            const detail = {\n              end: end3,\n              error: error3,\n              get elapsed() {\n                return end3 - process2.begin;\n              }\n            };\n            for (let i2 = 0; i2 < callbacksEnd2.length; i2++)\n              callbacksEnd2[i2](detail);\n            resolveEnd2(end3), resolveError2(error3);\n          };\n        });\n      }\n      const result = {\n        ...process,\n        end,\n        error,\n        onEvent(callback) {\n          for (let i = 0; i < processes.length; i++)\n            processes[i](callback);\n        },\n        onStop(callback) {\n          return callback && callbacksEnd.push(callback), end;\n        }\n      };\n      resolve(result);\n      for (let i = 0; i < callbacks.length; i++) callbacks[i](result);\n      return {\n        resolveChild: resolvers,\n        resolve(error2 = null) {\n          const end2 = performance.now();\n          !error2 && groupError && (error2 = groupError);\n          const detail = {\n            end: end2,\n            error: error2,\n            get elapsed() {\n              return end2 - process.begin;\n            }\n          };\n          for (let i = 0; i < callbacksEnd.length; i++)\n            callbacksEnd[i](detail);\n          resolveEnd(end2), resolveError(error2);\n        }\n      };\n    }\n  ];\n}, createTracer = (traceListener) => (context) => {\n  const [onRequest, resolveRequest] = createProcess(), [onParse, resolveParse] = createProcess(), [onTransform, resolveTransform] = createProcess(), [onBeforeHandle, resolveBeforeHandle] = createProcess(), [onHandle, resolveHandle] = createProcess(), [onAfterHandle, resolveAfterHandle] = createProcess(), [onError, resolveError] = createProcess(), [onMapResponse, resolveMapResponse] = createProcess(), [onAfterResponse, resolveAfterResponse] = createProcess();\n  return traceListener({\n    // @ts-ignore\n    id: context[ELYSIA_REQUEST_ID],\n    context,\n    set: context.set,\n    // @ts-ignore\n    onRequest,\n    // @ts-ignore\n    onParse,\n    // @ts-ignore\n    onTransform,\n    // @ts-ignore\n    onBeforeHandle,\n    // @ts-ignore\n    onHandle,\n    // @ts-ignore\n    onAfterHandle,\n    // @ts-ignore\n    onMapResponse,\n    // @ts-ignore\n    onAfterResponse,\n    // @ts-ignore\n    onError,\n    time: Date.now(),\n    store: context.store\n  }), {\n    request: resolveRequest,\n    parse: resolveParse,\n    transform: resolveTransform,\n    beforeHandle: resolveBeforeHandle,\n    handle: resolveHandle,\n    afterHandle: resolveAfterHandle,\n    error: resolveError,\n    mapResponse: resolveMapResponse,\n    afterResponse: resolveAfterResponse\n  };\n};\nexport {\n  ELYSIA_TRACE,\n  createTracer\n};\n"],"names":[],"mappings":";;;;;;AAAA;;AACA,MAAM,eAAe,OAAO,gBAAgB,gBAAgB;IAC1D,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,QAAQ,aAAa,IAAI,EAAE,SAAS,GAAG,EAAE,SAAS,UAAU,EAAE,GAAG,QAAQ,aAAa,IAAI,EAAE,SAAS,KAAK,EAAE,SAAS,YAAY,EAAE,GAAG,QAAQ,aAAa,IAAI,YAAY,EAAE,EAAE,eAAe,EAAE;IAC7N,OAAO;QACL,CAAC,WAAa,CAAC,YAAY,UAAU,IAAI,CAAC,WAAW,OAAO;QAC5D,CAAC;YACC,MAAM,YAAY,EAAE,EAAE,YAAY,EAAE;YACpC,IAAI,aAAa;YACjB,IAAK,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,GAAG,IAAK;gBAC7C,MAAM,EAAE,SAAS,QAAQ,EAAE,SAAS,QAAQ,EAAE,GAAG,QAAQ,aAAa,IAAI,EAAE,SAAS,IAAI,EAAE,SAAS,WAAW,EAAE,GAAG,QAAQ,aAAa,IAAI,EAAE,SAAS,MAAM,EAAE,SAAS,aAAa,EAAE,GAAG,QAAQ,aAAa,IAAI,aAAa,EAAE,EAAE,gBAAgB,EAAE;gBACvP,UAAU,IAAI,CAAC,CAAC,WAAa,CAAC,YAAY,WAAW,IAAI,CAAC,WAAW,QAAQ,IAAI,UAAU,IAAI,CAAC,CAAC;oBAC/F,MAAM,UAAU;wBACd,GAAG,QAAQ;wBACX,KAAK;wBACL,OAAO;wBACP,OAAO;wBACP,QAAO,QAAQ;4BACb,OAAO,YAAY,cAAc,IAAI,CAAC,WAAW;wBACnD;oBACF;oBACA,SAAS;oBACT,IAAK,IAAI,KAAK,GAAG,KAAK,WAAW,MAAM,EAAE,KACvC,UAAU,CAAC,GAAG,CAAC;oBACjB,OAAO,CAAC,SAAS,IAAI;wBACnB,MAAM,OAAO,YAAY,GAAG;wBAC5B,UAAU,CAAC,aAAa,MAAM;wBAC9B,MAAM,SAAS;4BACb,KAAK;4BACL,OAAO;4BACP,IAAI,WAAU;gCACZ,OAAO,OAAO,SAAS,KAAK;4BAC9B;wBACF;wBACA,IAAK,IAAI,KAAK,GAAG,KAAK,cAAc,MAAM,EAAE,KAC1C,aAAa,CAAC,GAAG,CAAC;wBACpB,YAAY,OAAO,cAAc;oBACnC;gBACF;YACF;YACA,MAAM,SAAS;gBACb,GAAG,OAAO;gBACV;gBACA;gBACA,SAAQ,QAAQ;oBACd,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IACpC,SAAS,CAAC,EAAE,CAAC;gBACjB;gBACA,QAAO,QAAQ;oBACb,OAAO,YAAY,aAAa,IAAI,CAAC,WAAW;gBAClD;YACF;YACA,QAAQ;YACR,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IAAK,SAAS,CAAC,EAAE,CAAC;YACxD,OAAO;gBACL,cAAc;gBACd,SAAQ,SAAS,IAAI;oBACnB,MAAM,OAAO,YAAY,GAAG;oBAC5B,CAAC,UAAU,cAAc,CAAC,SAAS,UAAU;oBAC7C,MAAM,SAAS;wBACb,KAAK;wBACL,OAAO;wBACP,IAAI,WAAU;4BACZ,OAAO,OAAO,QAAQ,KAAK;wBAC7B;oBACF;oBACA,IAAK,IAAI,IAAI,GAAG,IAAI,aAAa,MAAM,EAAE,IACvC,YAAY,CAAC,EAAE,CAAC;oBAClB,WAAW,OAAO,aAAa;gBACjC;YACF;QACF;KACD;AACH,GAAG,eAAe,CAAC,gBAAkB,CAAC;QACpC,MAAM,CAAC,WAAW,eAAe,GAAG,iBAAiB,CAAC,SAAS,aAAa,GAAG,iBAAiB,CAAC,aAAa,iBAAiB,GAAG,iBAAiB,CAAC,gBAAgB,oBAAoB,GAAG,iBAAiB,CAAC,UAAU,cAAc,GAAG,iBAAiB,CAAC,eAAe,mBAAmB,GAAG,iBAAiB,CAAC,SAAS,aAAa,GAAG,iBAAiB,CAAC,eAAe,mBAAmB,GAAG,iBAAiB,CAAC,iBAAiB,qBAAqB,GAAG;QAC5b,OAAO,cAAc;YACnB,aAAa;YACb,IAAI,OAAO,CAAC,+JAAiB,CAAC;YAC9B;YACA,KAAK,QAAQ,GAAG;YAChB,aAAa;YACb;YACA,aAAa;YACb;YACA,aAAa;YACb;YACA,aAAa;YACb;YACA,aAAa;YACb;YACA,aAAa;YACb;YACA,aAAa;YACb;YACA,aAAa;YACb;YACA,aAAa;YACb;YACA,MAAM,KAAK,GAAG;YACd,OAAO,QAAQ,KAAK;QACtB,IAAI;YACF,SAAS;YACT,OAAO;YACP,WAAW;YACX,cAAc;YACd,QAAQ;YACR,aAAa;YACb,OAAO;YACP,aAAa;YACb,eAAe;QACjB;IACF","ignoreList":[0]}},
    {"offset": {"line": 2835, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/replace-schema.mjs"],"sourcesContent":["import { Kind } from \"@sinclair/typebox\";\nimport { t } from \"./type-system/index.mjs\";\nconst replaceSchemaTypeFromManyOptions = (schema, options) => {\n  if (Array.isArray(options)) {\n    let result = schema;\n    for (const option of options)\n      result = replaceSchemaTypeFromOption(result, option);\n    return result;\n  }\n  return replaceSchemaTypeFromOption(schema, options);\n}, replaceSchemaTypeFromOption = (schema, option) => {\n  if (option.rootOnly && option.excludeRoot)\n    throw new Error(\"Can't set both rootOnly and excludeRoot\");\n  if (option.rootOnly && option.onlyFirst)\n    throw new Error(\"Can't set both rootOnly and onlyFirst\");\n  if (option.rootOnly && option.untilObjectFound)\n    throw new Error(\"Can't set both rootOnly and untilObjectFound\");\n  const walk = ({ s, isRoot, treeLvl }) => {\n    if (!s) return s;\n    const skipRoot = isRoot && option.excludeRoot, fromKind = option.from[Kind];\n    if (s.elysiaMeta)\n      return option.from.elysiaMeta === s.elysiaMeta && !skipRoot ? option.to(s) : s;\n    const shouldTransform = fromKind && s[Kind] === fromKind;\n    if (!skipRoot && option.onlyFirst && s.type === option.onlyFirst || isRoot && option.rootOnly)\n      return shouldTransform ? option.to(s) : s;\n    if (!isRoot && option.untilObjectFound && s.type === \"object\")\n      return s;\n    const newWalkInput = { isRoot: !1, treeLvl: treeLvl + 1 }, withTransformedChildren = { ...s };\n    if (s.oneOf && (withTransformedChildren.oneOf = s.oneOf.map(\n      (x) => walk({ ...newWalkInput, s: x })\n    )), s.anyOf && (withTransformedChildren.anyOf = s.anyOf.map(\n      (x) => walk({ ...newWalkInput, s: x })\n    )), s.allOf && (withTransformedChildren.allOf = s.allOf.map(\n      (x) => walk({ ...newWalkInput, s: x })\n    )), s.not && (withTransformedChildren.not = walk({ ...newWalkInput, s: s.not })), s.properties) {\n      withTransformedChildren.properties = {};\n      for (const [k, v] of Object.entries(s.properties))\n        withTransformedChildren.properties[k] = walk({\n          ...newWalkInput,\n          s: v\n        });\n    }\n    if (s.items) {\n      const items = s.items;\n      withTransformedChildren.items = Array.isArray(items) ? items.map((x) => walk({ ...newWalkInput, s: x })) : walk({ ...newWalkInput, s: items });\n    }\n    return !skipRoot && fromKind && withTransformedChildren[Kind] === fromKind ? option.to(withTransformedChildren) : withTransformedChildren;\n  };\n  return walk({ s: schema, isRoot: !0, treeLvl: 0 });\n}, revertObjAndArrStr = (schema) => {\n  if (schema.elysiaMeta !== \"ObjectString\" && schema.elysiaMeta !== \"ArrayString\")\n    return schema;\n  const anyOf = schema.anyOf;\n  return anyOf?.[1] ? anyOf[1] : schema;\n};\nlet _stringToStructureCoercions;\nconst stringToStructureCoercions = () => (_stringToStructureCoercions || (_stringToStructureCoercions = [\n  {\n    from: t.Object({}),\n    to: (schema) => t.ObjectString(schema.properties || {}, schema),\n    excludeRoot: !0\n  },\n  {\n    from: t.Array(t.Any()),\n    to: (schema) => t.ArrayString(schema.items || t.Any(), schema)\n  }\n]), _stringToStructureCoercions);\nlet _queryCoercions;\nconst queryCoercions = () => (_queryCoercions || (_queryCoercions = [\n  {\n    from: t.Object({}),\n    to: (schema) => t.ObjectString(schema.properties ?? {}, schema),\n    excludeRoot: !0\n  },\n  {\n    from: t.Array(t.Any()),\n    to: (schema) => t.ArrayQuery(schema.items ?? t.Any(), schema)\n  }\n]), _queryCoercions);\nlet _coercePrimitiveRoot;\nconst coercePrimitiveRoot = () => (_coercePrimitiveRoot || (_coercePrimitiveRoot = [\n  {\n    from: t.Number(),\n    to: (schema) => t.Numeric(schema),\n    rootOnly: !0\n  },\n  {\n    from: t.Boolean(),\n    to: (schema) => t.BooleanString(schema),\n    rootOnly: !0\n  }\n]), _coercePrimitiveRoot);\nlet _coerceFormData;\nconst coerceFormData = () => (_coerceFormData || (_coerceFormData = [\n  {\n    from: t.Object({}),\n    to: (schema) => t.ObjectString(schema.properties ?? {}, schema),\n    onlyFirst: \"object\",\n    excludeRoot: !0\n  },\n  {\n    from: t.Array(t.Any()),\n    to: (schema) => t.ArrayString(schema.items ?? t.Any(), schema),\n    onlyFirst: \"array\",\n    excludeRoot: !0\n  }\n]), _coerceFormData);\nexport {\n  coerceFormData,\n  coercePrimitiveRoot,\n  queryCoercions,\n  replaceSchemaTypeFromManyOptions,\n  revertObjAndArrStr,\n  stringToStructureCoercions\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2975, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/schema.mjs"],"sourcesContent":["import {\n  Kind,\n  OptionalKind,\n  TransformKind\n} from \"@sinclair/typebox\";\nimport { Value } from \"@sinclair/typebox/value\";\nimport { TypeCompiler } from \"@sinclair/typebox/compiler\";\nimport {\n  createMirror\n} from \"exact-mirror\";\nimport { t } from \"./type-system/index.mjs\";\nimport { mergeCookie, mergeDeep, randomId } from \"./utils.mjs\";\nimport { mapValueError } from \"./error.mjs\";\nimport {\n  replaceSchemaTypeFromManyOptions,\n  stringToStructureCoercions\n} from \"./replace-schema.mjs\";\nconst isOptional = (schema) => schema ? schema?.[Kind] === \"Import\" && schema.References ? schema.References().some(isOptional) : (schema.schema && (schema = schema.schema), !!schema && OptionalKind in schema) : !1, hasAdditionalProperties = (_schema) => {\n  if (!_schema) return !1;\n  const schema = _schema?.schema ?? _schema;\n  if (schema[Kind] === \"Import\" && _schema.References)\n    return _schema.References().some(hasAdditionalProperties);\n  if (schema.anyOf) return schema.anyOf.some(hasAdditionalProperties);\n  if (schema.someOf) return schema.someOf.some(hasAdditionalProperties);\n  if (schema.allOf) return schema.allOf.some(hasAdditionalProperties);\n  if (schema.not) return schema.not.some(hasAdditionalProperties);\n  if (schema.type === \"object\") {\n    const properties = schema.properties;\n    if (\"additionalProperties\" in schema) return schema.additionalProperties;\n    if (\"patternProperties\" in schema) return !1;\n    for (const key of Object.keys(properties)) {\n      const property = properties[key];\n      if (property.type === \"object\") {\n        if (hasAdditionalProperties(property)) return !0;\n      } else if (property.anyOf) {\n        for (let i = 0; i < property.anyOf.length; i++)\n          if (hasAdditionalProperties(property.anyOf[i])) return !0;\n      }\n      return property.additionalProperties;\n    }\n    return !1;\n  }\n  return schema.type === \"array\" && schema.items && !Array.isArray(schema.items) ? hasAdditionalProperties(schema.items) : !1;\n}, resolveSchema = (schema, models, modules) => {\n  if (schema)\n    return typeof schema != \"string\" ? schema : modules && schema in modules.$defs ? modules.Import(schema) : models?.[schema];\n}, hasType = (type, schema) => {\n  if (!schema) return !1;\n  if (Kind in schema && schema[Kind] === type) return !0;\n  if (Kind in schema && schema[Kind] === \"Import\" && schema.$defs && schema.$ref) {\n    const ref = schema.$ref.replace(\"#/$defs/\", \"\");\n    if (schema.$defs[ref])\n      return hasType(type, schema.$defs[ref]);\n  }\n  if (schema.anyOf) return schema.anyOf.some((s) => hasType(type, s));\n  if (schema.oneOf) return schema.oneOf.some((s) => hasType(type, s));\n  if (schema.allOf) return schema.allOf.some((s) => hasType(type, s));\n  if (schema.type === \"array\" && schema.items)\n    return type === \"Files\" && Kind in schema.items && schema.items[Kind] === \"File\" ? !0 : hasType(type, schema.items);\n  if (schema.type === \"object\") {\n    const properties = schema.properties;\n    if (!properties) return !1;\n    for (const key of Object.keys(properties))\n      if (hasType(type, properties[key])) return !0;\n  }\n  return !1;\n}, hasElysiaMeta = (meta, _schema) => {\n  if (!_schema) return !1;\n  const schema = _schema?.schema ?? _schema;\n  if (schema.elysiaMeta === meta) return !0;\n  if (schema[Kind] === \"Import\" && _schema.References)\n    return _schema.References().some((schema2) => hasElysiaMeta(meta, schema2));\n  if (schema.anyOf)\n    return schema.anyOf.some(\n      (schema2) => hasElysiaMeta(meta, schema2)\n    );\n  if (schema.someOf)\n    return schema.someOf.some(\n      (schema2) => hasElysiaMeta(meta, schema2)\n    );\n  if (schema.allOf)\n    return schema.allOf.some(\n      (schema2) => hasElysiaMeta(meta, schema2)\n    );\n  if (schema.not)\n    return schema.not.some((schema2) => hasElysiaMeta(meta, schema2));\n  if (schema.type === \"object\") {\n    const properties = schema.properties;\n    if (!properties) return !1;\n    for (const key of Object.keys(properties)) {\n      const property = properties[key];\n      if (property.type === \"object\") {\n        if (hasElysiaMeta(meta, property)) return !0;\n      } else if (property.anyOf) {\n        for (let i = 0; i < property.anyOf.length; i++)\n          if (hasElysiaMeta(meta, property.anyOf[i])) return !0;\n      }\n      return schema.elysiaMeta === meta;\n    }\n    return !1;\n  }\n  return schema.type === \"array\" && schema.items && !Array.isArray(schema.items) ? hasElysiaMeta(meta, schema.items) : !1;\n}, hasProperty = (expectedProperty, _schema) => {\n  if (!_schema) return;\n  const schema = _schema.schema ?? _schema;\n  if (schema[Kind] === \"Import\" && _schema.References)\n    return _schema.References().some((schema2) => hasProperty(expectedProperty, schema2));\n  if (schema.type === \"object\") {\n    const properties = schema.properties;\n    if (!properties) return !1;\n    for (const key of Object.keys(properties)) {\n      const property = properties[key];\n      if (expectedProperty in property) return !0;\n      if (property.type === \"object\") {\n        if (hasProperty(expectedProperty, property)) return !0;\n      } else if (property.anyOf) {\n        for (let i = 0; i < property.anyOf.length; i++)\n          if (hasProperty(expectedProperty, property.anyOf[i]))\n            return !0;\n      }\n    }\n    return !1;\n  }\n  return expectedProperty in schema;\n}, hasRef = (schema) => {\n  if (!schema) return !1;\n  if (schema.oneOf) {\n    for (let i = 0; i < schema.oneOf.length; i++)\n      if (hasRef(schema.oneOf[i])) return !0;\n  }\n  if (schema.anyOf) {\n    for (let i = 0; i < schema.anyOf.length; i++)\n      if (hasRef(schema.anyOf[i])) return !0;\n  }\n  if (schema.oneOf) {\n    for (let i = 0; i < schema.oneOf.length; i++)\n      if (hasRef(schema.oneOf[i])) return !0;\n  }\n  if (schema.allOf) {\n    for (let i = 0; i < schema.allOf.length; i++)\n      if (hasRef(schema.allOf[i])) return !0;\n  }\n  if (schema.not && hasRef(schema.not)) return !0;\n  if (schema.type === \"object\" && schema.properties) {\n    const properties = schema.properties;\n    for (const key of Object.keys(properties)) {\n      const property = properties[key];\n      if (hasRef(property) || property.type === \"array\" && property.items && hasRef(property.items))\n        return !0;\n    }\n  }\n  return schema.type === \"array\" && schema.items && hasRef(schema.items) ? !0 : schema[Kind] === \"Ref\" && \"$ref\" in schema;\n}, hasTransform = (schema) => {\n  if (!schema) return !1;\n  if (schema.$ref && schema.$defs && schema.$ref in schema.$defs && hasTransform(schema.$defs[schema.$ref]))\n    return !0;\n  if (schema.oneOf) {\n    for (let i = 0; i < schema.oneOf.length; i++)\n      if (hasTransform(schema.oneOf[i])) return !0;\n  }\n  if (schema.anyOf) {\n    for (let i = 0; i < schema.anyOf.length; i++)\n      if (hasTransform(schema.anyOf[i])) return !0;\n  }\n  if (schema.allOf) {\n    for (let i = 0; i < schema.allOf.length; i++)\n      if (hasTransform(schema.allOf[i])) return !0;\n  }\n  if (schema.not && hasTransform(schema.not)) return !0;\n  if (schema.type === \"object\" && schema.properties) {\n    const properties = schema.properties;\n    for (const key of Object.keys(properties)) {\n      const property = properties[key];\n      if (hasTransform(property) || property.type === \"array\" && property.items && hasTransform(property.items))\n        return !0;\n    }\n  }\n  return schema.type === \"array\" && schema.items && hasTransform(schema.items) ? !0 : TransformKind in schema;\n}, createCleaner = (schema) => (value) => {\n  if (typeof value == \"object\")\n    try {\n      return Value.Clean(schema, value);\n    } catch {\n    }\n  return value;\n}, getSchemaValidator = (s, {\n  models = {},\n  dynamic = !1,\n  modules,\n  normalize = !1,\n  additionalProperties = !1,\n  forceAdditionalProperties = !1,\n  coerce = !1,\n  additionalCoerce = [],\n  validators,\n  sanitize\n} = {}) => {\n  if (validators = validators?.filter((x) => x), !s) {\n    if (!validators?.length) return;\n    s = validators[0], validators = validators.slice(1);\n  }\n  let doesHaveRef;\n  const replaceSchema = (schema2) => coerce ? replaceSchemaTypeFromManyOptions(schema2, [\n    {\n      from: t.Number(),\n      to: (options) => t.Numeric(options),\n      untilObjectFound: !0\n    },\n    {\n      from: t.Boolean(),\n      to: (options) => t.BooleanString(options),\n      untilObjectFound: !0\n    },\n    ...Array.isArray(additionalCoerce) ? additionalCoerce : [additionalCoerce]\n  ]) : replaceSchemaTypeFromManyOptions(schema2, additionalCoerce), mapSchema = (s2) => {\n    if (s2 && typeof s2 != \"string\" && \"~standard\" in s2)\n      return s2;\n    if (!s2) return;\n    let schema2;\n    if (typeof s2 != \"string\") schema2 = s2;\n    else if (schema2 = // @ts-expect-error private property\n    modules && s2 in modules.$defs ? modules.Import(s2) : models[s2], !schema2) return;\n    const hasAdditionalCoerce = Array.isArray(additionalCoerce) ? additionalCoerce.length > 0 : !!additionalCoerce;\n    if (Kind in schema2)\n      if (schema2[Kind] === \"Import\")\n        hasRef(schema2.$defs[schema2.$ref]) || (schema2 = schema2.$defs[schema2.$ref] ?? models[schema2.$ref], (coerce || hasAdditionalCoerce) && (schema2 = replaceSchema(schema2), \"$id\" in schema2 && !schema2.$defs && (schema2.$id = `${schema2.$id}_coerced_${randomId()}`)));\n      else if (hasRef(schema2)) {\n        const id = randomId();\n        schema2 = t.Module({\n          // @ts-expect-error private property\n          ...modules?.$defs,\n          [id]: schema2\n        }).Import(id);\n      } else (coerce || hasAdditionalCoerce) && (schema2 = replaceSchema(schema2));\n    return schema2;\n  };\n  let schema = mapSchema(s), _validators = validators;\n  if (\"~standard\" in schema || validators?.length && validators.some(\n    (x) => x && typeof x != \"string\" && \"~standard\" in x\n  )) {\n    const typeboxSubValidator = (schema2) => {\n      let mirror;\n      if (normalize === !0 || normalize === \"exactMirror\")\n        try {\n          mirror = createMirror(schema2, {\n            TypeCompiler,\n            sanitize: sanitize?.(),\n            modules\n          });\n        } catch {\n          console.warn(\n            \"Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues\"\n          ), console.warn(schema2), mirror = createCleaner(schema2);\n        }\n      const vali = getSchemaValidator(schema2, {\n        models,\n        modules,\n        dynamic,\n        normalize,\n        additionalProperties: !0,\n        forceAdditionalProperties: !0,\n        coerce,\n        additionalCoerce\n      });\n      return vali.Decode = mirror, (v) => vali.Check(v) ? {\n        value: vali.Decode(v)\n      } : {\n        issues: [...vali.Errors(v)]\n      };\n    }, mainCheck = schema[\"~standard\"] ? schema[\"~standard\"].validate : typeboxSubValidator(schema);\n    let checkers = [];\n    if (validators?.length) {\n      for (const validator2 of validators)\n        if (validator2 && typeof validator2 != \"string\") {\n          if (validator2?.[\"~standard\"]) {\n            checkers.push(validator2[\"~standard\"]);\n            continue;\n          }\n          if (Kind in validator2) {\n            checkers.push(typeboxSubValidator(validator2));\n            continue;\n          }\n        }\n    }\n    async function Check(value) {\n      let v = mainCheck(value);\n      if (v instanceof Promise && (v = await v), v.issues) return v;\n      const values = [];\n      v && typeof v == \"object\" && values.push(v.value);\n      for (let i = 0; i < checkers.length; i++) {\n        if (v = checkers[i].validate(value), v instanceof Promise && (v = await v), v.issues) return v;\n        v && typeof v == \"object\" && values.push(v.value);\n      }\n      if (!values.length) return { value: v };\n      if (values.length === 1) return { value: values[0] };\n      if (values.length === 2)\n        return { value: mergeDeep(values[0], values[1]) };\n      let newValue = mergeDeep(values[0], values[1]);\n      for (let i = 2; i < values.length; i++)\n        newValue = mergeDeep(newValue, values[i]);\n      return { value: newValue };\n    }\n    const validator = {\n      provider: \"standard\",\n      schema,\n      references: \"\",\n      checkFunc: () => {\n      },\n      code: \"\",\n      // @ts-ignore\n      Check,\n      // @ts-ignore\n      Errors: (value) => Check(value)?.then?.((x) => x?.issues),\n      Code: () => \"\",\n      // @ts-ignore\n      Decode: Check,\n      // @ts-ignore\n      Encode: (value) => value,\n      hasAdditionalProperties: !1,\n      hasDefault: !1,\n      isOptional: !1,\n      hasTransform: !1,\n      hasRef: !1\n    };\n    return validator.parse = (v) => {\n      try {\n        return validator.Decode(validator.Clean?.(v) ?? v);\n      } catch {\n        throw [...validator.Errors(v)].map(mapValueError);\n      }\n    }, validator.safeParse = (v) => {\n      try {\n        return {\n          success: !0,\n          data: validator.Decode(validator.Clean?.(v) ?? v),\n          error: null\n        };\n      } catch {\n        const errors = [...compiled.Errors(v)].map(mapValueError);\n        return {\n          success: !1,\n          data: null,\n          error: errors[0]?.summary,\n          errors\n        };\n      }\n    }, validator;\n  } else if (validators?.length) {\n    let hasAdditional = !1;\n    const validators2 = _validators, { schema: mergedObjectSchema, notObjects } = mergeObjectSchemas([\n      schema,\n      ...validators2.map(mapSchema)\n    ]);\n    notObjects && (schema = t.Intersect([\n      ...mergedObjectSchema ? [mergedObjectSchema] : [],\n      ...notObjects.map((x) => {\n        const schema2 = mapSchema(x);\n        return schema2.type === \"object\" && \"additionalProperties\" in schema2 && (!hasAdditional && schema2.additionalProperties === !1 && (hasAdditional = !0), delete schema2.additionalProperties), schema2;\n      })\n    ]), schema.type === \"object\" && hasAdditional && (schema.additionalProperties = !1));\n  } else\n    schema.type === \"object\" && (!(\"additionalProperties\" in schema) || forceAdditionalProperties) ? schema.additionalProperties = additionalProperties : schema = replaceSchemaTypeFromManyOptions(schema, {\n      onlyFirst: \"object\",\n      from: t.Object({}),\n      to(schema2) {\n        return !schema2.properties || \"additionalProperties\" in schema2 ? schema2 : t.Object(schema2.properties, {\n          ...schema2,\n          additionalProperties: !1\n        });\n      }\n    });\n  if (dynamic)\n    if (Kind in schema) {\n      const validator = {\n        provider: \"typebox\",\n        schema,\n        references: \"\",\n        checkFunc: () => {\n        },\n        code: \"\",\n        // @ts-expect-error\n        Check: (value) => Value.Check(schema, value),\n        Errors: (value) => Value.Errors(schema, value),\n        Code: () => \"\",\n        Clean: createCleaner(schema),\n        Decode: (value) => Value.Decode(schema, value),\n        Encode: (value) => Value.Encode(schema, value),\n        get hasAdditionalProperties() {\n          return \"~hasAdditionalProperties\" in this ? this[\"~hasAdditionalProperties\"] : this[\"~hasAdditionalProperties\"] = hasAdditionalProperties(schema);\n        },\n        get hasDefault() {\n          return \"~hasDefault\" in this ? this[\"~hasDefault\"] : this[\"~hasDefault\"] = hasProperty(\n            \"default\",\n            schema\n          );\n        },\n        get isOptional() {\n          return \"~isOptional\" in this ? this[\"~isOptional\"] : this[\"~isOptional\"] = isOptional(schema);\n        },\n        get hasTransform() {\n          return \"~hasTransform\" in this ? this[\"~hasTransform\"] : this[\"~hasTransform\"] = hasTransform(schema);\n        },\n        \"~hasRef\": doesHaveRef,\n        get hasRef() {\n          return \"~hasRef\" in this ? this[\"~hasRef\"] : this[\"~hasRef\"] = hasTransform(schema);\n        }\n      };\n      if (schema.config && (validator.config = schema.config, validator?.schema?.config && delete validator.schema.config), normalize && schema.additionalProperties === !1)\n        if (normalize === !0 || normalize === \"exactMirror\")\n          try {\n            validator.Clean = createMirror(schema, {\n              TypeCompiler,\n              sanitize: sanitize?.(),\n              modules\n            });\n          } catch {\n            console.warn(\n              \"Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues\"\n            ), console.warn(schema), validator.Clean = createCleaner(schema);\n          }\n        else validator.Clean = createCleaner(schema);\n      return validator.parse = (v) => {\n        try {\n          return validator.Decode(validator.Clean?.(v) ?? v);\n        } catch {\n          throw [...validator.Errors(v)].map(mapValueError);\n        }\n      }, validator.safeParse = (v) => {\n        try {\n          return {\n            success: !0,\n            data: validator.Decode(validator.Clean?.(v) ?? v),\n            error: null\n          };\n        } catch {\n          const errors = [...compiled.Errors(v)].map(mapValueError);\n          return {\n            success: !1,\n            data: null,\n            error: errors[0]?.summary,\n            errors\n          };\n        }\n      }, validator;\n    } else {\n      const validator = {\n        provider: \"standard\",\n        schema,\n        references: \"\",\n        checkFunc: () => {\n        },\n        code: \"\",\n        // @ts-ignore\n        Check: (v) => schema[\"~standard\"].validate(v),\n        // @ts-ignore\n        Errors(value) {\n          const response = schema[\"~standard\"].validate(value);\n          if (response instanceof Promise)\n            throw Error(\n              \"Async validation is not supported in non-dynamic schema\"\n            );\n          return response.issues;\n        },\n        Code: () => \"\",\n        // @ts-ignore\n        Decode(value) {\n          const response = schema[\"~standard\"].validate(value);\n          if (response instanceof Promise)\n            throw Error(\n              \"Async validation is not supported in non-dynamic schema\"\n            );\n          return response;\n        },\n        // @ts-ignore\n        Encode: (value) => value,\n        hasAdditionalProperties: !1,\n        hasDefault: !1,\n        isOptional: !1,\n        hasTransform: !1,\n        hasRef: !1\n      };\n      return validator.parse = (v) => {\n        try {\n          return validator.Decode(validator.Clean?.(v) ?? v);\n        } catch {\n          throw [...validator.Errors(v)].map(mapValueError);\n        }\n      }, validator.safeParse = (v) => {\n        try {\n          return {\n            success: !0,\n            data: validator.Decode(validator.Clean?.(v) ?? v),\n            error: null\n          };\n        } catch {\n          const errors = [...compiled.Errors(v)].map(mapValueError);\n          return {\n            success: !1,\n            data: null,\n            error: errors[0]?.summary,\n            errors\n          };\n        }\n      }, validator;\n    }\n  let compiled;\n  if (Kind in schema)\n    if (compiled = TypeCompiler.Compile(\n      schema,\n      Object.values(models).filter((x) => Kind in x)\n    ), compiled.provider = \"typebox\", schema.config && (compiled.config = schema.config, compiled?.schema?.config && delete compiled.schema.config), normalize === !0 || normalize === \"exactMirror\")\n      try {\n        compiled.Clean = createMirror(schema, {\n          TypeCompiler,\n          sanitize: sanitize?.(),\n          modules\n        });\n      } catch {\n        console.warn(\n          \"Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues\"\n        ), console.dir(schema, {\n          depth: null\n        }), compiled.Clean = createCleaner(schema);\n      }\n    else normalize === \"typebox\" && (compiled.Clean = createCleaner(schema));\n  else\n    compiled = {\n      provider: \"standard\",\n      schema,\n      references: \"\",\n      checkFunc(value) {\n        const response = schema[\"~standard\"].validate(value);\n        if (response instanceof Promise)\n          throw Error(\n            \"Async validation is not supported in non-dynamic schema\"\n          );\n        return response;\n      },\n      code: \"\",\n      // @ts-ignore\n      Check: (v) => schema[\"~standard\"].validate(v),\n      // @ts-ignore\n      Errors(value) {\n        const response = schema[\"~standard\"].validate(value);\n        if (response instanceof Promise)\n          throw Error(\n            \"Async validation is not supported in non-dynamic schema\"\n          );\n        return response.issues;\n      },\n      Code: () => \"\",\n      // @ts-ignore\n      Decode(value) {\n        const response = schema[\"~standard\"].validate(value);\n        if (response instanceof Promise)\n          throw Error(\n            \"Async validation is not supported in non-dynamic schema\"\n          );\n        return response;\n      },\n      // @ts-ignore\n      Encode: (value) => value,\n      hasAdditionalProperties: !1,\n      hasDefault: !1,\n      isOptional: !1,\n      hasTransform: !1,\n      hasRef: !1\n    };\n  return compiled.parse = (v) => {\n    try {\n      return compiled.Decode(compiled.Clean?.(v) ?? v);\n    } catch {\n      throw [...compiled.Errors(v)].map(mapValueError);\n    }\n  }, compiled.safeParse = (v) => {\n    try {\n      return {\n        success: !0,\n        data: compiled.Decode(compiled.Clean?.(v) ?? v),\n        error: null\n      };\n    } catch {\n      const errors = [...compiled.Errors(v)].map(mapValueError);\n      return {\n        success: !1,\n        data: null,\n        error: errors[0]?.summary,\n        errors\n      };\n    }\n  }, Kind in schema && Object.assign(compiled, {\n    get hasAdditionalProperties() {\n      return \"~hasAdditionalProperties\" in this ? this[\"~hasAdditionalProperties\"] : this[\"~hasAdditionalProperties\"] = hasAdditionalProperties(compiled);\n    },\n    get hasDefault() {\n      return \"~hasDefault\" in this ? this[\"~hasDefault\"] : this[\"~hasDefault\"] = hasProperty(\"default\", compiled);\n    },\n    get isOptional() {\n      return \"~isOptional\" in this ? this[\"~isOptional\"] : this[\"~isOptional\"] = isOptional(compiled);\n    },\n    get hasTransform() {\n      return \"~hasTransform\" in this ? this[\"~hasTransform\"] : this[\"~hasTransform\"] = hasTransform(schema);\n    },\n    get hasRef() {\n      return \"~hasRef\" in this ? this[\"~hasRef\"] : this[\"~hasRef\"] = hasRef(schema);\n    },\n    \"~hasRef\": doesHaveRef\n  }), compiled;\n}, isUnion = (schema) => schema[Kind] === \"Union\" || !schema.schema && !!schema.anyOf, mergeObjectSchemas = (schemas) => {\n  if (schemas.length === 0)\n    return {\n      schema: void 0,\n      notObjects: []\n    };\n  if (schemas.length === 1)\n    return schemas[0].type === \"object\" ? {\n      schema: schemas[0],\n      notObjects: []\n    } : {\n      schema: void 0,\n      notObjects: schemas\n    };\n  let newSchema;\n  const notObjects = [];\n  let additionalPropertiesIsTrue = !1, additionalPropertiesIsFalse = !1;\n  for (const schema of schemas) {\n    if (schema.type !== \"object\") {\n      notObjects.push(schema);\n      continue;\n    }\n    if (\"additionalProperties\" in schema && (schema.additionalProperties === !0 ? additionalPropertiesIsTrue = !0 : schema.additionalProperties === !1 && (additionalPropertiesIsFalse = !0)), !newSchema) {\n      newSchema = schema;\n      continue;\n    }\n    newSchema = {\n      ...newSchema,\n      ...schema,\n      properties: {\n        ...newSchema.properties,\n        ...schema.properties\n      },\n      required: [\n        ...newSchema?.required ?? [],\n        ...schema.required ?? []\n      ]\n    };\n  }\n  return newSchema && (newSchema.required && (newSchema.required = [...new Set(newSchema.required)]), additionalPropertiesIsFalse ? newSchema.additionalProperties = !1 : additionalPropertiesIsTrue && (newSchema.additionalProperties = !0)), {\n    schema: newSchema,\n    notObjects\n  };\n}, getResponseSchemaValidator = (s, {\n  models = {},\n  modules,\n  dynamic = !1,\n  normalize = !1,\n  additionalProperties = !1,\n  validators = [],\n  sanitize\n}) => {\n  if (validators = validators.filter((x) => x), !s) {\n    if (!validators?.length) return;\n    s = validators[0], validators = validators.slice(1);\n  }\n  let maybeSchemaOrRecord;\n  if (typeof s != \"string\") maybeSchemaOrRecord = s;\n  else if (maybeSchemaOrRecord = // @ts-expect-error private property\n  modules && s in modules.$defs ? modules.Import(s) : models[s], !maybeSchemaOrRecord) return;\n  if (!maybeSchemaOrRecord) return;\n  if (Kind in maybeSchemaOrRecord || \"~standard\" in maybeSchemaOrRecord)\n    return {\n      200: getSchemaValidator(\n        maybeSchemaOrRecord,\n        {\n          modules,\n          models,\n          additionalProperties,\n          dynamic,\n          normalize,\n          coerce: !1,\n          additionalCoerce: [],\n          validators: validators.map((x) => x[200]),\n          sanitize\n        }\n      )\n    };\n  const record = {};\n  return Object.keys(maybeSchemaOrRecord).forEach((status) => {\n    if (isNaN(+status)) return;\n    const maybeNameOrSchema = maybeSchemaOrRecord[+status];\n    if (typeof maybeNameOrSchema == \"string\") {\n      if (maybeNameOrSchema in models) {\n        const schema = models[maybeNameOrSchema];\n        if (!schema) return;\n        record[+status] = Kind in schema || \"~standard\" in schema ? getSchemaValidator(schema, {\n          modules,\n          models,\n          additionalProperties,\n          dynamic,\n          normalize,\n          coerce: !1,\n          additionalCoerce: [],\n          validators: validators.map((x) => x[+status]),\n          sanitize\n        }) : schema;\n      }\n      return;\n    }\n    record[+status] = Kind in maybeNameOrSchema || \"~standard\" in maybeNameOrSchema ? getSchemaValidator(maybeNameOrSchema, {\n      modules,\n      models,\n      additionalProperties,\n      dynamic,\n      normalize,\n      coerce: !1,\n      additionalCoerce: [],\n      validators: validators.map((x) => x[+status]),\n      sanitize\n    }) : maybeNameOrSchema;\n  }), record;\n}, getCookieValidator = ({\n  validator,\n  modules,\n  defaultConfig = {},\n  config,\n  dynamic,\n  normalize = !1,\n  models,\n  validators,\n  sanitize\n}) => {\n  let cookieValidator = (\n    // @ts-ignore\n    validator?.provider ? validator : (\n      // @ts-ignore\n      getSchemaValidator(validator, {\n        modules,\n        dynamic,\n        models,\n        normalize,\n        additionalProperties: !0,\n        coerce: !0,\n        additionalCoerce: stringToStructureCoercions(),\n        validators,\n        sanitize\n      })\n    )\n  );\n  return cookieValidator ? cookieValidator.config = mergeCookie(cookieValidator.config, config) : (cookieValidator = getSchemaValidator(t.Cookie(t.Any()), {\n    modules,\n    dynamic,\n    models,\n    additionalProperties: !0,\n    validators,\n    sanitize\n  }), cookieValidator.config = defaultConfig), cookieValidator;\n}, unwrapImportSchema = (schema) => schema && schema[Kind] === \"Import\" && schema.$defs[schema.$ref][Kind] === \"Object\" ? schema.$defs[schema.$ref] : schema;\nexport {\n  getCookieValidator,\n  getResponseSchemaValidator,\n  getSchemaValidator,\n  hasAdditionalProperties,\n  hasElysiaMeta,\n  hasProperty,\n  hasRef,\n  hasTransform,\n  hasType,\n  isOptional,\n  isUnion,\n  mergeObjectSchemas,\n  resolveSchema,\n  unwrapImportSchema\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3678, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/compose.mjs"],"sourcesContent":["import { Cookie } from \"./index.mjs\";\nimport { Value, TransformDecodeError } from \"@sinclair/typebox/value\";\nimport {\n  Kind,\n  TypeBoxError\n} from \"@sinclair/typebox\";\nimport decode from \"fast-decode-uri-component\";\nimport {\n  parseQuery,\n  parseQueryFromURL,\n  parseQueryStandardSchema\n} from \"./parse-query.mjs\";\nimport {\n  ELYSIA_REQUEST_ID,\n  getLoosePath,\n  hasSetImmediate,\n  lifeCycleToFn,\n  randomId,\n  redirect,\n  signCookie,\n  isNotEmpty,\n  encodePath,\n  mergeCookie,\n  getResponseLength\n} from \"./utils.mjs\";\nimport { isBun } from \"./universal/utils.mjs\";\nimport { ParseError, status } from \"./error.mjs\";\nimport {\n  NotFoundError,\n  ValidationError,\n  ERROR_CODE,\n  ElysiaCustomStatusResponse\n} from \"./error.mjs\";\nimport { ELYSIA_TRACE } from \"./trace.mjs\";\nimport {\n  getSchemaValidator,\n  hasElysiaMeta,\n  hasType,\n  isUnion,\n  unwrapImportSchema\n} from \"./schema.mjs\";\nimport { sucrose } from \"./sucrose.mjs\";\nimport { parseCookie } from \"./cookies.mjs\";\nimport { fileType } from \"./type-system/utils.mjs\";\nimport { tee } from \"./adapter/utils.mjs\";\nimport { coercePrimitiveRoot } from \"./replace-schema.mjs\";\nconst allocateIf = (value, condition) => condition ? value : \"\", defaultParsers = [\n  \"json\",\n  \"text\",\n  \"urlencoded\",\n  \"arrayBuffer\",\n  \"formdata\",\n  \"application/json\",\n  // eslint-disable-next-line sonarjs/no-duplicate-string\n  \"text/plain\",\n  // eslint-disable-next-line sonarjs/no-duplicate-string\n  \"application/x-www-form-urlencoded\",\n  // eslint-disable-next-line sonarjs/no-duplicate-string\n  \"application/octet-stream\",\n  // eslint-disable-next-line sonarjs/no-duplicate-string\n  \"multipart/form-data\"\n], createReport = ({\n  context = \"c\",\n  trace = [],\n  addFn\n}) => {\n  if (!trace.length)\n    return () => ({\n      resolveChild() {\n        return () => {\n        };\n      },\n      resolve() {\n      }\n    });\n  for (let i = 0; i < trace.length; i++)\n    addFn(\n      `let report${i},reportChild${i},reportErr${i},reportErrChild${i};let trace${i}=${context}[ELYSIA_TRACE]?.[${i}]??trace[${i}](${context});\n`\n    );\n  return (event, {\n    name,\n    total = 0,\n    alias\n  } = {}) => {\n    name || (name = \"anonymous\");\n    const reporter = event === \"error\" ? \"reportErr\" : \"report\";\n    for (let i = 0; i < trace.length; i++)\n      addFn(\n        `${alias ? \"const \" : \"\"}${alias ?? reporter}${i}=trace${i}.${event}({id,event:'${event}',name:'${name}',begin:performance.now(),total:${total}})\n`\n      ), alias && addFn(`${reporter}${i}=${alias}${i}\n`);\n    return {\n      resolve() {\n        for (let i = 0; i < trace.length; i++)\n          addFn(`${alias ?? reporter}${i}.resolve()\n`);\n      },\n      resolveChild(name2) {\n        for (let i = 0; i < trace.length; i++)\n          addFn(\n            `${reporter}Child${i}=${reporter}${i}.resolveChild?.shift()?.({id,event:'${event}',name:'${name2}',begin:performance.now()})\n`\n          );\n        return (binding) => {\n          for (let i = 0; i < trace.length; i++)\n            addFn(\n              binding ? `if(${binding} instanceof Error){${reporter}Child${i}?.(${binding}) }else{${reporter}Child${i}?.()}` : `${reporter}Child${i}?.()\n`\n            );\n        };\n      }\n    };\n  };\n}, composeCleaner = ({\n  schema,\n  name,\n  type,\n  typeAlias = type,\n  normalize,\n  ignoreTryCatch = !1\n}) => !normalize || !schema.Clean ? \"\" : normalize === !0 || normalize === \"exactMirror\" ? ignoreTryCatch ? `${name}=validator.${typeAlias}.Clean(${name})\n` : `try{${name}=validator.${typeAlias}.Clean(${name})\n}catch{}` : normalize === \"typebox\" ? `${name}=validator.${typeAlias}.Clean(${name})\n` : \"\", composeValidationFactory = ({\n  injectResponse = \"\",\n  normalize = !1,\n  validator,\n  encodeSchema = !1,\n  isStaticResponse = !1,\n  hasSanitize = !1,\n  allowUnsafeValidationDetails = !1\n}) => ({\n  validate: (type, value = `c.${type}`, error) => `c.set.status=422;throw new ValidationError('${type}',validator.${type},${value},${allowUnsafeValidationDetails}${error ? \",\" + error : \"\"})`,\n  response: (name = \"r\") => {\n    if (isStaticResponse || !validator.response) return \"\";\n    let code = injectResponse + `\n`;\n    code += `if(${name} instanceof ElysiaCustomStatusResponse){c.set.status=${name}.code\n${name}=${name}.response}if(${name} instanceof Response === false && typeof ${name}?.next !== 'function' && !(${name} instanceof ReadableStream))switch(c.set.status){`;\n    for (const [status2, value] of Object.entries(validator.response)) {\n      if (code += `\ncase ${status2}:\n`, value.provider === \"standard\") {\n        code += `let vare${status2}=validator.response[${status2}].Check(${name})\nif(vare${status2} instanceof Promise)vare${status2}=await vare${status2}\nif(vare${status2}.issues)throw new ValidationError('response',validator.response[${status2}],${name},${allowUnsafeValidationDetails},vare${status2}.issues)\n${name}=vare${status2}.value\nc.set.status=${status2}\nbreak\n`;\n        continue;\n      }\n      let noValidate = value.schema?.noValidate === !0;\n      if (!noValidate && value.schema?.$ref && value.schema?.$defs) {\n        const refKey = value.schema.$ref, defKey = typeof refKey == \"string\" && refKey.includes(\"/\") ? refKey.split(\"/\").pop() : refKey;\n        value.schema.$defs[defKey]?.noValidate === !0 && (noValidate = !0);\n      }\n      const appliedCleaner = noValidate || hasSanitize, clean = ({ ignoreTryCatch = !1 } = {}) => composeCleaner({\n        name,\n        schema: value,\n        type: \"response\",\n        typeAlias: `response[${status2}]`,\n        normalize,\n        ignoreTryCatch\n      });\n      appliedCleaner && (code += clean());\n      const applyErrorCleaner = !appliedCleaner && normalize && !noValidate;\n      encodeSchema && value.hasTransform && !noValidate ? (code += `try{${name}=validator.response[${status2}].Encode(${name})\n`, appliedCleaner || (code += clean({ ignoreTryCatch: !0 })), code += `c.set.status=${status2}}catch{` + (applyErrorCleaner ? `try{\n` + clean({ ignoreTryCatch: !0 }) + `${name}=validator.response[${status2}].Encode(${name})\n}catch{throw new ValidationError('response',validator.response[${status2}],${name},${allowUnsafeValidationDetails})}` : `throw new ValidationError('response',validator.response[${status2}],${name}),${allowUnsafeValidationDetails}`) + \"}\") : (appliedCleaner || (code += clean()), noValidate || (code += `if(validator.response[${status2}].Check(${name})===false)throw new ValidationError('response',validator.response[${status2}],${name},${allowUnsafeValidationDetails})\nc.set.status=${status2}\n`)), code += `break\n`;\n    }\n    return code + \"}\";\n  }\n}), isAsyncName = (v) => (v?.fn ?? v).constructor.name === \"AsyncFunction\", matchResponseClone = /=>\\s?response\\.clone\\(/, matchFnReturn = /(?:return|=>)\\s?\\S+\\(|a(?:sync|wait)/, isAsync = (v) => {\n  const isObject = typeof v == \"object\";\n  if (isObject && v.isAsync !== void 0) return v.isAsync;\n  const fn = isObject ? v.fn : v;\n  if (fn.constructor.name === \"AsyncFunction\") return !0;\n  const literal = fn.toString();\n  if (matchResponseClone.test(literal))\n    return isObject && (v.isAsync = !1), !1;\n  const result = matchFnReturn.test(literal);\n  return isObject && (v.isAsync = result), result;\n}, hasReturn = (v) => {\n  const isObject = typeof v == \"object\";\n  if (isObject && v.hasReturn !== void 0) return v.hasReturn;\n  const fnLiteral = isObject ? v.fn.toString() : v.toString(), parenthesisEnd = fnLiteral.indexOf(\")\"), arrowIndex = fnLiteral.indexOf(\"=>\", parenthesisEnd);\n  if (arrowIndex !== -1) {\n    let afterArrow = arrowIndex + 2, charCode;\n    for (; afterArrow < fnLiteral.length && ((charCode = fnLiteral.charCodeAt(afterArrow)) === 32 || // space\n    charCode === 9 || // tab\n    charCode === 10 || // newline\n    charCode === 13); )\n      afterArrow++;\n    if (afterArrow < fnLiteral.length && fnLiteral.charCodeAt(afterArrow) !== 123)\n      return isObject && (v.hasReturn = !0), !0;\n  }\n  const result = fnLiteral.includes(\"return\");\n  return isObject && (v.hasReturn = result), result;\n}, isGenerator = (v) => {\n  const fn = v?.fn ?? v;\n  return fn.constructor.name === \"AsyncGeneratorFunction\" || fn.constructor.name === \"GeneratorFunction\";\n}, coerceTransformDecodeError = (fnLiteral, type, allowUnsafeValidationDetails = !1, value = `c.${type}`) => `try{${fnLiteral}}catch(error){if(error.constructor.name === 'TransformDecodeError'){c.set.status=422\nthrow error.error ?? new ValidationError('${type}',validator.${type},${value},${allowUnsafeValidationDetails})}}`, setImmediateFn = hasSetImmediate ? \"setImmediate\" : \"Promise.resolve().then\", composeHandler = ({\n  app,\n  path,\n  method,\n  hooks,\n  validator,\n  handler,\n  allowMeta = !1,\n  inference\n}) => {\n  const adapter = app[\"~adapter\"].composeHandler, adapterHandler = app[\"~adapter\"].handler, isHandleFn = typeof handler == \"function\";\n  if (!isHandleFn) {\n    handler = adapterHandler.mapResponse(handler, {\n      // @ts-expect-error private property\n      headers: app.setHeaders ?? {}\n    });\n    const isResponse = handler instanceof Response || // @ts-ignore If it's not instanceof Response, it might be a polyfill (only on Node)\n    handler?.constructor?.name === \"Response\" && typeof handler?.clone == \"function\";\n    if (hooks.parse?.length && hooks.transform?.length && hooks.beforeHandle?.length && hooks.afterHandle?.length)\n      return isResponse ? Function(\n        \"a\",\n        `\"use strict\";\nreturn function(){return a.clone()}`\n      )(handler) : Function(\n        \"a\",\n        `\"use strict\";\nreturn function(){return a}`\n      )(handler);\n    if (isResponse) {\n      const response = handler;\n      handler = () => response.clone();\n    }\n  }\n  const handle = isHandleFn ? \"handler(c)\" : \"handler\", hasTrace = !!hooks.trace?.length;\n  let fnLiteral = \"\";\n  if (inference = sucrose(\n    Object.assign({ handler }, hooks),\n    inference,\n    app.config.sucrose\n  ), adapter.declare) {\n    const literal = adapter.declare(inference);\n    literal && (fnLiteral += literal);\n  }\n  inference.server && (fnLiteral += `Object.defineProperty(c,'server',{get:function(){return getServer()}})\n`), validator.createBody?.(), validator.createQuery?.(), validator.createHeaders?.(), validator.createParams?.(), validator.createCookie?.(), validator.createResponse?.();\n  const hasValidation = !!validator.body || !!validator.headers || !!validator.params || !!validator.query || !!validator.cookie || !!validator.response, hasQuery = inference.query || !!validator.query, requestNoBody = hooks.parse?.length === 1 && // @ts-expect-error\n  hooks.parse[0].fn === \"none\", hasBody = method !== \"\" && method !== \"GET\" && method !== \"HEAD\" && (inference.body || !!validator.body || !!hooks.parse?.length) && !requestNoBody, defaultHeaders = app.setHeaders, hasDefaultHeaders = defaultHeaders && !!Object.keys(defaultHeaders).length, hasHeaders = inference.headers || !!validator.headers || adapter.preferWebstandardHeaders !== !0 && inference.body, hasCookie = inference.cookie || !!validator.cookie, cookieMeta = validator.cookie?.config ? mergeCookie(validator?.cookie?.config, app.config.cookie) : app.config.cookie;\n  let _encodeCookie = \"\";\n  const encodeCookie = () => {\n    if (_encodeCookie) return _encodeCookie;\n    if (cookieMeta?.sign) {\n      if (!cookieMeta.secrets)\n        throw new Error(\n          `t.Cookie required secret which is not set in (${method}) ${path}.`\n        );\n      const secret = cookieMeta.secrets ? typeof cookieMeta.secrets == \"string\" ? cookieMeta.secrets : cookieMeta.secrets[0] : void 0;\n      if (_encodeCookie += `const _setCookie = c.set.cookie\nif(_setCookie){`, cookieMeta.sign === !0)\n        _encodeCookie += `for(const [key, cookie] of Object.entries(_setCookie)){c.set.cookie[key].value=await signCookie(cookie.value,${secret ? JSON.stringify(secret) : \"undefined\"})}`;\n      else {\n        typeof cookieMeta.sign == \"string\" && (cookieMeta.sign = [cookieMeta.sign]);\n        for (const name of cookieMeta.sign)\n          _encodeCookie += `if(_setCookie[${JSON.stringify(name)}]?.value)c.set.cookie[${JSON.stringify(name)}].value=await signCookie(_setCookie[${JSON.stringify(name)}].value,${secret ? JSON.stringify(secret) : \"undefined\"})\n`;\n      }\n      _encodeCookie += `}\n`;\n    }\n    return _encodeCookie;\n  }, normalize = app.config.normalize, encodeSchema = app.config.encodeSchema, allowUnsafeValidationDetails = app.config.allowUnsafeValidationDetails, validation = composeValidationFactory({\n    normalize,\n    validator,\n    encodeSchema,\n    isStaticResponse: handler instanceof Response,\n    hasSanitize: !!app.config.sanitize,\n    allowUnsafeValidationDetails\n  });\n  hasHeaders && (fnLiteral += adapter.headers), hasTrace && (fnLiteral += `const id=c[ELYSIA_REQUEST_ID]\n`);\n  const report = createReport({\n    trace: hooks.trace,\n    addFn: (word) => {\n      fnLiteral += word;\n    }\n  });\n  if (fnLiteral += \"try{\", hasCookie) {\n    const get = (name, defaultValue) => {\n      const value = cookieMeta?.[name] ?? defaultValue;\n      return value === void 0 ? \"\" : value ? typeof value == \"string\" ? `${name}:${JSON.stringify(value)},` : value instanceof Date ? `${name}: new Date(${value.getTime()}),` : `${name}:${value},` : typeof defaultValue == \"string\" ? `${name}:\"${defaultValue}\",` : `${name}:${defaultValue},`;\n    }, options = cookieMeta ? `{secrets:${cookieMeta.secrets !== void 0 ? typeof cookieMeta.secrets == \"string\" ? JSON.stringify(cookieMeta.secrets) : \"[\" + cookieMeta.secrets.map((x) => JSON.stringify(x)).join(\",\") + \"]\" : \"undefined\"},sign:${cookieMeta.sign === !0 ? !0 : cookieMeta.sign !== void 0 ? typeof cookieMeta.sign == \"string\" ? JSON.stringify(cookieMeta.sign) : \"[\" + cookieMeta.sign.map((x) => JSON.stringify(x)).join(\",\") + \"]\" : \"undefined\"},` + get(\"domain\") + get(\"expires\") + get(\"httpOnly\") + get(\"maxAge\") + get(\"path\", \"/\") + get(\"priority\") + get(\"sameSite\") + get(\"secure\") + \"}\" : \"undefined\";\n    hasHeaders ? fnLiteral += `\nc.cookie=await parseCookie(c.set,c.headers.cookie,${options})\n` : fnLiteral += `\nc.cookie=await parseCookie(c.set,c.request.headers.get('cookie'),${options})\n`;\n  }\n  if (hasQuery) {\n    let arrayProperties = {}, objectProperties = {}, hasArrayProperty = !1, hasObjectProperty = !1;\n    if (validator.query?.schema) {\n      const schema = unwrapImportSchema(validator.query?.schema);\n      if (Kind in schema && schema.properties)\n        for (const [key, value] of Object.entries(schema.properties))\n          hasElysiaMeta(\"ArrayQuery\", value) && (arrayProperties[key] = !0, hasArrayProperty = !0), hasElysiaMeta(\"ObjectString\", value) && (objectProperties[key] = !0, hasObjectProperty = !0);\n    }\n    fnLiteral += `if(c.qi===-1){c.query=Object.create(null)}else{c.query=parseQueryFromURL(c.url,c.qi+1${//\n    hasArrayProperty ? \",\" + JSON.stringify(arrayProperties) : hasObjectProperty ? \",undefined\" : \"\"}${//\n    hasObjectProperty ? \",\" + JSON.stringify(objectProperties) : \"\"})}`;\n  }\n  const isAsyncHandler = typeof handler == \"function\" && isAsync(handler), saveResponse = hasTrace || hooks.afterResponse?.length ? \"c.response=c.responseValue= \" : \"\", responseKeys = Object.keys(validator.response ?? {}), hasMultipleResponses = responseKeys.length > 1, hasSingle200 = responseKeys.length === 0 || responseKeys.length === 1 && responseKeys[0] === \"200\", maybeAsync = hasCookie || hasBody || isAsyncHandler || !!hooks.parse?.length || !!hooks.afterHandle?.some(isAsync) || !!hooks.beforeHandle?.some(isAsync) || !!hooks.transform?.some(isAsync) || !!hooks.mapResponse?.some(isAsync) || validator.body?.provider === \"standard\" || validator.headers?.provider === \"standard\" || validator.query?.provider === \"standard\" || validator.params?.provider === \"standard\" || validator.cookie?.provider === \"standard\" || Object.values(validator.response ?? {}).find(\n    (x) => x.provider === \"standard\"\n  ), maybeStream = (typeof handler == \"function\" ? isGenerator(handler) : !1) || !!hooks.beforeHandle?.some(isGenerator) || !!hooks.afterHandle?.some(isGenerator) || !!hooks.transform?.some(isGenerator), hasSet = inference.cookie || inference.set || hasHeaders || hasTrace || hasMultipleResponses || !hasSingle200 || isHandleFn && hasDefaultHeaders || maybeStream;\n  let _afterResponse;\n  const afterResponse = (hasStream = !0) => {\n    if (_afterResponse !== void 0) return _afterResponse;\n    if (!hooks.afterResponse?.length && !hasTrace) return \"\";\n    let afterResponse2 = \"\";\n    afterResponse2 += `\n${setImmediateFn}(async()=>{if(c.responseValue){if(c.responseValue instanceof ElysiaCustomStatusResponse) c.set.status=c.responseValue.code\n` + (hasStream ? `if(typeof afterHandlerStreamListener!=='undefined')for await(const v of afterHandlerStreamListener){}\n` : \"\") + `}\n`;\n    const reporter = createReport({\n      trace: hooks.trace,\n      addFn: (word) => {\n        afterResponse2 += word;\n      }\n    })(\"afterResponse\", {\n      total: hooks.afterResponse?.length\n    });\n    if (hooks.afterResponse?.length && hooks.afterResponse)\n      for (let i = 0; i < hooks.afterResponse.length; i++) {\n        const endUnit = reporter.resolveChild(\n          hooks.afterResponse[i].fn.name\n        ), prefix = isAsync(hooks.afterResponse[i]) ? \"await \" : \"\";\n        afterResponse2 += `\n${prefix}e.afterResponse[${i}](c)\n`, endUnit();\n      }\n    return reporter.resolve(), afterResponse2 += `})\n`, _afterResponse = afterResponse2;\n  }, mapResponse = (r = \"r\") => {\n    const after = afterResponse(), response = `${hasSet ? \"mapResponse\" : \"mapCompactResponse\"}(${saveResponse}${r}${hasSet ? \",c.set\" : \"\"}${mapResponseContext})\n`;\n    return after ? `const _res=${response}` + after + \"return _res\" : `return ${response}`;\n  }, mapResponseContext = maybeStream && adapter.mapResponseContext ? `,${adapter.mapResponseContext}` : \"\";\n  (hasTrace || inference.route) && (fnLiteral += `c.route=\\`${path}\\`\n`), (hasTrace || hooks.afterResponse?.length) && (fnLiteral += `let afterHandlerStreamListener\n`);\n  const parseReporter = report(\"parse\", {\n    total: hooks.parse?.length\n  });\n  if (hasBody) {\n    const hasBodyInference = !!hooks.parse?.length || inference.body || validator.body;\n    adapter.parser.declare && (fnLiteral += adapter.parser.declare), fnLiteral += `\ntry{`;\n    let parser = typeof hooks.parse == \"string\" ? hooks.parse : Array.isArray(hooks.parse) && hooks.parse.length === 1 ? typeof hooks.parse[0] == \"string\" ? hooks.parse[0] : typeof hooks.parse[0].fn == \"string\" ? hooks.parse[0].fn : void 0 : void 0;\n    if (!parser && validator.body && !hooks.parse?.length) {\n      const schema = validator.body.schema;\n      schema && schema.anyOf && schema[Kind] === \"Union\" && schema.anyOf?.length === 2 && schema.anyOf?.find((x) => x[Kind] === \"ElysiaForm\") && (parser = \"formdata\");\n    }\n    if (parser && defaultParsers.includes(parser)) {\n      const reporter = report(\"parse\", {\n        total: hooks.parse?.length\n      }), isOptionalBody = !!validator.body?.isOptional;\n      switch (parser) {\n        case \"json\":\n        case \"application/json\":\n          fnLiteral += adapter.parser.json(isOptionalBody);\n          break;\n        case \"text\":\n        case \"text/plain\":\n          fnLiteral += adapter.parser.text(isOptionalBody);\n          break;\n        case \"urlencoded\":\n        case \"application/x-www-form-urlencoded\":\n          fnLiteral += adapter.parser.urlencoded(isOptionalBody);\n          break;\n        case \"arrayBuffer\":\n        case \"application/octet-stream\":\n          fnLiteral += adapter.parser.arrayBuffer(isOptionalBody);\n          break;\n        case \"formdata\":\n        case \"multipart/form-data\":\n          fnLiteral += adapter.parser.formData(isOptionalBody);\n          break;\n        default:\n          parser[0] in app[\"~parser\"] && (fnLiteral += hasHeaders ? \"let contentType = c.headers['content-type']\" : \"let contentType = c.request.headers.get('content-type')\", fnLiteral += `\nif(contentType){const index=contentType.indexOf(';')\nif(index!==-1)contentType=contentType.substring(0,index)}\nelse{contentType=''}c.contentType=contentType\nlet result=parser['${parser}'](c, contentType)\nif(result instanceof Promise)result=await result\nif(result instanceof ElysiaCustomStatusResponse)throw result\nif(result!==undefined)c.body=result\ndelete c.contentType\n`);\n          break;\n      }\n      reporter.resolve();\n    } else if (hasBodyInference) {\n      fnLiteral += `\n`, fnLiteral += `let contentType\nif(c.request.body)`, fnLiteral += hasHeaders ? `contentType=c.headers['content-type']\n` : `contentType=c.request.headers.get('content-type')\n`;\n      let hasDefaultParser = !1;\n      if (hooks.parse?.length)\n        fnLiteral += `if(contentType){\nconst index=contentType.indexOf(';')\n\nif(index!==-1)contentType=contentType.substring(0,index)}else{contentType=''}let used=false\nc.contentType=contentType\n`;\n      else {\n        hasDefaultParser = !0;\n        const isOptionalBody = !!validator.body?.isOptional;\n        fnLiteral += `if(contentType)switch(contentType.charCodeAt(12)){\ncase 106:` + adapter.parser.json(isOptionalBody) + `break\ncase 120:` + adapter.parser.urlencoded(isOptionalBody) + `break\ncase 111:` + adapter.parser.arrayBuffer(isOptionalBody) + `break\ncase 114:` + adapter.parser.formData(isOptionalBody) + `break\ndefault:if(contentType.charCodeAt(0)===116){` + adapter.parser.text(isOptionalBody) + `}break\n}`;\n      }\n      const reporter = report(\"parse\", {\n        total: hooks.parse?.length\n      });\n      if (hooks.parse)\n        for (let i = 0; i < hooks.parse.length; i++) {\n          const name = `bo${i}`;\n          if (i !== 0 && (fnLiteral += `\nif(!used){`), typeof hooks.parse[i].fn == \"string\") {\n            const endUnit = reporter.resolveChild(\n              hooks.parse[i].fn\n            ), isOptionalBody = !!validator.body?.isOptional;\n            switch (hooks.parse[i].fn) {\n              case \"json\":\n              case \"application/json\":\n                hasDefaultParser = !0, fnLiteral += adapter.parser.json(isOptionalBody);\n                break;\n              case \"text\":\n              case \"text/plain\":\n                hasDefaultParser = !0, fnLiteral += adapter.parser.text(isOptionalBody);\n                break;\n              case \"urlencoded\":\n              case \"application/x-www-form-urlencoded\":\n                hasDefaultParser = !0, fnLiteral += adapter.parser.urlencoded(isOptionalBody);\n                break;\n              case \"arrayBuffer\":\n              case \"application/octet-stream\":\n                hasDefaultParser = !0, fnLiteral += adapter.parser.arrayBuffer(isOptionalBody);\n                break;\n              case \"formdata\":\n              case \"multipart/form-data\":\n                hasDefaultParser = !0, fnLiteral += adapter.parser.formData(isOptionalBody);\n                break;\n              default:\n                fnLiteral += `let ${name}=parser['${hooks.parse[i].fn}'](c,contentType)\nif(${name} instanceof Promise)${name}=await ${name}\nif(${name}!==undefined){c.body=${name};used=true;}\n`;\n            }\n            endUnit();\n          } else {\n            const endUnit = reporter.resolveChild(\n              hooks.parse[i].fn.name\n            );\n            fnLiteral += `let ${name}=e.parse[${i}]\n${name}=${name}(c,contentType)\nif(${name} instanceof Promise)${name}=await ${name}\nif(${name}!==undefined){c.body=${name};used=true}`, endUnit();\n          }\n          if (i !== 0 && (fnLiteral += \"}\"), hasDefaultParser) break;\n        }\n      if (reporter.resolve(), !hasDefaultParser) {\n        const isOptionalBody = !!validator.body?.isOptional;\n        hooks.parse?.length && (fnLiteral += `\nif(!used){\n`), fnLiteral += `switch(contentType){case 'application/json':\n` + adapter.parser.json(isOptionalBody) + `break\ncase 'text/plain':` + adapter.parser.text(isOptionalBody) + `break\ncase 'application/x-www-form-urlencoded':` + adapter.parser.urlencoded(isOptionalBody) + `break\ncase 'application/octet-stream':` + adapter.parser.arrayBuffer(isOptionalBody) + `break\ncase 'multipart/form-data':` + adapter.parser.formData(isOptionalBody) + `break\n`;\n        for (const key of Object.keys(app[\"~parser\"]))\n          fnLiteral += `case '${key}':let bo${key}=parser['${key}'](c,contentType)\nif(bo${key} instanceof Promise)bo${key}=await bo${key}\nif(bo${key} instanceof ElysiaCustomStatusResponse){` + mapResponse(`bo${key}`) + `}if(bo${key}!==undefined)c.body=bo${key}\nbreak\n`;\n        hooks.parse?.length && (fnLiteral += \"}\"), fnLiteral += \"}\";\n      }\n      hooks.parse?.length && (fnLiteral += `\ndelete c.contentType`);\n    }\n    fnLiteral += \"}catch(error){throw new ParseError(error)}\";\n  }\n  if (parseReporter.resolve(), hooks?.transform || hasTrace) {\n    const reporter = report(\"transform\", {\n      total: hooks.transform?.length\n    });\n    if (hooks.transform?.length) {\n      fnLiteral += `let transformed\n`;\n      for (let i = 0; i < hooks.transform.length; i++) {\n        const transform = hooks.transform[i], endUnit = reporter.resolveChild(transform.fn.name);\n        fnLiteral += isAsync(transform) ? `transformed=await e.transform[${i}](c)\n` : `transformed=e.transform[${i}](c)\n`, transform.subType === \"mapDerive\" ? fnLiteral += \"if(transformed instanceof ElysiaCustomStatusResponse){\" + mapResponse(\"transformed\") + `}else{transformed.request=c.request\ntransformed.store=c.store\ntransformed.qi=c.qi\ntransformed.path=c.path\ntransformed.url=c.url\ntransformed.redirect=c.redirect\ntransformed.set=c.set\ntransformed.error=c.error\nc=transformed}` : fnLiteral += \"if(transformed instanceof ElysiaCustomStatusResponse){\" + mapResponse(\"transformed\") + `}else Object.assign(c,transformed)\n`, endUnit();\n      }\n    }\n    reporter.resolve();\n  }\n  const fileUnions = [];\n  if (validator) {\n    if (validator.headers) {\n      if (validator.headers.hasDefault)\n        for (const [key, value] of Object.entries(\n          Value.Default(\n            // @ts-ignore\n            validator.headers.schema,\n            {}\n          )\n        )) {\n          const parsed = typeof value == \"object\" ? JSON.stringify(value) : typeof value == \"string\" ? `'${value}'` : value;\n          parsed !== void 0 && (fnLiteral += `c.headers['${key}']??=${parsed}\n`);\n        }\n      fnLiteral += composeCleaner({\n        name: \"c.headers\",\n        schema: validator.headers,\n        type: \"headers\",\n        normalize\n      }), validator.headers.isOptional && (fnLiteral += \"if(isNotEmpty(c.headers)){\"), validator.headers?.provider === \"standard\" ? fnLiteral += `let vah=validator.headers.Check(c.headers)\nif(vah instanceof Promise)vah=await vah\nif(vah.issues){` + validation.validate(\"headers\", void 0, \"vah.issues\") + `}else{c.headers=vah.value}\n` : validator.headers?.schema?.noValidate !== !0 && (fnLiteral += \"if(validator.headers.Check(c.headers) === false){\" + validation.validate(\"headers\") + \"}\"), validator.headers.hasTransform && (fnLiteral += coerceTransformDecodeError(\n        `c.headers=validator.headers.Decode(c.headers)\n`,\n        \"headers\",\n        allowUnsafeValidationDetails\n      )), validator.headers.isOptional && (fnLiteral += \"}\");\n    }\n    if (validator.params) {\n      if (validator.params.hasDefault)\n        for (const [key, value] of Object.entries(\n          Value.Default(\n            // @ts-ignore\n            validator.params.schema,\n            {}\n          )\n        )) {\n          const parsed = typeof value == \"object\" ? JSON.stringify(value) : typeof value == \"string\" ? `'${value}'` : value;\n          parsed !== void 0 && (fnLiteral += `c.params['${key}']??=${parsed}\n`);\n        }\n      validator.params.provider === \"standard\" ? fnLiteral += `let vap=validator.params.Check(c.params)\nif(vap instanceof Promise)vap=await vap\nif(vap.issues){` + validation.validate(\"params\", void 0, \"vap.issues\") + `}else{c.params=vap.value}\n` : validator.params?.schema?.noValidate !== !0 && (fnLiteral += \"if(validator.params.Check(c.params)===false){\" + validation.validate(\"params\") + \"}\"), validator.params.hasTransform && (fnLiteral += coerceTransformDecodeError(\n        `c.params=validator.params.Decode(c.params)\n`,\n        \"params\",\n        allowUnsafeValidationDetails\n      ));\n    }\n    if (validator.query) {\n      if (Kind in validator.query?.schema && validator.query.hasDefault)\n        for (const [key, value] of Object.entries(\n          Value.Default(\n            // @ts-ignore\n            validator.query.schema,\n            {}\n          )\n        )) {\n          const parsed = typeof value == \"object\" ? JSON.stringify(value) : typeof value == \"string\" ? `'${value}'` : value;\n          parsed !== void 0 && (fnLiteral += `if(c.query['${key}']===undefined)c.query['${key}']=${parsed}\n`);\n        }\n      fnLiteral += composeCleaner({\n        name: \"c.query\",\n        schema: validator.query,\n        type: \"query\",\n        normalize\n      }), validator.query.isOptional && (fnLiteral += \"if(isNotEmpty(c.query)){\"), validator.query.provider === \"standard\" ? fnLiteral += `let vaq=validator.query.Check(c.query)\nif(vaq instanceof Promise)vaq=await vaq\nif(vaq.issues){` + validation.validate(\"query\", void 0, \"vaq.issues\") + `}else{c.query=vaq.value}\n` : validator.query?.schema?.noValidate !== !0 && (fnLiteral += \"if(validator.query.Check(c.query)===false){\" + validation.validate(\"query\") + \"}\"), validator.query.hasTransform && (fnLiteral += coerceTransformDecodeError(\n        `c.query=validator.query.Decode(c.query)\n`,\n        \"query\",\n        allowUnsafeValidationDetails\n      ), fnLiteral += coerceTransformDecodeError(\n        `c.query=validator.query.Decode(c.query)\n`,\n        \"query\",\n        allowUnsafeValidationDetails\n      )), validator.query.isOptional && (fnLiteral += \"}\");\n    }\n    if (hasBody && validator.body) {\n      (validator.body.hasTransform || validator.body.isOptional) && (fnLiteral += `const isNotEmptyObject=c.body&&(typeof c.body===\"object\"&&(isNotEmpty(c.body)||c.body instanceof ArrayBuffer))\n`);\n      const hasUnion = isUnion(validator.body.schema);\n      let hasNonUnionFileWithDefault = !1;\n      if (validator.body.hasDefault) {\n        let value = Value.Default(\n          validator.body.schema,\n          validator.body.schema.type === \"object\" || unwrapImportSchema(validator.body.schema)[Kind] === \"Object\" ? {} : void 0\n        );\n        const schema = unwrapImportSchema(validator.body.schema);\n        if (!hasUnion && value && typeof value == \"object\" && (hasType(\"File\", schema) || hasType(\"Files\", schema))) {\n          hasNonUnionFileWithDefault = !0;\n          for (const [k, v] of Object.entries(value))\n            (v === \"File\" || v === \"Files\") && delete value[k];\n          isNotEmpty(value) || (value = void 0);\n        }\n        const parsed = typeof value == \"object\" ? JSON.stringify(value) : typeof value == \"string\" ? `'${value}'` : value;\n        value != null && (Array.isArray(value) ? fnLiteral += `if(!c.body)c.body=${parsed}\n` : typeof value == \"object\" ? fnLiteral += `c.body=Object.assign(${parsed},c.body)\n` : fnLiteral += `c.body=${parsed}\n`), fnLiteral += composeCleaner({\n          name: \"c.body\",\n          schema: validator.body,\n          type: \"body\",\n          normalize\n        }), validator.body.provider === \"standard\" ? fnLiteral += `let vab=validator.body.Check(c.body)\nif(vab instanceof Promise)vab=await vab\nif(vab.issues){` + validation.validate(\"body\", void 0, \"vab.issues\") + `}else{c.body=vab.value}\n` : validator.body?.schema?.noValidate !== !0 && (validator.body.isOptional ? fnLiteral += \"if(isNotEmptyObject&&validator.body.Check(c.body)===false){\" + validation.validate(\"body\") + \"}\" : fnLiteral += \"if(validator.body.Check(c.body)===false){\" + validation.validate(\"body\") + \"}\");\n      } else\n        fnLiteral += composeCleaner({\n          name: \"c.body\",\n          schema: validator.body,\n          type: \"body\",\n          normalize\n        }), validator.body.provider === \"standard\" ? fnLiteral += `let vab=validator.body.Check(c.body)\nif(vab instanceof Promise)vab=await vab\nif(vab.issues){` + validation.validate(\"body\", void 0, \"vab.issues\") + `}else{c.body=vab.value}\n` : validator.body?.schema?.noValidate !== !0 && (validator.body.isOptional ? fnLiteral += \"if(isNotEmptyObject&&validator.body.Check(c.body)===false){\" + validation.validate(\"body\") + \"}\" : fnLiteral += \"if(validator.body.Check(c.body)===false){\" + validation.validate(\"body\") + \"}\");\n      if (validator.body.hasTransform && (fnLiteral += coerceTransformDecodeError(\n        `if(isNotEmptyObject)c.body=validator.body.Decode(c.body)\n`,\n        \"body\",\n        allowUnsafeValidationDetails\n      )), hasUnion && validator.body.schema.anyOf?.length) {\n        const iterator = Object.values(\n          validator.body.schema.anyOf\n        );\n        for (let i = 0; i < iterator.length; i++) {\n          const type = iterator[i];\n          if (hasType(\"File\", type) || hasType(\"Files\", type)) {\n            const candidate = getSchemaValidator(type, {\n              // @ts-expect-error private property\n              modules: app.definitions.typebox,\n              dynamic: !app.config.aot,\n              // @ts-expect-error private property\n              models: app.definitions.type,\n              normalize: app.config.normalize,\n              additionalCoerce: coercePrimitiveRoot(),\n              sanitize: () => app.config.sanitize\n            });\n            if (candidate) {\n              const isFirst = fileUnions.length === 0;\n              let properties = candidate.schema?.properties ?? type.properties;\n              if (!properties && candidate.schema?.anyOf) {\n                const objectSchema = candidate.schema.anyOf.find(\n                  (s) => s.type === \"object\" || Kind in s && s[Kind] === \"Object\"\n                );\n                objectSchema && (properties = objectSchema.properties);\n              }\n              if (!properties) continue;\n              const iterator2 = Object.entries(properties);\n              let validator2 = isFirst ? `\n` : \" else \";\n              validator2 += `if(fileUnions[${fileUnions.length}].Check(c.body)){`;\n              let validateFile = \"\", validatorLength = 0;\n              for (let i2 = 0; i2 < iterator2.length; i2++) {\n                const [k, v] = iterator2[i2];\n                !v.extension || v[Kind] !== \"File\" && v[Kind] !== \"Files\" || (validatorLength && (validateFile += \",\"), validateFile += `fileType(c.body.${k},${JSON.stringify(v.extension)},'body.${k}')`, validatorLength++);\n              }\n              validateFile && (validatorLength === 1 ? validator2 += `await ${validateFile}\n` : validatorLength > 1 && (validator2 += `await Promise.all([${validateFile}])\n`), validator2 += \"}\", fnLiteral += validator2, fileUnions.push(candidate));\n            }\n          }\n        }\n      } else if (hasNonUnionFileWithDefault || !hasUnion && (hasType(\n        \"File\",\n        unwrapImportSchema(validator.body.schema)\n      ) || hasType(\n        \"Files\",\n        unwrapImportSchema(validator.body.schema)\n      ))) {\n        let validateFile = \"\", i = 0;\n        for (const [k, v] of Object.entries(\n          unwrapImportSchema(validator.body.schema).properties\n        ))\n          !v.extension || v[Kind] !== \"File\" && v[Kind] !== \"Files\" || (i && (validateFile += \",\"), validateFile += `fileType(c.body.${k},${JSON.stringify(v.extension)},'body.${k}')`, i++);\n        i && (fnLiteral += `\n`), i === 1 ? fnLiteral += `await ${validateFile}\n` : i > 1 && (fnLiteral += `await Promise.all([${validateFile}])\n`);\n      }\n    }\n    validator.cookie && (validator.cookie.config = mergeCookie(\n      validator.cookie.config,\n      validator.cookie?.config ?? {}\n    ), fnLiteral += `let cookieValue={}\nfor(const [key,value] of Object.entries(c.cookie))cookieValue[key]=value.value\n`, validator.cookie.isOptional && (fnLiteral += \"if(isNotEmpty(c.cookie)){\"), validator.cookie.provider === \"standard\" ? (fnLiteral += `let vac=validator.cookie.Check(cookieValue)\nif(vac instanceof Promise)vac=await vac\nif(vac.issues){` + validation.validate(\"cookie\", void 0, \"vac.issues\") + `}else{cookieValue=vac.value}\n`, fnLiteral += `for(const k of Object.keys(cookieValue))c.cookie[k].value=cookieValue[k]\n`) : validator.body?.schema?.noValidate !== !0 && (fnLiteral += \"if(validator.cookie.Check(cookieValue)===false){\" + validation.validate(\"cookie\", \"cookieValue\") + \"}\", validator.cookie.hasTransform && (fnLiteral += coerceTransformDecodeError(\n      \"for(const [key,value] of Object.entries(validator.cookie.Decode(cookieValue))){c.cookie[key].cookie.value = value}\",\n      \"cookie\",\n      allowUnsafeValidationDetails\n    ))), validator.cookie.isOptional && (fnLiteral += \"}\"));\n  }\n  if (hooks?.beforeHandle || hasTrace) {\n    const reporter = report(\"beforeHandle\", {\n      total: hooks.beforeHandle?.length\n    });\n    let hasResolve = !1;\n    if (hooks.beforeHandle?.length)\n      for (let i = 0; i < hooks.beforeHandle.length; i++) {\n        const beforeHandle = hooks.beforeHandle[i], endUnit = reporter.resolveChild(beforeHandle.fn.name), returning = hasReturn(beforeHandle);\n        if (beforeHandle.subType === \"resolve\" || beforeHandle.subType === \"mapResolve\")\n          hasResolve || (hasResolve = !0, fnLiteral += `\nlet resolved\n`), fnLiteral += isAsync(beforeHandle) ? `resolved=await e.beforeHandle[${i}](c);\n` : `resolved=e.beforeHandle[${i}](c);\n`, beforeHandle.subType === \"mapResolve\" ? fnLiteral += \"if(resolved instanceof ElysiaCustomStatusResponse){\" + mapResponse(\"resolved\") + `}else{resolved.request=c.request\nresolved.store=c.store\nresolved.qi=c.qi\nresolved.path=c.path\nresolved.url=c.url\nresolved.redirect=c.redirect\nresolved.set=c.set\nresolved.error=c.error\nc=resolved}` : fnLiteral += \"if(resolved instanceof ElysiaCustomStatusResponse){\" + mapResponse(\"resolved\") + `}else Object.assign(c, resolved)\n`, endUnit();\n        else if (!returning)\n          fnLiteral += isAsync(beforeHandle) ? `await e.beforeHandle[${i}](c)\n` : `e.beforeHandle[${i}](c)\n`, endUnit();\n        else {\n          if (fnLiteral += isAsync(beforeHandle) ? `be=await e.beforeHandle[${i}](c)\n` : `be=e.beforeHandle[${i}](c)\n`, endUnit(\"be\"), fnLiteral += \"if(be!==undefined){\", reporter.resolve(), hooks.afterHandle?.length || hasTrace) {\n            report(\"handle\", {\n              name: isHandleFn ? handler.name : void 0\n            }).resolve();\n            const reporter2 = report(\"afterHandle\", {\n              total: hooks.afterHandle?.length\n            });\n            if (hooks.afterHandle?.length)\n              for (let i2 = 0; i2 < hooks.afterHandle.length; i2++) {\n                const hook = hooks.afterHandle[i2], returning2 = hasReturn(hook), endUnit2 = reporter2.resolveChild(\n                  hook.fn.name\n                );\n                fnLiteral += `c.response=c.responseValue=be\n`, returning2 ? (fnLiteral += isAsync(hook.fn) ? `af=await e.afterHandle[${i2}](c)\n` : `af=e.afterHandle[${i2}](c)\n`, fnLiteral += `if(af!==undefined) c.response=c.responseValue=be=af\n`) : fnLiteral += isAsync(hook.fn) ? `await e.afterHandle[${i2}](c, be)\n` : `e.afterHandle[${i2}](c, be)\n`, endUnit2(\"af\");\n              }\n            reporter2.resolve();\n          }\n          validator.response && (fnLiteral += validation.response(\"be\"));\n          const mapResponseReporter = report(\"mapResponse\", {\n            total: hooks.mapResponse?.length\n          });\n          if (hooks.mapResponse?.length) {\n            fnLiteral += `c.response=c.responseValue=be\n`;\n            for (let i2 = 0; i2 < hooks.mapResponse.length; i2++) {\n              const mapResponse2 = hooks.mapResponse[i2], endUnit2 = mapResponseReporter.resolveChild(\n                mapResponse2.fn.name\n              );\n              fnLiteral += `if(mr===undefined){mr=${isAsyncName(mapResponse2) ? \"await \" : \"\"}e.mapResponse[${i2}](c)\nif(mr!==undefined)be=c.response=c.responseValue=mr}`, endUnit2();\n            }\n          }\n          mapResponseReporter.resolve(), fnLiteral += afterResponse(), fnLiteral += encodeCookie(), fnLiteral += `return mapEarlyResponse(${saveResponse}be,c.set${mapResponseContext})}\n`;\n        }\n      }\n    reporter.resolve();\n  }\n  function reportHandler(name) {\n    const handleReporter = report(\"handle\", {\n      name,\n      alias: \"reportHandler\"\n    });\n    return () => {\n      hasTrace && (fnLiteral += 'if(r&&(r[Symbol.iterator]||r[Symbol.asyncIterator])&&typeof r.next===\"function\"){' + (maybeAsync ? \"\" : \"(async()=>{\") + `const stream=await tee(r,3)\nr=stream[0]\nconst listener=stream[1]\n` + (hasTrace || hooks.afterResponse?.length ? `afterHandlerStreamListener=stream[2]\n` : \"\") + `${setImmediateFn}(async ()=>{if(listener)for await(const v of listener){}\n`, handleReporter.resolve(), fnLiteral += \"})\" + (maybeAsync ? \"\" : \"})()\") + \"}else{\", handleReporter.resolve(), fnLiteral += `}\n`);\n    };\n  }\n  if (hooks.afterHandle?.length || hasTrace) {\n    const resolveHandler = reportHandler(\n      isHandleFn ? handler.name : void 0\n    );\n    hooks.afterHandle?.length ? fnLiteral += isAsyncHandler ? `let r=c.response=c.responseValue=await ${handle}\n` : `let r=c.response=c.responseValue=${handle}\n` : fnLiteral += isAsyncHandler ? `let r=await ${handle}\n` : `let r=${handle}\n`, resolveHandler();\n    const reporter = report(\"afterHandle\", {\n      total: hooks.afterHandle?.length\n    });\n    if (hooks.afterHandle?.length)\n      for (let i = 0; i < hooks.afterHandle.length; i++) {\n        const hook = hooks.afterHandle[i], returning = hasReturn(hook), endUnit = reporter.resolveChild(hook.fn.name);\n        returning ? (fnLiteral += isAsync(hook.fn) ? `af=await e.afterHandle[${i}](c)\n` : `af=e.afterHandle[${i}](c)\n`, endUnit(\"af\"), validator.response ? (fnLiteral += \"if(af!==undefined){\", reporter.resolve(), fnLiteral += validation.response(\"af\"), fnLiteral += \"c.response=c.responseValue=af}\") : (fnLiteral += \"if(af!==undefined){\", reporter.resolve(), fnLiteral += \"c.response=c.responseValue=af}\")) : (fnLiteral += isAsync(hook.fn) ? `await e.afterHandle[${i}](c)\n` : `e.afterHandle[${i}](c)\n`, endUnit());\n      }\n    reporter.resolve(), hooks.afterHandle?.length && (fnLiteral += `r=c.response\n`), validator.response && (fnLiteral += validation.response()), fnLiteral += encodeCookie();\n    const mapResponseReporter = report(\"mapResponse\", {\n      total: hooks.mapResponse?.length\n    });\n    if (hooks.mapResponse?.length)\n      for (let i = 0; i < hooks.mapResponse.length; i++) {\n        const mapResponse2 = hooks.mapResponse[i], endUnit = mapResponseReporter.resolveChild(\n          mapResponse2.fn.name\n        );\n        fnLiteral += `mr=${isAsyncName(mapResponse2) ? \"await \" : \"\"}e.mapResponse[${i}](c)\nif(mr!==undefined)r=c.response=c.responseValue=mr\n`, endUnit();\n      }\n    mapResponseReporter.resolve(), fnLiteral += mapResponse();\n  } else {\n    const resolveHandler = reportHandler(\n      isHandleFn ? handler.name : void 0\n    );\n    if (validator.response || hooks.mapResponse?.length || hasTrace) {\n      fnLiteral += isAsyncHandler ? `let r=await ${handle}\n` : `let r=${handle}\n`, resolveHandler(), validator.response && (fnLiteral += validation.response());\n      const mapResponseReporter = report(\"mapResponse\", {\n        total: hooks.mapResponse?.length\n      });\n      if (hooks.mapResponse?.length) {\n        fnLiteral += `\nc.response=c.responseValue=r\n`;\n        for (let i = 0; i < hooks.mapResponse.length; i++) {\n          const mapResponse2 = hooks.mapResponse[i], endUnit = mapResponseReporter.resolveChild(\n            mapResponse2.fn.name\n          );\n          fnLiteral += `\nif(mr===undefined){mr=${isAsyncName(mapResponse2) ? \"await \" : \"\"}e.mapResponse[${i}](c)\nif(mr!==undefined)r=c.response=c.responseValue=mr}\n`, endUnit();\n        }\n      }\n      mapResponseReporter.resolve(), fnLiteral += encodeCookie(), handler instanceof Response ? (fnLiteral += afterResponse(), fnLiteral += inference.set ? `if(isNotEmpty(c.set.headers)||c.set.status!==200||c.set.redirect||c.set.cookie)return mapResponse(${saveResponse}${handle}.clone(),c.set${mapResponseContext})\nelse return ${handle}.clone()` : `return ${handle}.clone()`, fnLiteral += `\n`) : fnLiteral += mapResponse();\n    } else if (hasCookie || hasTrace) {\n      fnLiteral += isAsyncHandler ? `let r=await ${handle}\n` : `let r=${handle}\n`, resolveHandler();\n      const mapResponseReporter = report(\"mapResponse\", {\n        total: hooks.mapResponse?.length\n      });\n      if (hooks.mapResponse?.length) {\n        fnLiteral += `c.response=c.responseValue= r\n`;\n        for (let i = 0; i < hooks.mapResponse.length; i++) {\n          const mapResponse2 = hooks.mapResponse[i], endUnit = mapResponseReporter.resolveChild(\n            mapResponse2.fn.name\n          );\n          fnLiteral += `if(mr===undefined){mr=${isAsyncName(mapResponse2) ? \"await \" : \"\"}e.mapResponse[${i}](c)\nif(mr!==undefined)r=c.response=c.responseValue=mr}`, endUnit();\n        }\n      }\n      mapResponseReporter.resolve(), fnLiteral += encodeCookie() + mapResponse();\n    } else {\n      resolveHandler();\n      const handled = isAsyncHandler ? `await ${handle}` : handle;\n      handler instanceof Response ? (fnLiteral += afterResponse(), fnLiteral += inference.set ? `if(isNotEmpty(c.set.headers)||c.set.status!==200||c.set.redirect||c.set.cookie)return mapResponse(${saveResponse}${handle}.clone(),c.set${mapResponseContext})\nelse return ${handle}.clone()\n` : `return ${handle}.clone()\n`) : fnLiteral += mapResponse(handled);\n    }\n  }\n  if (fnLiteral += `\n}catch(error){`, !maybeAsync && hooks.error?.length && (fnLiteral += \"return(async()=>{\"), fnLiteral += `const set=c.set\nif(!set.status||set.status<300)set.status=error?.status||500\n`, hasCookie && (fnLiteral += encodeCookie()), hasTrace && hooks.trace)\n    for (let i = 0; i < hooks.trace.length; i++)\n      fnLiteral += `report${i}?.resolve(error);reportChild${i}?.(error)\n`;\n  const errorReporter = report(\"error\", {\n    total: hooks.error?.length\n  });\n  if (hooks.error?.length) {\n    fnLiteral += `c.error=error\n`, hasValidation ? fnLiteral += `if(error instanceof TypeBoxError){c.code=\"VALIDATION\"\nc.set.status=422}else{c.code=error.code??error[ERROR_CODE]??\"UNKNOWN\"}` : fnLiteral += `c.code=error.code??error[ERROR_CODE]??\"UNKNOWN\"\n`, fnLiteral += `let er\n`, hooks.mapResponse?.length && (fnLiteral += `let mep\n`);\n    for (let i = 0; i < hooks.error.length; i++) {\n      const endUnit = errorReporter.resolveChild(hooks.error[i].fn.name);\n      if (isAsync(hooks.error[i]) ? fnLiteral += `er=await e.error[${i}](c)\n` : fnLiteral += `er=e.error[${i}](c)\nif(er instanceof Promise)er=await er\n`, endUnit(), hooks.mapResponse?.length) {\n        const mapResponseReporter = report(\"mapResponse\", {\n          total: hooks.mapResponse?.length\n        });\n        for (let i2 = 0; i2 < hooks.mapResponse.length; i2++) {\n          const mapResponse2 = hooks.mapResponse[i2], endUnit2 = mapResponseReporter.resolveChild(\n            mapResponse2.fn.name\n          );\n          fnLiteral += `c.response=c.responseValue=er\nmep=e.mapResponse[${i2}](c)\nif(mep instanceof Promise)er=await er\nif(mep!==undefined)er=mep\n`, endUnit2();\n        }\n        mapResponseReporter.resolve();\n      }\n      if (fnLiteral += `er=mapEarlyResponse(er,set${mapResponseContext})\n`, fnLiteral += \"if(er){\", hasTrace && hooks.trace) {\n        for (let i2 = 0; i2 < hooks.trace.length; i2++)\n          fnLiteral += `report${i2}.resolve()\n`;\n        errorReporter.resolve();\n      }\n      fnLiteral += afterResponse(!1), fnLiteral += \"return er}\";\n    }\n  }\n  errorReporter.resolve(), fnLiteral += \"return handleError(c,error,true)\", !maybeAsync && hooks.error?.length && (fnLiteral += \"})()\"), fnLiteral += \"}\";\n  const adapterVariables = adapter.inject ? Object.keys(adapter.inject).join(\",\") + \",\" : \"\";\n  let init = \"const {handler,handleError,hooks:e, \" + allocateIf(\"validator,\", hasValidation) + \"mapResponse,mapCompactResponse,mapEarlyResponse,isNotEmpty,utils:{\" + allocateIf(\"parseQuery,\", hasBody) + allocateIf(\"parseQueryFromURL,\", hasQuery) + \"},error:{\" + allocateIf(\"ValidationError,\", hasValidation) + allocateIf(\"ParseError\", hasBody) + \"},fileType,schema,definitions,tee,ERROR_CODE,\" + allocateIf(\"parseCookie,\", hasCookie) + allocateIf(\"signCookie,\", hasCookie) + allocateIf(\"decodeURIComponent,\", hasQuery) + \"ElysiaCustomStatusResponse,\" + allocateIf(\"ELYSIA_TRACE,\", hasTrace) + allocateIf(\"ELYSIA_REQUEST_ID,\", hasTrace) + allocateIf(\"parser,\", hooks.parse?.length) + allocateIf(\"getServer,\", inference.server) + allocateIf(\"fileUnions,\", fileUnions.length) + adapterVariables + allocateIf(\"TypeBoxError\", hasValidation) + `}=hooks\nconst trace=e.trace\nreturn ${maybeAsync ? \"async \" : \"\"}function handle(c){`;\n  hooks.beforeHandle?.length && (init += `let be\n`), hooks.afterHandle?.length && (init += `let af\n`), hooks.mapResponse?.length && (init += `let mr\n`), allowMeta && (init += `c.schema=schema\nc.defs=definitions\n`), fnLiteral = init + fnLiteral + \"}\", init = \"\";\n  try {\n    return Function(\n      \"hooks\",\n      `\"use strict\";\n` + fnLiteral\n    )({\n      handler,\n      hooks: lifeCycleToFn(hooks),\n      validator: hasValidation ? validator : void 0,\n      // @ts-expect-error\n      handleError: app.handleError,\n      mapResponse: adapterHandler.mapResponse,\n      mapCompactResponse: adapterHandler.mapCompactResponse,\n      mapEarlyResponse: adapterHandler.mapEarlyResponse,\n      isNotEmpty,\n      utils: {\n        parseQuery: hasBody ? parseQuery : void 0,\n        parseQueryFromURL: hasQuery ? validator.query?.provider === \"standard\" ? parseQueryStandardSchema : parseQueryFromURL : void 0\n      },\n      error: {\n        ValidationError: hasValidation ? ValidationError : void 0,\n        ParseError: hasBody ? ParseError : void 0\n      },\n      fileType,\n      schema: app.router.history,\n      // @ts-expect-error\n      definitions: app.definitions.type,\n      tee,\n      ERROR_CODE,\n      parseCookie: hasCookie ? parseCookie : void 0,\n      signCookie: hasCookie ? signCookie : void 0,\n      Cookie: hasCookie ? Cookie : void 0,\n      decodeURIComponent: hasQuery ? decode : void 0,\n      ElysiaCustomStatusResponse,\n      ELYSIA_TRACE: hasTrace ? ELYSIA_TRACE : void 0,\n      ELYSIA_REQUEST_ID: hasTrace ? ELYSIA_REQUEST_ID : void 0,\n      // @ts-expect-error private property\n      getServer: inference.server ? () => app.getServer() : void 0,\n      fileUnions: fileUnions.length ? fileUnions : void 0,\n      TypeBoxError: hasValidation ? TypeBoxError : void 0,\n      parser: app[\"~parser\"],\n      ...adapter.inject\n    });\n  } catch (error) {\n    const debugHooks = lifeCycleToFn(hooks);\n    return console.log(\"[Composer] failed to generate optimized handler\"), console.log(\"---\"), console.log({\n      handler: typeof handler == \"function\" ? handler.toString() : handler,\n      instruction: fnLiteral,\n      hooks: {\n        ...debugHooks,\n        // @ts-ignore\n        transform: debugHooks?.transform?.map?.((x) => x.toString()),\n        // @ts-ignore\n        resolve: debugHooks?.resolve?.map?.((x) => x.toString()),\n        // @ts-ignore\n        beforeHandle: debugHooks?.beforeHandle?.map?.(\n          (x) => x.toString()\n        ),\n        // @ts-ignore\n        afterHandle: debugHooks?.afterHandle?.map?.(\n          (x) => x.toString()\n        ),\n        // @ts-ignore\n        mapResponse: debugHooks?.mapResponse?.map?.(\n          (x) => x.toString()\n        ),\n        // @ts-ignore\n        parse: debugHooks?.parse?.map?.((x) => x.toString()),\n        // @ts-ignore\n        error: debugHooks?.error?.map?.((x) => x.toString()),\n        // @ts-ignore\n        afterResponse: debugHooks?.afterResponse?.map?.(\n          (x) => x.toString()\n        ),\n        // @ts-ignore\n        stop: debugHooks?.stop?.map?.((x) => x.toString())\n      },\n      validator,\n      // @ts-expect-error\n      definitions: app.definitions.type,\n      error\n    }), console.log(\"---\"), typeof process?.exit == \"function\" && process.exit(1), () => new Response(\"Internal Server Error\", { status: 500 });\n  }\n}, createOnRequestHandler = (app, addFn) => {\n  let fnLiteral = \"\";\n  const reporter = createReport({\n    trace: app.event.trace,\n    addFn: addFn ?? ((word) => {\n      fnLiteral += word;\n    })\n  })(\"request\", {\n    total: app.event.request?.length\n  });\n  if (app.event.request?.length) {\n    fnLiteral += \"try{\";\n    for (let i = 0; i < app.event.request.length; i++) {\n      const hook = app.event.request[i], withReturn = hasReturn(hook), maybeAsync = isAsync(hook), endUnit = reporter.resolveChild(app.event.request[i].fn.name);\n      withReturn ? (fnLiteral += `re=mapEarlyResponse(${maybeAsync ? \"await \" : \"\"}onRequest[${i}](c),c.set)\n`, endUnit(\"re\"), fnLiteral += `if(re!==undefined)return re\n`) : (fnLiteral += `${maybeAsync ? \"await \" : \"\"}onRequest[${i}](c)\n`, endUnit());\n    }\n    fnLiteral += \"}catch(error){return app.handleError(c,error,false)}\";\n  }\n  return reporter.resolve(), fnLiteral;\n}, createHoc = (app, fnName = \"map\") => {\n  const hoc = app.extender.higherOrderFunctions;\n  if (!hoc.length) return \"return \" + fnName;\n  const adapter = app[\"~adapter\"].composeGeneralHandler;\n  let handler = fnName;\n  for (let i = 0; i < hoc.length; i++)\n    handler = `hoc[${i}](${handler},${adapter.parameters})`;\n  return `return function hocMap(${adapter.parameters}){return ${handler}(${adapter.parameters})}`;\n}, composeGeneralHandler = (app) => {\n  const adapter = app[\"~adapter\"].composeGeneralHandler;\n  app.router.http.build();\n  const isWebstandard = app[\"~adapter\"].isWebStandard, hasTrace = app.event.trace?.length;\n  let fnLiteral = \"\";\n  const router = app.router;\n  let findDynamicRoute = router.http.root.WS ? \"const route=router.find(r.method==='GET'&&r.headers.get('upgrade')==='websocket'?'WS':r.method,p)\" : \"const route=router.find(r.method,p)\";\n  findDynamicRoute += router.http.root.ALL ? `??router.find('ALL',p)\n` : `\n`, isWebstandard && (findDynamicRoute += 'if(r.method===\"HEAD\"){const route=router.find(\"GET\",p);if(route){c.params=route.params;const _res=route.store.handler?route.store.handler(c):route.store.compile()(c);if(_res)return Promise.resolve(_res).then((_res)=>{if(!_res.headers)_res.headers=new Headers();return getResponseLength(_res).then((length)=>{_res.headers.set(\"content-length\", length);return new Response(null,{status:_res.status,statusText:_res.statusText,headers:_res.headers});})});}}');\n  let afterResponse = `c.error=notFound\n`;\n  if (app.event.afterResponse?.length && !app.event.error) {\n    afterResponse = `\nc.error=notFound\n`;\n    const prefix = app.event.afterResponse.some(isAsync) ? \"async\" : \"\";\n    afterResponse += `\n${setImmediateFn}(${prefix}()=>{if(c.responseValue instanceof ElysiaCustomStatusResponse) c.set.status=c.responseValue.code\n`;\n    for (let i = 0; i < app.event.afterResponse.length; i++) {\n      const fn2 = app.event.afterResponse[i].fn;\n      afterResponse += `\n${isAsyncName(fn2) ? \"await \" : \"\"}afterResponse[${i}](c)\n`;\n    }\n    afterResponse += `})\n`;\n  }\n  app.inference.query && (afterResponse += `\nif(c.qi===-1){c.query={}}else{c.query=parseQueryFromURL(c.url,c.qi+1)}`);\n  const error404 = adapter.error404(\n    !!app.event.request?.length,\n    !!app.event.error?.length,\n    afterResponse\n  );\n  findDynamicRoute += error404.code, findDynamicRoute += `\nc.params=route.params\nif(route.store.handler)return route.store.handler(c)\nreturn route.store.compile()(c)\n`;\n  let switchMap = \"\";\n  for (const [path, methods] of Object.entries(router.static)) {\n    switchMap += `case'${path}':`, app.config.strictPath !== !0 && (switchMap += `case'${getLoosePath(path)}':`);\n    const encoded = encodePath(path);\n    path !== encoded && (switchMap += `case'${encoded}':`), switchMap += \"switch(r.method){\", (\"GET\" in methods || \"WS\" in methods) && (switchMap += \"case 'GET':\", \"WS\" in methods && (switchMap += `if(r.headers.get('upgrade')==='websocket')return ht[${methods.WS}].composed(c)\n`, \"GET\" in methods || (\"ALL\" in methods ? switchMap += `return ht[${methods.ALL}].composed(c)\n` : switchMap += `break map\n`)), \"GET\" in methods && (switchMap += `return ht[${methods.GET}].composed(c)\n`)), isWebstandard && (\"GET\" in methods || \"ALL\" in methods) && !(\"HEAD\" in methods) && (switchMap += `case 'HEAD':return Promise.resolve(ht[${methods.GET ?? methods.ALL}].composed(c)).then(_ht=>getResponseLength(_ht).then((length)=>{_ht.headers.set('content-length', length)\nreturn new Response(null,{status:_ht.status,statusText:_ht.statusText,headers:_ht.headers})\n}))\n`);\n    for (const [method, index] of Object.entries(methods))\n      method === \"ALL\" || method === \"GET\" || method === \"WS\" || (switchMap += `case '${method}':return ht[${index}].composed(c)\n`);\n    \"ALL\" in methods ? switchMap += `default:return ht[${methods.ALL}].composed(c)\n` : switchMap += `default:break map\n`, switchMap += \"}\";\n  }\n  const maybeAsync = !!app.event.request?.some(isAsync), adapterVariables = adapter.inject ? Object.keys(adapter.inject).join(\",\") + \",\" : \"\";\n  fnLiteral += `\nconst {app,mapEarlyResponse,NotFoundError,randomId,handleError,status,redirect,getResponseLength,ElysiaCustomStatusResponse,` + // @ts-ignore\n  allocateIf(\"parseQueryFromURL,\", app.inference.query) + allocateIf(\"ELYSIA_TRACE,\", hasTrace) + allocateIf(\"ELYSIA_REQUEST_ID,\", hasTrace) + adapterVariables + `}=data\nconst store=app.singleton.store\nconst decorator=app.singleton.decorator\nconst staticRouter=app.router.static.http\nconst ht=app.router.history\nconst router=app.router.http\nconst trace=app.event.trace?.map(x=>typeof x==='function'?x:x.fn)??[]\nconst notFound=new NotFoundError()\nconst hoc=app.extender.higherOrderFunctions.map(x=>x.fn)\n`, app.event.request?.length && (fnLiteral += `const onRequest=app.event.request.map(x=>x.fn)\n`), app.event.afterResponse?.length && (fnLiteral += `const afterResponse=app.event.afterResponse.map(x=>x.fn)\n`), fnLiteral += error404.declare, app.event.trace?.length && (fnLiteral += \"const \" + app.event.trace.map((_, i) => `tr${i}=app.event.trace[${i}].fn`).join(\",\") + `\n`), fnLiteral += `${maybeAsync ? \"async \" : \"\"}function map(${adapter.parameters}){`, app.event.request?.length && (fnLiteral += `let re\n`), fnLiteral += adapter.createContext(app), app.event.trace?.length && (fnLiteral += \"c[ELYSIA_TRACE]=[\" + app.event.trace.map((_, i) => `tr${i}(c)`).join(\",\") + `]\n`), fnLiteral += createOnRequestHandler(app), switchMap && (fnLiteral += `\nmap: switch(p){\n` + switchMap + \"}\"), fnLiteral += findDynamicRoute + `}\n` + createHoc(app);\n  const handleError = composeErrorHandler(app);\n  app.handleError = handleError;\n  const fn = Function(\n    \"data\",\n    `\"use strict\";\n` + fnLiteral\n  )({\n    app,\n    mapEarlyResponse: app[\"~adapter\"].handler.mapEarlyResponse,\n    NotFoundError,\n    randomId,\n    handleError,\n    status,\n    redirect,\n    getResponseLength,\n    ElysiaCustomStatusResponse,\n    // @ts-ignore\n    parseQueryFromURL: app.inference.query ? parseQueryFromURL : void 0,\n    ELYSIA_TRACE: hasTrace ? ELYSIA_TRACE : void 0,\n    ELYSIA_REQUEST_ID: hasTrace ? ELYSIA_REQUEST_ID : void 0,\n    ...adapter.inject\n  });\n  return isBun && Bun.gc(!1), fn;\n}, composeErrorHandler = (app) => {\n  const hooks = app.event;\n  let fnLiteral = \"\";\n  const adapter = app[\"~adapter\"].composeError, adapterVariables = adapter.inject ? Object.keys(adapter.inject).join(\",\") + \",\" : \"\", hasTrace = !!app.event.trace?.length;\n  fnLiteral += \"const {mapResponse,ERROR_CODE,ElysiaCustomStatusResponse,ValidationError,TransformDecodeError,\" + allocateIf(\"onError,\", app.event.error) + allocateIf(\"afterResponse,\", app.event.afterResponse) + allocateIf(\"trace,\", app.event.trace) + allocateIf(\"onMapResponse,\", app.event.mapResponse) + allocateIf(\"ELYSIA_TRACE,\", hasTrace) + allocateIf(\"ELYSIA_REQUEST_ID,\", hasTrace) + adapterVariables + `}=inject\n`, fnLiteral += \"return async function(context,error,skipGlobal){\", fnLiteral += \"\", hasTrace && (fnLiteral += `const id=context[ELYSIA_REQUEST_ID]\n`);\n  const report = createReport({\n    context: \"context\",\n    trace: hooks.trace,\n    addFn: (word) => {\n      fnLiteral += word;\n    }\n  }), afterResponse = () => {\n    if (!hooks.afterResponse?.length && !hasTrace) return \"\";\n    let afterResponse2 = \"\";\n    const prefix = hooks.afterResponse?.some(isAsync) ? \"async\" : \"\";\n    afterResponse2 += `\n${setImmediateFn}(${prefix}()=>{`;\n    const reporter = createReport({\n      context: \"context\",\n      trace: hooks.trace,\n      addFn: (word) => {\n        afterResponse2 += word;\n      }\n    })(\"afterResponse\", {\n      total: hooks.afterResponse?.length,\n      name: \"context\"\n    });\n    if (hooks.afterResponse?.length && hooks.afterResponse)\n      for (let i = 0; i < hooks.afterResponse.length; i++) {\n        const fn = hooks.afterResponse[i].fn, endUnit = reporter.resolveChild(fn.name);\n        afterResponse2 += `\n${isAsyncName(fn) ? \"await \" : \"\"}afterResponse[${i}](context)\n`, endUnit();\n      }\n    return reporter.resolve(), afterResponse2 += `})\n`, afterResponse2;\n  };\n  fnLiteral += `const set=context.set\nlet _r\nif(!context.code)context.code=error.code??error[ERROR_CODE]\nif(!(context.error instanceof Error))context.error=error\nif(error instanceof ElysiaCustomStatusResponse){set.status=error.status=error.code\nerror.message=error.response}`, adapter.declare && (fnLiteral += adapter.declare);\n  const saveResponse = hasTrace || hooks.afterResponse?.length ? \"context.response = \" : \"\";\n  if (fnLiteral += `if(typeof error?.toResponse==='function'&&!(error instanceof ValidationError)&&!(error instanceof TransformDecodeError)){try{let raw=error.toResponse()\nif(typeof raw?.then==='function')raw=await raw\nif(raw instanceof Response)set.status=raw.status\ncontext.response=context.responseValue=raw\n}catch(toResponseError){\n}\n}\n`, app.event.error)\n    for (let i = 0; i < app.event.error.length; i++) {\n      const handler = app.event.error[i], response = `${isAsync(handler) ? \"await \" : \"\"}onError[${i}](context)\n`;\n      if (fnLiteral += \"if(skipGlobal!==true&&!context.response){\", hasReturn(handler)) {\n        fnLiteral += `_r=${response}\nif(_r!==undefined){if(_r instanceof Response){` + afterResponse() + `return mapResponse(_r,set${adapter.mapResponseContext})}if(_r instanceof ElysiaCustomStatusResponse){error.status=error.code\nerror.message=error.response}if(set.status===200||!set.status)set.status=error.status\n`;\n        const mapResponseReporter2 = report(\"mapResponse\", {\n          total: hooks.mapResponse?.length,\n          name: \"context\"\n        });\n        if (hooks.mapResponse?.length)\n          for (let i2 = 0; i2 < hooks.mapResponse.length; i2++) {\n            const mapResponse = hooks.mapResponse[i2], endUnit = mapResponseReporter2.resolveChild(\n              mapResponse.fn.name\n            );\n            fnLiteral += `context.response=context.responseValue=_r\n_r=${isAsyncName(mapResponse) ? \"await \" : \"\"}onMapResponse[${i2}](context)\n`, endUnit();\n          }\n        mapResponseReporter2.resolve(), fnLiteral += afterResponse() + `return mapResponse(${saveResponse}_r,set${adapter.mapResponseContext})}`;\n      } else fnLiteral += response;\n      fnLiteral += \"}\";\n    }\n  fnLiteral += `if(error instanceof ValidationError||error instanceof TransformDecodeError){\nif(error.error)error=error.error\nset.status=error.status??422\n` + afterResponse() + adapter.validationError + `\n}\n`, fnLiteral += \"if(!context.response&&error instanceof Error){\" + afterResponse() + adapter.unknownError + `\n}`;\n  const mapResponseReporter = report(\"mapResponse\", {\n    total: hooks.mapResponse?.length,\n    name: \"context\"\n  });\n  if (fnLiteral += `\nif(!context.response)context.response=context.responseValue=error.message??error\n`, hooks.mapResponse?.length) {\n    fnLiteral += `let mr\n`;\n    for (let i = 0; i < hooks.mapResponse.length; i++) {\n      const mapResponse = hooks.mapResponse[i], endUnit = mapResponseReporter.resolveChild(\n        mapResponse.fn.name\n      );\n      fnLiteral += `if(mr===undefined){mr=${isAsyncName(mapResponse) ? \"await \" : \"\"}onMapResponse[${i}](context)\nif(mr!==undefined)error=context.response=context.responseValue=mr}`, endUnit();\n    }\n  }\n  mapResponseReporter.resolve(), fnLiteral += afterResponse() + `\nreturn mapResponse(${saveResponse}error,set${adapter.mapResponseContext})}`;\n  const mapFn = (x) => typeof x == \"function\" ? x : x.fn;\n  return Function(\n    \"inject\",\n    `\"use strict\";\n` + fnLiteral\n  )({\n    mapResponse: app[\"~adapter\"].handler.mapResponse,\n    ERROR_CODE,\n    ElysiaCustomStatusResponse,\n    ValidationError,\n    TransformDecodeError,\n    onError: app.event.error?.map(mapFn),\n    afterResponse: app.event.afterResponse?.map(mapFn),\n    trace: app.event.trace?.map(mapFn),\n    onMapResponse: app.event.mapResponse?.map(mapFn),\n    ELYSIA_TRACE: hasTrace ? ELYSIA_TRACE : void 0,\n    ELYSIA_REQUEST_ID: hasTrace ? ELYSIA_REQUEST_ID : void 0,\n    ...adapter.inject\n  });\n};\nexport {\n  composeErrorHandler,\n  composeGeneralHandler,\n  composeHandler,\n  createHoc,\n  createOnRequestHandler,\n  isAsync\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4812, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/adapter/cloudflare-worker/index.mjs"],"sourcesContent":["import { WebStandardAdapter } from \"../web-standard/index.mjs\";\nimport { composeErrorHandler } from \"../../compose.mjs\";\nfunction isCloudflareWorker() {\n  try {\n    if (\n      // @ts-ignore\n      typeof caches < \"u\" && // @ts-ignore\n      typeof caches.default < \"u\" || typeof WebSocketPair < \"u\"\n    ) return !0;\n  } catch {\n    return !1;\n  }\n  return !1;\n}\nconst CloudflareAdapter = {\n  ...WebStandardAdapter,\n  name: \"cloudflare-worker\",\n  composeGeneralHandler: {\n    ...WebStandardAdapter.composeGeneralHandler,\n    error404(hasEventHook, hasErrorHook, afterHandle) {\n      const { code } = WebStandardAdapter.composeGeneralHandler.error404(\n        hasEventHook,\n        hasErrorHook,\n        afterHandle\n      );\n      return {\n        code,\n        declare: hasErrorHook ? \"\" : (\n          // This only work because Elysia only clone the Response via .clone()\n          `const error404Message=notFound.message.toString()\nconst error404={clone:()=>new Response(error404Message,{status:404})}\n`\n        )\n      };\n    }\n  },\n  beforeCompile(app) {\n    app.handleError = composeErrorHandler(app);\n    for (const route of app.routes) route.compile();\n  },\n  listen() {\n    return () => {\n      console.warn(\n        \"Cloudflare Worker does not support listen method. Please export default Elysia instance instead.\"\n      );\n    };\n  }\n};\nexport {\n  CloudflareAdapter,\n  isCloudflareWorker\n};\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AACA,SAAS;IACP,IAAI;QACF,IACE,aAAa;QACb,OAAO,SAAS,OAAO,aAAa;QACpC,OAAO,OAAO,OAAO,GAAG,OAAO,OAAO,gBAAgB,KACtD,OAAO,CAAC;IACZ,EAAE,OAAM;QACN,OAAO,CAAC;IACV;IACA,OAAO,CAAC;AACV;AACA,MAAM,oBAAoB;IACxB,GAAG,8LAAkB;IACrB,MAAM;IACN,uBAAuB;QACrB,GAAG,8LAAkB,CAAC,qBAAqB;QAC3C,UAAS,YAAY,EAAE,YAAY,EAAE,WAAW;YAC9C,MAAM,EAAE,IAAI,EAAE,GAAG,8LAAkB,CAAC,qBAAqB,CAAC,QAAQ,CAChE,cACA,cACA;YAEF,OAAO;gBACL;gBACA,SAAS,eAAe,KACtB,qEAAqE;gBACrE,CAAC;;AAEX,CAAC;YAEK;QACF;IACF;IACA,eAAc,GAAG;QACf,IAAI,WAAW,GAAG,IAAA,mKAAmB,EAAC;QACtC,KAAK,MAAM,SAAS,IAAI,MAAM,CAAE,MAAM,OAAO;IAC/C;IACA;QACE,OAAO;YACL,QAAQ,IAAI,CACV;QAEJ;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 4863, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/sucrose.mjs"],"sourcesContent":["import { checksum } from \"./utils.mjs\";\nimport { isBun } from \"./universal/utils.mjs\";\nimport { isCloudflareWorker } from \"./adapter/cloudflare-worker/index.mjs\";\nconst separateFunction = (code) => {\n  code.startsWith(\"async\") && (code = code.slice(5)), code = code.trimStart();\n  let index = -1;\n  if (code.charCodeAt(0) === 40 && (index = code.indexOf(\"=>\", code.indexOf(\")\")), index !== -1)) {\n    let bracketEndIndex = index;\n    for (; bracketEndIndex > 0 && code.charCodeAt(--bracketEndIndex) !== 41; )\n      ;\n    let body = code.slice(index + 2);\n    return body.charCodeAt(0) === 32 && (body = body.trimStart()), [\n      code.slice(1, bracketEndIndex),\n      body,\n      {\n        isArrowReturn: body.charCodeAt(0) !== 123\n      }\n    ];\n  }\n  if (/^(\\w+)=>/g.test(code) && (index = code.indexOf(\"=>\"), index !== -1)) {\n    let body = code.slice(index + 2);\n    return body.charCodeAt(0) === 32 && (body = body.trimStart()), [\n      code.slice(0, index),\n      body,\n      {\n        isArrowReturn: body.charCodeAt(0) !== 123\n      }\n    ];\n  }\n  if (code.startsWith(\"function\")) {\n    index = code.indexOf(\"(\");\n    const end = code.indexOf(\")\");\n    return [\n      code.slice(index + 1, end),\n      code.slice(end + 2),\n      {\n        isArrowReturn: !1\n      }\n    ];\n  }\n  const start = code.indexOf(\"(\");\n  if (start !== -1) {\n    const sep = code.indexOf(`\n`, 2), parameter = code.slice(0, sep), end = parameter.lastIndexOf(\")\") + 1, body = code.slice(sep + 1);\n    return [\n      parameter.slice(start, end),\n      \"{\" + body,\n      {\n        isArrowReturn: !1\n      }\n    ];\n  }\n  const x = code.split(`\n`, 2);\n  return [x[0], x[1], { isArrowReturn: !1 }];\n}, bracketPairRange = (parameter) => {\n  const start = parameter.indexOf(\"{\");\n  if (start === -1) return [-1, 0];\n  let end = start + 1, deep = 1;\n  for (; end < parameter.length; end++) {\n    const char = parameter.charCodeAt(end);\n    if (char === 123 ? deep++ : char === 125 && deep--, deep === 0) break;\n  }\n  return deep !== 0 ? [0, parameter.length] : [start, end + 1];\n}, bracketPairRangeReverse = (parameter) => {\n  const end = parameter.lastIndexOf(\"}\");\n  if (end === -1) return [-1, 0];\n  let start = end - 1, deep = 1;\n  for (; start >= 0; start--) {\n    const char = parameter.charCodeAt(start);\n    if (char === 125 ? deep++ : char === 123 && deep--, deep === 0) break;\n  }\n  return deep !== 0 ? [-1, 0] : [start, end + 1];\n}, removeColonAlias = (parameter) => {\n  for (; ; ) {\n    const start = parameter.indexOf(\":\");\n    if (start === -1) break;\n    let end = parameter.indexOf(\",\", start);\n    end === -1 && (end = parameter.indexOf(\"}\", start) - 1), end === -2 && (end = parameter.length), parameter = parameter.slice(0, start) + parameter.slice(end);\n  }\n  return parameter;\n}, retrieveRootParamters = (parameter) => {\n  let hasParenthesis = !1;\n  parameter.charCodeAt(0) === 40 && (parameter = parameter.slice(1, -1)), parameter.charCodeAt(0) === 123 && (hasParenthesis = !0, parameter = parameter.slice(1, -1)), parameter = parameter.replace(/( |\\t|\\n)/g, \"\").trim();\n  let parameters = [];\n  for (; ; ) {\n    let [start, end] = bracketPairRange(parameter);\n    if (start === -1) break;\n    parameters.push(parameter.slice(0, start - 1)), parameter.charCodeAt(end) === 44 && end++, parameter = parameter.slice(end);\n  }\n  parameter = removeColonAlias(parameter), parameter && (parameters = parameters.concat(parameter.split(\",\")));\n  const parameterMap = /* @__PURE__ */ Object.create(null);\n  for (const p of parameters) {\n    if (p.indexOf(\",\") === -1) {\n      parameterMap[p] = !0;\n      continue;\n    }\n    for (const q of p.split(\",\")) parameterMap[q.trim()] = !0;\n  }\n  return {\n    hasParenthesis,\n    parameters: parameterMap\n  };\n}, findParameterReference = (parameter, inference) => {\n  const { parameters, hasParenthesis } = retrieveRootParamters(parameter);\n  return parameters.query && (inference.query = !0), parameters.headers && (inference.headers = !0), parameters.body && (inference.body = !0), parameters.cookie && (inference.cookie = !0), parameters.set && (inference.set = !0), parameters.server && (inference.server = !0), parameters.route && (inference.route = !0), parameters.url && (inference.url = !0), parameters.path && (inference.path = !0), hasParenthesis ? `{ ${Object.keys(parameters).join(\", \")} }` : Object.keys(parameters).join(\", \");\n}, findEndIndex = (type, content, index) => {\n  const regex = new RegExp(\n    `${type.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\")}[\\\\n\\\\t,; ]`\n  );\n  index !== void 0 && (regex.lastIndex = index);\n  const match = regex.exec(content);\n  return match ? match.index : -1;\n}, findEndQueryBracketIndex = (type, content, index) => {\n  const bracketEndIndex = content.indexOf(type + \"]\", index), singleQuoteIndex = content.indexOf(type + \"'\", index), doubleQuoteIndex = content.indexOf(type + '\"', index);\n  return [bracketEndIndex, singleQuoteIndex, doubleQuoteIndex].filter((i) => i > 0).sort((a, b) => a - b)[0] || -1;\n}, findAlias = (type, body, depth = 0) => {\n  if (depth > 5) return [];\n  const aliases = [];\n  let content = body;\n  for (; ; ) {\n    let index = findEndIndex(\" = \" + type, content);\n    if (index === -1 && (index = findEndIndex(\"=\" + type, content)), index === -1) {\n      let lastIndex = content.indexOf(\" = \" + type);\n      if (lastIndex === -1 && (lastIndex = content.indexOf(\"=\" + type)), lastIndex + 3 + type.length !== content.length) break;\n      index = lastIndex;\n    }\n    const part = content.slice(0, index), lastPart = part.lastIndexOf(\" \");\n    let variable = part.slice(lastPart !== -1 ? lastPart + 1 : -1);\n    if (variable === \"}\") {\n      const [start, end] = bracketPairRangeReverse(part);\n      aliases.push(removeColonAlias(content.slice(start, end))), content = content.slice(index + 3 + type.length);\n      continue;\n    }\n    for (; variable.charCodeAt(0) === 44; ) variable = variable.slice(1);\n    for (; variable.charCodeAt(0) === 9; ) variable = variable.slice(1);\n    variable.includes(\"(\") || aliases.push(variable), content = content.slice(index + 3 + type.length);\n  }\n  for (const alias of aliases) {\n    if (alias.charCodeAt(0) === 123) continue;\n    const deepAlias = findAlias(alias, body);\n    deepAlias.length > 0 && aliases.push(...deepAlias);\n  }\n  return aliases;\n}, extractMainParameter = (parameter) => {\n  if (!parameter) return;\n  if (parameter.charCodeAt(0) !== 123) return parameter;\n  if (parameter = parameter.slice(2, -2), !parameter.includes(\",\"))\n    return parameter.indexOf(\"...\") !== -1 ? parameter.slice(parameter.indexOf(\"...\") + 3) : void 0;\n  const spreadIndex = parameter.indexOf(\"...\");\n  if (spreadIndex !== -1)\n    return parameter.slice(spreadIndex + 3).trimEnd();\n}, inferBodyReference = (code, aliases, inference) => {\n  const access = (type, alias) => new RegExp(\n    `${alias}\\\\.(${type})|${alias}\\\\[\"${type}\"\\\\]|${alias}\\\\['${type}'\\\\]`\n  ).test(code);\n  for (const alias of aliases)\n    if (alias) {\n      if (alias.charCodeAt(0) === 123) {\n        const parameters = retrieveRootParamters(alias).parameters;\n        parameters.query && (inference.query = !0), parameters.headers && (inference.headers = !0), parameters.body && (inference.body = !0), parameters.cookie && (inference.cookie = !0), parameters.set && (inference.set = !0), parameters.server && (inference.server = !0), parameters.url && (inference.url = !0), parameters.route && (inference.route = !0), parameters.path && (inference.path = !0);\n        continue;\n      }\n      if (!inference.query && (access(\"query\", alias) || code.includes(\"return \" + alias) || code.includes(\"return \" + alias + \".query\")) && (inference.query = !0), !inference.headers && access(\"headers\", alias) && (inference.headers = !0), !inference.body && access(\"body\", alias) && (inference.body = !0), !inference.cookie && access(\"cookie\", alias) && (inference.cookie = !0), !inference.set && access(\"set\", alias) && (inference.set = !0), !inference.server && access(\"server\", alias) && (inference.server = !0), !inference.route && access(\"route\", alias) && (inference.route = !0), !inference.url && access(\"url\", alias) && (inference.url = !0), !inference.path && access(\"path\", alias) && (inference.path = !0), inference.query && inference.headers && inference.body && inference.cookie && inference.set && inference.server && inference.route && inference.url && inference.path)\n        break;\n    }\n  return aliases;\n}, removeDefaultParameter = (parameter) => {\n  for (; ; ) {\n    const index = parameter.indexOf(\"=\");\n    if (index === -1) break;\n    const commaIndex = parameter.indexOf(\",\", index), bracketIndex = parameter.indexOf(\"}\", index), end = [commaIndex, bracketIndex].filter((i) => i > 0).sort((a, b) => a - b)[0] || -1;\n    if (end === -1) {\n      parameter = parameter.slice(0, index);\n      break;\n    }\n    parameter = parameter.slice(0, index) + parameter.slice(end);\n  }\n  return parameter.split(\",\").map((i) => i.trim()).join(\", \");\n}, isContextPassToFunction = (context, body, inference) => {\n  try {\n    const captureFunction = new RegExp(\n      `\\\\w\\\\((?:.*?)?${context}(?:.*?)?\\\\)`,\n      \"gs\"\n    ), exactParameter = new RegExp(`${context}(,|\\\\))`, \"gs\"), length = body.length;\n    let fn;\n    for (fn = captureFunction.exec(body) + \"\"; captureFunction.lastIndex !== 0 && captureFunction.lastIndex < length + (fn ? fn.length : 0); ) {\n      if (fn && exactParameter.test(fn))\n        return inference.query = !0, inference.headers = !0, inference.body = !0, inference.cookie = !0, inference.set = !0, inference.server = !0, inference.url = !0, inference.route = !0, inference.path = !0, !0;\n      fn = captureFunction.exec(body) + \"\";\n    }\n    const nextChar = body.charCodeAt(captureFunction.lastIndex);\n    return nextChar === 41 || nextChar === 44 ? (inference.query = !0, inference.headers = !0, inference.body = !0, inference.cookie = !0, inference.set = !0, inference.server = !0, inference.url = !0, inference.route = !0, inference.path = !0, !0) : !1;\n  } catch {\n    return console.log(\n      \"[Sucrose] warning: unexpected isContextPassToFunction error, you may continue development as usual but please report the following to maintainers:\"\n    ), console.log(\"--- body ---\"), console.log(body), console.log(\"--- context ---\"), console.log(context), !0;\n  }\n};\nlet pendingGC, caches = {};\nconst clearSucroseCache = (delay) => {\n  delay === null || isCloudflareWorker() || (delay === void 0 && (delay = 4 * 60 * 1e3 + 55 * 1e3), pendingGC && clearTimeout(pendingGC), pendingGC = setTimeout(() => {\n    caches = {}, pendingGC = void 0, isBun && Bun.gc(!1);\n  }, delay), pendingGC.unref?.());\n}, mergeInference = (a, b) => ({\n  body: a.body || b.body,\n  cookie: a.cookie || b.cookie,\n  headers: a.headers || b.headers,\n  query: a.query || b.query,\n  set: a.set || b.set,\n  server: a.server || b.server,\n  url: a.url || b.url,\n  route: a.route || b.route,\n  path: a.path || b.path\n}), sucrose = (lifeCycle, inference = {\n  query: !1,\n  headers: !1,\n  body: !1,\n  cookie: !1,\n  set: !1,\n  server: !1,\n  url: !1,\n  route: !1,\n  path: !1\n}, settings = {}) => {\n  const events = [];\n  lifeCycle.request?.length && events.push(...lifeCycle.request), lifeCycle.beforeHandle?.length && events.push(...lifeCycle.beforeHandle), lifeCycle.parse?.length && events.push(...lifeCycle.parse), lifeCycle.error?.length && events.push(...lifeCycle.error), lifeCycle.transform?.length && events.push(...lifeCycle.transform), lifeCycle.afterHandle?.length && events.push(...lifeCycle.afterHandle), lifeCycle.mapResponse?.length && events.push(...lifeCycle.mapResponse), lifeCycle.afterResponse?.length && events.push(...lifeCycle.afterResponse), lifeCycle.handler && typeof lifeCycle.handler == \"function\" && events.push(lifeCycle.handler);\n  for (let i = 0; i < events.length; i++) {\n    const e = events[i];\n    if (!e) continue;\n    const event = typeof e == \"object\" ? e.fn : e;\n    if (typeof event != \"function\") continue;\n    const content = event.toString(), key = checksum(content), cachedInference = caches[key];\n    if (cachedInference) {\n      inference = mergeInference(inference, cachedInference);\n      continue;\n    }\n    clearSucroseCache(settings.gcTime);\n    const fnInference = {\n      query: !1,\n      headers: !1,\n      body: !1,\n      cookie: !1,\n      set: !1,\n      server: !1,\n      url: !1,\n      route: !1,\n      path: !1\n    }, [parameter, body] = separateFunction(content), rootParameters = findParameterReference(parameter, fnInference), mainParameter = extractMainParameter(rootParameters);\n    if (mainParameter) {\n      const aliases = findAlias(mainParameter, body.slice(1, -1));\n      aliases.splice(0, -1, mainParameter);\n      let code = body;\n      code.charCodeAt(0) === 123 && code.charCodeAt(body.length - 1) === 125 && (code = code.slice(1, -1).trim()), isContextPassToFunction(mainParameter, code, fnInference) || inferBodyReference(code, aliases, fnInference), !fnInference.query && code.includes(\"return \" + mainParameter + \".query\") && (fnInference.query = !0);\n    }\n    if (caches[key] || (caches[key] = fnInference), inference = mergeInference(inference, fnInference), inference.query && inference.headers && inference.body && inference.cookie && inference.set && inference.server && inference.url && inference.route && inference.path)\n      break;\n  }\n  return inference;\n};\nexport {\n  bracketPairRange,\n  bracketPairRangeReverse,\n  clearSucroseCache,\n  extractMainParameter,\n  findAlias,\n  findParameterReference,\n  inferBodyReference,\n  isContextPassToFunction,\n  mergeInference,\n  removeColonAlias,\n  removeDefaultParameter,\n  retrieveRootParamters,\n  separateFunction,\n  sucrose\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5176, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/adapter/bun/handler.mjs"],"sourcesContent":["import {\n  createResponseHandler,\n  createStreamHandler,\n  handleFile,\n  handleSet\n} from \"../utils.mjs\";\nimport { isNotEmpty } from \"../../utils.mjs\";\nimport { Cookie } from \"../../cookies.mjs\";\nimport { ElysiaCustomStatusResponse } from \"../../error.mjs\";\nconst mapResponse = (response, set, request) => {\n  if (isNotEmpty(set.headers) || set.status !== 200 || set.cookie)\n    switch (handleSet(set), response?.constructor?.name) {\n      case \"String\":\n        return new Response(response, set);\n      case \"Array\":\n      case \"Object\":\n        return set.headers[\"content-type\"] = \"application/json\", new Response(JSON.stringify(response), set);\n      case \"ElysiaFile\":\n        return handleFile(response.value, set);\n      case \"File\":\n        return handleFile(response, set);\n      case \"Blob\":\n        return handleFile(response, set);\n      case \"ElysiaCustomStatusResponse\":\n        return set.status = response.code, mapResponse(\n          response.response,\n          set,\n          request\n        );\n      case void 0:\n        return response ? new Response(JSON.stringify(response), set) : new Response(\"\", set);\n      case \"Response\":\n        return handleResponse(response, set, request);\n      case \"Error\":\n        return errorToResponse(response, set);\n      case \"Promise\":\n        return response.then(\n          (x) => mapResponse(x, set, request)\n        );\n      case \"Function\":\n        return mapResponse(response(), set, request);\n      case \"Number\":\n      case \"Boolean\":\n        return new Response(\n          response.toString(),\n          set\n        );\n      case \"Cookie\":\n        return response instanceof Cookie ? new Response(response.value, set) : new Response(response?.toString(), set);\n      case \"FormData\":\n        return new Response(response, set);\n      default:\n        if (response instanceof Response)\n          return handleResponse(response, set, request);\n        if (response instanceof Promise)\n          return response.then((x) => mapResponse(x, set));\n        if (response instanceof Error)\n          return errorToResponse(response, set);\n        if (response instanceof ElysiaCustomStatusResponse)\n          return set.status = response.code, mapResponse(\n            response.response,\n            set,\n            request\n          );\n        if (\n          // @ts-expect-error\n          typeof response?.next == \"function\" || response instanceof ReadableStream\n        )\n          return handleStream(response, set, request);\n        if (typeof response?.then == \"function\")\n          return response.then((x) => mapResponse(x, set));\n        if (typeof response?.toResponse == \"function\")\n          return mapResponse(response.toResponse(), set);\n        if (\"charCodeAt\" in response) {\n          const code = response.charCodeAt(0);\n          if (code === 123 || code === 91)\n            return set.headers[\"Content-Type\"] || (set.headers[\"Content-Type\"] = \"application/json\"), new Response(\n              JSON.stringify(response),\n              set\n            );\n        }\n        return new Response(response, set);\n    }\n  return (\n    // @ts-expect-error\n    typeof response?.next == \"function\" || response instanceof ReadableStream ? handleStream(response, set, request) : mapCompactResponse(response, request)\n  );\n}, mapEarlyResponse = (response, set, request) => {\n  if (response != null)\n    if (isNotEmpty(set.headers) || set.status !== 200 || set.cookie)\n      switch (handleSet(set), response?.constructor?.name) {\n        case \"String\":\n          return new Response(response, set);\n        case \"Array\":\n        case \"Object\":\n          return set.headers[\"content-type\"] = \"application/json\", new Response(JSON.stringify(response), set);\n        case \"ElysiaFile\":\n          return handleFile(response.value, set);\n        case \"File\":\n          return handleFile(response, set);\n        case \"Blob\":\n          return handleFile(response, set);\n        case \"ElysiaCustomStatusResponse\":\n          return set.status = response.code, mapEarlyResponse(\n            response.response,\n            set,\n            request\n          );\n        case void 0:\n          return response ? new Response(JSON.stringify(response), set) : void 0;\n        case \"Response\":\n          return handleResponse(response, set, request);\n        case \"Promise\":\n          return response.then(\n            (x) => mapEarlyResponse(x, set)\n          );\n        case \"Error\":\n          return errorToResponse(response, set);\n        case \"Function\":\n          return mapEarlyResponse(response(), set);\n        case \"Number\":\n        case \"Boolean\":\n          return new Response(\n            response.toString(),\n            set\n          );\n        case \"FormData\":\n          return new Response(response);\n        case \"Cookie\":\n          return response instanceof Cookie ? new Response(response.value, set) : new Response(response?.toString(), set);\n        default:\n          if (response instanceof Response)\n            return handleResponse(response, set, request);\n          if (response instanceof Promise)\n            return response.then((x) => mapEarlyResponse(x, set));\n          if (response instanceof Error)\n            return errorToResponse(response, set);\n          if (response instanceof ElysiaCustomStatusResponse)\n            return set.status = response.code, mapEarlyResponse(\n              response.response,\n              set,\n              request\n            );\n          if (\n            // @ts-expect-error\n            typeof response?.next == \"function\" || response instanceof ReadableStream\n          )\n            return handleStream(response, set, request);\n          if (typeof response?.then == \"function\")\n            return response.then(\n              (x) => mapEarlyResponse(x, set)\n            );\n          if (typeof response?.toResponse == \"function\")\n            return mapEarlyResponse(response.toResponse(), set);\n          if (\"charCodeAt\" in response) {\n            const code = response.charCodeAt(0);\n            if (code === 123 || code === 91)\n              return set.headers[\"Content-Type\"] || (set.headers[\"Content-Type\"] = \"application/json\"), new Response(\n                JSON.stringify(response),\n                set\n              );\n          }\n          return new Response(response, set);\n      }\n    else\n      switch (response?.constructor?.name) {\n        case \"String\":\n          return new Response(response);\n        case \"Array\":\n        case \"Object\":\n          return set.headers[\"content-type\"] = \"application/json\", new Response(JSON.stringify(response), set);\n        case \"ElysiaFile\":\n          return handleFile(response.value, set);\n        case \"File\":\n          return handleFile(response, set);\n        case \"Blob\":\n          return handleFile(response, set);\n        case \"ElysiaCustomStatusResponse\":\n          return set.status = response.code, mapEarlyResponse(\n            response.response,\n            set,\n            request\n          );\n        case void 0:\n          return response ? new Response(JSON.stringify(response), {\n            headers: {\n              \"content-type\": \"application/json\"\n            }\n          }) : new Response(\"\");\n        case \"Response\":\n          return response;\n        case \"Promise\":\n          return response.then((x) => {\n            const r = mapEarlyResponse(x, set);\n            if (r !== void 0) return r;\n          });\n        case \"Error\":\n          return errorToResponse(response, set);\n        case \"Function\":\n          return mapCompactResponse(response(), request);\n        case \"Number\":\n        case \"Boolean\":\n          return new Response(response.toString());\n        case \"Cookie\":\n          return response instanceof Cookie ? new Response(response.value, set) : new Response(response?.toString(), set);\n        case \"FormData\":\n          return new Response(response);\n        default:\n          if (response instanceof Response) return response;\n          if (response instanceof Promise)\n            return response.then((x) => mapEarlyResponse(x, set));\n          if (response instanceof Error)\n            return errorToResponse(response, set);\n          if (response instanceof ElysiaCustomStatusResponse)\n            return set.status = response.code, mapEarlyResponse(\n              response.response,\n              set,\n              request\n            );\n          if (\n            // @ts-expect-error\n            typeof response?.next == \"function\" || response instanceof ReadableStream\n          )\n            return handleStream(response, set, request);\n          if (typeof response?.then == \"function\")\n            return response.then(\n              (x) => mapEarlyResponse(x, set)\n            );\n          if (typeof response?.toResponse == \"function\")\n            return mapEarlyResponse(response.toResponse(), set);\n          if (\"charCodeAt\" in response) {\n            const code = response.charCodeAt(0);\n            if (code === 123 || code === 91)\n              return set.headers[\"Content-Type\"] || (set.headers[\"Content-Type\"] = \"application/json\"), new Response(\n                JSON.stringify(response),\n                set\n              );\n          }\n          return new Response(response);\n      }\n}, mapCompactResponse = (response, request) => {\n  switch (response?.constructor?.name) {\n    case \"String\":\n      return new Response(response);\n    case \"Object\":\n    case \"Array\":\n      return new Response(JSON.stringify(response), {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n    case \"ElysiaFile\":\n      return handleFile(response.value);\n    case \"File\":\n      return handleFile(response);\n    case \"Blob\":\n      return handleFile(response);\n    case \"ElysiaCustomStatusResponse\":\n      return mapResponse(\n        response.response,\n        {\n          status: response.code,\n          headers: {}\n        }\n      );\n    case void 0:\n      return response ? new Response(JSON.stringify(response), {\n        headers: {\n          \"content-type\": \"application/json\"\n        }\n      }) : new Response(\"\");\n    case \"Response\":\n      return response;\n    case \"Error\":\n      return errorToResponse(response);\n    case \"Promise\":\n      return response.then(\n        (x) => mapCompactResponse(x, request)\n      );\n    // ? Maybe response or Blob\n    case \"Function\":\n      return mapCompactResponse(response(), request);\n    case \"Number\":\n    case \"Boolean\":\n      return new Response(response.toString());\n    case \"FormData\":\n      return new Response(response);\n    default:\n      if (response instanceof Response) return response;\n      if (response instanceof Promise)\n        return response.then(\n          (x) => mapCompactResponse(x, request)\n        );\n      if (response instanceof Error)\n        return errorToResponse(response);\n      if (response instanceof ElysiaCustomStatusResponse)\n        return mapResponse(\n          response.response,\n          {\n            status: response.code,\n            headers: {}\n          }\n        );\n      if (\n        // @ts-expect-error\n        typeof response?.next == \"function\" || response instanceof ReadableStream\n      )\n        return handleStream(response, void 0, request);\n      if (typeof response?.then == \"function\")\n        return response.then(\n          (x) => mapCompactResponse(x, request)\n        );\n      if (typeof response?.toResponse == \"function\")\n        return mapCompactResponse(response.toResponse());\n      if (\"charCodeAt\" in response) {\n        const code = response.charCodeAt(0);\n        if (code === 123 || code === 91)\n          return new Response(JSON.stringify(response), {\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          });\n      }\n      return new Response(response);\n  }\n}, errorToResponse = (error, set) => {\n  if (typeof error?.toResponse == \"function\") {\n    const raw = error.toResponse(), targetSet = set ?? { headers: {}, status: 200, redirect: \"\" }, apply = (resolved) => (resolved instanceof Response && (targetSet.status = resolved.status), mapResponse(resolved, targetSet));\n    return typeof raw?.then == \"function\" ? raw.then(apply) : apply(raw);\n  }\n  return new Response(\n    JSON.stringify({\n      name: error?.name,\n      message: error?.message,\n      cause: error?.cause\n    }),\n    {\n      status: set?.status !== 200 ? set?.status ?? 500 : 500,\n      headers: set?.headers\n    }\n  );\n}, createStaticHandler = (handle, hooks, setHeaders = {}) => {\n  if (typeof handle == \"function\") return;\n  const response = mapResponse(handle, {\n    headers: setHeaders\n  });\n  if (!hooks.parse?.length && !hooks.transform?.length && !hooks.beforeHandle?.length && !hooks.afterHandle?.length)\n    return () => response.clone();\n}, handleResponse = createResponseHandler({\n  mapResponse,\n  mapCompactResponse\n}), handleStream = createStreamHandler({\n  mapResponse,\n  mapCompactResponse\n});\nexport {\n  createStaticHandler,\n  errorToResponse,\n  mapCompactResponse,\n  mapEarlyResponse,\n  mapResponse\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5444, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/adapter/bun/compose.mjs"],"sourcesContent":["import { mapEarlyResponse } from \"./handler.mjs\";\nimport { sucrose } from \"../../sucrose.mjs\";\nimport { createHoc, createOnRequestHandler, isAsync } from \"../../compose.mjs\";\nimport { randomId, ELYSIA_REQUEST_ID, redirect, isNotEmpty } from \"../../utils.mjs\";\nimport { status } from \"../../error.mjs\";\nimport { ELYSIA_TRACE } from \"../../trace.mjs\";\nconst allocateIf = (value, condition) => condition ? value : \"\", createContext = (app, route, inference, isInline = !1) => {\n  let fnLiteral = \"\";\n  const defaultHeaders = app.setHeaders, hasTrace = !!app.event.trace?.length;\n  hasTrace && (fnLiteral += `const id=randomId()\n`);\n  const isDynamic = /[:*]/.test(route.path), getQi = `const u=request.url,s=u.indexOf('/',${app.config.handler?.standardHostname ?? !0 ? 11 : 7}),qi=u.indexOf('?',s+1)\n`, needsQuery = inference.query || !!route.hooks.query || !!route.hooks.standaloneValidator?.find(\n    (x) => x.query\n  ) || app.event.request?.length;\n  needsQuery && (fnLiteral += getQi);\n  const getPath = inference.path ? isDynamic ? \"get path(){\" + (needsQuery ? \"\" : getQi) + `if(qi===-1)return u.substring(s)\nreturn u.substring(s,qi)\n},` : `path:'${route.path}',` : \"\";\n  fnLiteral += allocateIf(\"const c=\", !isInline) + \"{request,store,\" + allocateIf(\"qi,\", needsQuery) + allocateIf(\"params:request.params,\", isDynamic) + getPath + allocateIf(\n    \"url:request.url,\",\n    hasTrace || inference.url || needsQuery\n  ) + \"redirect,status,set:{headers:\" + (isNotEmpty(defaultHeaders) ? \"Object.assign({},app.setHeaders)\" : \"Object.create(null)\") + \",status:200}\", inference.server && (fnLiteral += \",get server(){return app.getServer()}\"), hasTrace && (fnLiteral += \",[ELYSIA_REQUEST_ID]:id\");\n  {\n    let decoratorsLiteral = \"\";\n    for (const key of Object.keys(app.singleton.decorator))\n      decoratorsLiteral += `,'${key}':decorator['${key}']`;\n    fnLiteral += decoratorsLiteral;\n  }\n  return fnLiteral += `}\n`, fnLiteral;\n}, createBunRouteHandler = (app, route) => {\n  const hasTrace = !!app.event.trace?.length, hasHoc = !!app.extender.higherOrderFunctions.length;\n  let inference = sucrose(\n    route.hooks,\n    // @ts-expect-error\n    app.inference\n  );\n  inference = sucrose(\n    {\n      handler: route.handler\n    },\n    inference\n  );\n  let fnLiteral = \"const handler=data.handler,app=data.app,store=data.store,decorator=data.decorator,redirect=data.redirect,route=data.route,mapEarlyResponse=data.mapEarlyResponse,\" + allocateIf(\"randomId=data.randomId,\", hasTrace) + allocateIf(\"ELYSIA_REQUEST_ID=data.ELYSIA_REQUEST_ID,\", hasTrace) + allocateIf(\"ELYSIA_TRACE=data.ELYSIA_TRACE,\", hasTrace) + allocateIf(\"trace=data.trace,\", hasTrace) + allocateIf(\"hoc=data.hoc,\", hasHoc) + `status=data.status\n`;\n  app.event.request?.length && (fnLiteral += `const onRequest=app.event.request.map(x=>x.fn)\n`), fnLiteral += `${app.event.request?.find(isAsync) ? \"async\" : \"\"} function map(request){`;\n  const needsQuery = inference.query || !!route.hooks.query || !!route.hooks.standaloneValidator?.find(\n    (x) => x.query\n  );\n  return hasTrace || needsQuery || app.event.request?.length ? (fnLiteral += createContext(app, route, inference), fnLiteral += createOnRequestHandler(app), fnLiteral += \"return handler(c)}\") : fnLiteral += `return handler(${createContext(app, route, inference, !0)})}`, fnLiteral += createHoc(app), Function(\n    \"data\",\n    fnLiteral\n  )({\n    app,\n    handler: route.compile?.() ?? route.composed,\n    redirect,\n    status,\n    // @ts-expect-error private property\n    hoc: app.extender.higherOrderFunctions.map((x) => x.fn),\n    store: app.store,\n    decorator: app.decorator,\n    route: route.path,\n    randomId: hasTrace ? randomId : void 0,\n    ELYSIA_TRACE: hasTrace ? ELYSIA_TRACE : void 0,\n    ELYSIA_REQUEST_ID: hasTrace ? ELYSIA_REQUEST_ID : void 0,\n    trace: hasTrace ? app.event.trace?.map((x) => x?.fn ?? x) : void 0,\n    mapEarlyResponse\n  });\n};\nexport {\n  createBunRouteHandler\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5513, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/adapter/bun/handler-native.mjs"],"sourcesContent":["import { isHTMLBundle } from \"./index.mjs\";\nimport { mapResponse } from \"./handler.mjs\";\nconst createNativeStaticHandler = (handle, hooks, set) => {\n  if (typeof handle == \"function\" || handle instanceof Blob) return;\n  if (isHTMLBundle(handle)) return () => handle;\n  const response = mapResponse(\n    handle,\n    set ?? {\n      headers: {}\n    }\n  );\n  if (!hooks.parse?.length && !hooks.transform?.length && !hooks.beforeHandle?.length && !hooks.afterHandle?.length)\n    return response instanceof Promise ? response.then((response2) => {\n      if (response2)\n        return response2.headers.has(\"content-type\") || response2.headers.append(\"content-type\", \"text/plain\"), response2.clone();\n    }) : (response.headers.has(\"content-type\") || response.headers.append(\"content-type\", \"text/plain\"), () => response.clone());\n};\nexport {\n  createNativeStaticHandler\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AACA,MAAM,4BAA4B,CAAC,QAAQ,OAAO;IAChD,IAAI,OAAO,UAAU,cAAc,kBAAkB,MAAM;IAC3D,IAAI,IAAA,4KAAY,EAAC,SAAS,OAAO,IAAM;IACvC,MAAM,WAAW,IAAA,6KAAW,EAC1B,QACA,OAAO;QACL,SAAS,CAAC;IACZ;IAEF,IAAI,CAAC,MAAM,KAAK,EAAE,UAAU,CAAC,MAAM,SAAS,EAAE,UAAU,CAAC,MAAM,YAAY,EAAE,UAAU,CAAC,MAAM,WAAW,EAAE,QACzG,OAAO,oBAAoB,UAAU,SAAS,IAAI,CAAC,CAAC;QAClD,IAAI,WACF,OAAO,UAAU,OAAO,CAAC,GAAG,CAAC,mBAAmB,UAAU,OAAO,CAAC,MAAM,CAAC,gBAAgB,eAAe,UAAU,KAAK;IAC3H,KAAK,CAAC,SAAS,OAAO,CAAC,GAAG,CAAC,mBAAmB,SAAS,OAAO,CAAC,MAAM,CAAC,gBAAgB,eAAe,IAAM,SAAS,KAAK,EAAE;AAC/H","ignoreList":[0]}},
    {"offset": {"line": 5536, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/ws/index.mjs"],"sourcesContent":["import { isNumericString } from \"../utils.mjs\";\nimport { ValidationError } from \"../error.mjs\";\nconst websocket = {\n  open(ws) {\n    ws.data.open?.(ws);\n  },\n  message(ws, message) {\n    ws.data.message?.(ws, message);\n  },\n  drain(ws) {\n    ws.data.drain?.(ws);\n  },\n  close(ws, code, reason) {\n    ws.data.close?.(ws, code, reason);\n  },\n  ping(ws) {\n    ws.data.ping?.(ws);\n  },\n  pong(ws) {\n    ws.data.pong?.(ws);\n  }\n};\nclass ElysiaWS {\n  constructor(raw, data, body = void 0) {\n    this.raw = raw;\n    this.data = data;\n    this.body = body;\n    this.validator = raw.data?.validator, this.sendText = raw.sendText.bind(raw), this.sendBinary = raw.sendBinary.bind(raw), this.close = raw.close.bind(raw), this.terminate = raw.terminate.bind(raw), this.publishText = raw.publishText.bind(raw), this.publishBinary = raw.publishBinary.bind(raw), this.subscribe = raw.subscribe.bind(raw), this.unsubscribe = raw.unsubscribe.bind(raw), this.isSubscribed = raw.isSubscribed.bind(raw), this.cork = raw.cork.bind(raw), this.remoteAddress = raw.remoteAddress, this.binaryType = raw.binaryType, this.data = raw.data, this.subscriptions = raw.subscriptions, this.send = this.send.bind(this), this.ping = this.ping.bind(this), this.pong = this.pong.bind(this), this.publish = this.publish.bind(this);\n  }\n  /**\n   * Sends a message to the client.\n   *\n   * @param data The data to send.\n   * @param compress Should the data be compressed? If the client does not support compression, this is ignored.\n   * @example\n   * ws.send(\"Hello!\");\n   * ws.send(\"Compress this.\", true);\n   * ws.send(new Uint8Array([1, 2, 3, 4]));\n   */\n  send(data, compress) {\n    return Buffer.isBuffer(data) ? this.raw.send(data, compress) : this.validator?.Check(data) === !1 ? this.raw.send(\n      new ValidationError(\"message\", this.validator, data).message\n    ) : (typeof data == \"object\" && (data = JSON.stringify(data)), this.raw.send(data, compress));\n  }\n  /**\n   * Sends a ping.\n   *\n   * @param data The data to send\n   */\n  ping(data) {\n    return Buffer.isBuffer(data) ? this.raw.ping(data) : this.validator?.Check(data) === !1 ? this.raw.send(\n      new ValidationError(\"message\", this.validator, data).message\n    ) : (typeof data == \"object\" && (data = JSON.stringify(data)), this.raw.ping(data));\n  }\n  /**\n   * Sends a pong.\n   *\n   * @param data The data to send\n   */\n  pong(data) {\n    return Buffer.isBuffer(data) ? this.raw.pong(data) : this.validator?.Check(data) === !1 ? this.raw.send(\n      new ValidationError(\"message\", this.validator, data).message\n    ) : (typeof data == \"object\" && (data = JSON.stringify(data)), this.raw.pong(data));\n  }\n  /**\n   * Sends a message to subscribers of the topic.\n   *\n   * @param topic The topic name.\n   * @param data The data to send.\n   * @param compress Should the data be compressed? If the client does not support compression, this is ignored.\n   * @example\n   * ws.publish(\"chat\", \"Hello!\");\n   * ws.publish(\"chat\", \"Compress this.\", true);\n   * ws.publish(\"chat\", new Uint8Array([1, 2, 3, 4]));\n   */\n  publish(topic, data, compress) {\n    return Buffer.isBuffer(data) ? this.raw.publish(\n      topic,\n      data,\n      compress\n    ) : this.validator?.Check(data) === !1 ? this.raw.send(\n      new ValidationError(\"message\", this.validator, data).message\n    ) : (typeof data == \"object\" && (data = JSON.stringify(data)), this.raw.publish(topic, data, compress));\n  }\n  get readyState() {\n    return this.raw.readyState;\n  }\n  get id() {\n    return this.data.id;\n  }\n}\nconst createWSMessageParser = (parse) => {\n  const parsers = typeof parse == \"function\" ? [parse] : parse;\n  return async function(ws, message) {\n    if (typeof message == \"string\") {\n      const start = message?.charCodeAt(0);\n      if (start === 34 || start === 47 || start === 91 || start === 123)\n        try {\n          message = JSON.parse(message);\n        } catch {\n        }\n      else isNumericString(message) ? message = +message : message === \"true\" ? message = !0 : message === \"false\" ? message = !1 : message === \"null\" && (message = null);\n    }\n    if (parsers)\n      for (let i = 0; i < parsers.length; i++) {\n        let temp = parsers[i](ws, message);\n        if (temp instanceof Promise && (temp = await temp), temp !== void 0) return temp;\n      }\n    return message;\n  };\n}, createHandleWSResponse = (responseValidator) => {\n  const handleWSResponse = (ws, data) => {\n    if (data instanceof Promise)\n      return data.then((data2) => handleWSResponse(ws, data2));\n    if (Buffer.isBuffer(data)) return ws.send(data.toString());\n    if (data === void 0) return;\n    const validateResponse = responseValidator ? (\n      // @ts-ignore\n      responseValidator.provider === \"standard\" ? (data2) => (\n        // @ts-ignore\n        responseValidator.schema[\"~standard\"].validate(data2).issues\n      ) : (data2) => responseValidator.Check(data2) === !1\n    ) : void 0, send = (datum) => {\n      if (validateResponse && validateResponse(datum) === !1)\n        return ws.send(\n          new ValidationError(\"message\", responseValidator, datum).message\n        );\n      if (typeof datum == \"object\") return ws.send(JSON.stringify(datum));\n      ws.send(datum);\n    };\n    if (typeof data?.next != \"function\")\n      return void send(data);\n    const init = data.next();\n    if (init instanceof Promise)\n      return (async () => {\n        const first = await init;\n        if (validateResponse && validateResponse(first))\n          return ws.send(\n            new ValidationError(\n              \"message\",\n              responseValidator,\n              first\n            ).message\n          );\n        if (send(first.value), !first.done)\n          for await (const datum of data) send(datum);\n      })();\n    if (send(init.value), !init.done) for (const datum of data) send(datum);\n  };\n  return handleWSResponse;\n};\nexport {\n  ElysiaWS,\n  createHandleWSResponse,\n  createWSMessageParser,\n  websocket\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5669, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/adapter/bun/index.mjs"],"sourcesContent":["import { WebStandardAdapter } from \"../web-standard/index.mjs\";\nimport { parseSetCookies } from \"../utils.mjs\";\nimport { createBunRouteHandler } from \"./compose.mjs\";\nimport { createNativeStaticHandler } from \"./handler-native.mjs\";\nimport { serializeCookie } from \"../../cookies.mjs\";\nimport { isProduction, status, ValidationError } from \"../../error.mjs\";\nimport { getSchemaValidator } from \"../../schema.mjs\";\nimport {\n  hasHeaderShorthand,\n  isNotEmpty,\n  isNumericString,\n  randomId,\n  supportPerMethodInlineHandler\n} from \"../../utils.mjs\";\nimport {\n  mapResponse,\n  mapEarlyResponse,\n  mapCompactResponse,\n  createStaticHandler\n} from \"./handler.mjs\";\nimport {\n  createHandleWSResponse,\n  createWSMessageParser,\n  ElysiaWS,\n  websocket\n} from \"../../ws/index.mjs\";\nconst optionalParam = /:.+?\\?(?=\\/|$)/, getPossibleParams = (path) => {\n  const match = optionalParam.exec(path);\n  if (!match) return [path];\n  const routes = [], head = path.slice(0, match.index), param = match[0].slice(0, -1), tail = path.slice(match.index + match[0].length);\n  routes.push(head.slice(0, -1)), routes.push(head + param);\n  for (const fragment of getPossibleParams(tail))\n    fragment && (fragment.startsWith(\"/:\") || routes.push(head.slice(0, -1) + fragment), routes.push(head + param + fragment));\n  return routes;\n}, isHTMLBundle = (handle) => typeof handle == \"object\" && handle !== null && (handle.toString() === \"[object HTMLBundle]\" || typeof handle.index == \"string\"), supportedMethods = {\n  GET: !0,\n  HEAD: !0,\n  OPTIONS: !0,\n  DELETE: !0,\n  PATCH: !0,\n  POST: !0,\n  PUT: !0\n}, mapRoutes = (app) => {\n  if (!app.config.aot || app.config.systemRouter === !1) return;\n  const routes = {}, add = (route, handler) => {\n    const path = encodeURI(route.path);\n    routes[path] ? routes[path][route.method] || (routes[path][route.method] = handler) : routes[path] = {\n      [route.method]: handler\n    };\n  }, tree = app.routeTree;\n  for (const route of app.router.history) {\n    if (typeof route.handler != \"function\") continue;\n    const method = route.method;\n    if (method === \"GET\" && `WS_${route.path}` in tree || method === \"WS\" || route.path.charCodeAt(route.path.length - 1) === 42 || !(method in supportedMethods))\n      continue;\n    if (method === \"ALL\") {\n      `WS_${route.path}` in tree || (routes[route.path] = route.hooks?.config?.mount ? route.hooks.trace || app.event.trace || // @ts-expect-error private property\n      app.extender.higherOrderFunctions ? createBunRouteHandler(app, route) : route.hooks.mount || route.handler : route.handler);\n      continue;\n    }\n    let compiled;\n    const handler = app.config.precompile ? createBunRouteHandler(app, route) : (request) => compiled ? compiled(request) : (compiled = createBunRouteHandler(app, route))(\n      request\n    );\n    for (const path of getPossibleParams(route.path))\n      add(\n        {\n          method,\n          path\n        },\n        handler\n      );\n  }\n  return routes;\n}, mergeRoutes = (r1, r2) => {\n  if (!r2) return r1;\n  for (const key of Object.keys(r2))\n    if (r1[key] !== r2[key]) {\n      if (!r1[key]) {\n        r1[key] = r2[key];\n        continue;\n      }\n      if (r1[key] && r2[key]) {\n        if (typeof r1[key] == \"function\" || r1[key] instanceof Response) {\n          r1[key] = r2[key];\n          continue;\n        }\n        r1[key] = {\n          ...r1[key],\n          ...r2[key]\n        };\n      }\n    }\n  return r1;\n}, BunAdapter = {\n  ...WebStandardAdapter,\n  name: \"bun\",\n  handler: {\n    mapResponse,\n    mapEarlyResponse,\n    mapCompactResponse,\n    createStaticHandler,\n    createNativeStaticHandler\n  },\n  composeHandler: {\n    ...WebStandardAdapter.composeHandler,\n    headers: hasHeaderShorthand ? `c.headers=c.request.headers.toJSON()\n` : `c.headers={}\nfor(const [k,v] of c.request.headers.entries())c.headers[k]=v\n`\n  },\n  listen(app) {\n    return (options, callback) => {\n      if (typeof Bun > \"u\")\n        throw new Error(\n          \".listen() is designed to run on Bun only. If you are running Elysia in other environment please use a dedicated plugin or export the handler via Elysia.fetch\"\n        );\n      if (app.compile(), typeof options == \"string\") {\n        if (!isNumericString(options))\n          throw new Error(\"Port must be a numeric value\");\n        options = parseInt(options);\n      }\n      const createStaticRoute = (iterator, { withAsync = !1 } = {}) => {\n        const staticRoutes = {}, ops = [];\n        for (let [path, route] of Object.entries(iterator))\n          if (path = encodeURI(path), supportPerMethodInlineHandler) {\n            if (!route) continue;\n            for (const [method, value] of Object.entries(route))\n              if (!(!value || !(method in supportedMethods))) {\n                if (value instanceof Promise) {\n                  withAsync && (staticRoutes[path] || (staticRoutes[path] = {}), ops.push(\n                    value.then((awaited) => {\n                      awaited instanceof Response && (staticRoutes[path][method] = awaited), isHTMLBundle(awaited) && (staticRoutes[path][method] = awaited);\n                    })\n                  ));\n                  continue;\n                }\n                !(value instanceof Response) && !isHTMLBundle(value) || (staticRoutes[path] || (staticRoutes[path] = {}), staticRoutes[path][method] = value);\n              }\n          } else {\n            if (!route) continue;\n            if (route instanceof Promise) {\n              withAsync && (staticRoutes[path] || (staticRoutes[path] = {}), ops.push(\n                route.then((awaited) => {\n                  awaited instanceof Response && (staticRoutes[path] = awaited);\n                })\n              ));\n              continue;\n            }\n            if (!(route instanceof Response)) continue;\n            staticRoutes[path] = route;\n          }\n        return withAsync ? Promise.all(ops).then(() => staticRoutes) : staticRoutes;\n      }, serve = typeof options == \"object\" ? {\n        development: !isProduction,\n        reusePort: !0,\n        idleTimeout: 30,\n        ...app.config.serve || {},\n        ...options || {},\n        // @ts-ignore\n        routes: mergeRoutes(\n          mergeRoutes(\n            createStaticRoute(app.router.response),\n            mapRoutes(app)\n          ),\n          // @ts-ignore\n          app.config.serve?.routes\n        ),\n        websocket: {\n          ...app.config.websocket || {},\n          ...websocket || {},\n          ...options.websocket || {}\n        },\n        fetch: app.fetch\n      } : {\n        development: !isProduction,\n        reusePort: !0,\n        idleTimeout: 30,\n        ...app.config.serve || {},\n        // @ts-ignore\n        routes: mergeRoutes(\n          mergeRoutes(\n            createStaticRoute(app.router.response),\n            mapRoutes(app)\n          ),\n          // @ts-ignore\n          app.config.serve?.routes\n        ),\n        websocket: {\n          ...app.config.websocket || {},\n          ...websocket || {}\n        },\n        port: options,\n        fetch: app.fetch\n      };\n      if (app.server = Bun.serve(serve), app.event.start)\n        for (let i = 0; i < app.event.start.length; i++)\n          app.event.start[i].fn(app);\n      callback && callback(app.server), process.on(\"beforeExit\", async () => {\n        if (app.server && (await app.server.stop?.(), app.server = null, app.event.stop))\n          for (let i = 0; i < app.event.stop.length; i++)\n            app.event.stop[i].fn(app);\n      }), app.promisedModules.then(async () => {\n        app.config.aot, app.compile(), app.server?.reload({\n          ...serve,\n          fetch: app.fetch,\n          // @ts-ignore\n          routes: mergeRoutes(\n            mergeRoutes(\n              await createStaticRoute(app.router.response, {\n                withAsync: !0\n              }),\n              mapRoutes(app)\n            ),\n            // @ts-ignore\n            app.config.serve?.routes\n          )\n        }), Bun?.gc(!1);\n      });\n    };\n  },\n  async stop(app, closeActiveConnections) {\n    if (app.server) {\n      if (await app.server.stop(closeActiveConnections), app.server = null, app.event.stop?.length)\n        for (let i = 0; i < app.event.stop.length; i++)\n          app.event.stop[i].fn(app);\n    } else\n      console.log(\n        \"Elysia isn't running. Call `app.listen` to start the server.\",\n        new Error().stack\n      );\n  },\n  ws(app, path, options) {\n    const { parse, body, response, ...rest } = options, messageValidator = getSchemaValidator(body, {\n      // @ts-expect-error private property\n      modules: app.definitions.typebox,\n      // @ts-expect-error private property\n      models: app.definitions.type,\n      normalize: app.config.normalize\n    }), validateMessage = messageValidator ? messageValidator.provider === \"standard\" ? (data) => messageValidator.schema[\"~standard\"].validate(data).issues : (data) => messageValidator.Check(data) === !1 : void 0, responseValidator = getSchemaValidator(response, {\n      // @ts-expect-error private property\n      modules: app.definitions.typebox,\n      // @ts-expect-error private property\n      models: app.definitions.type,\n      normalize: app.config.normalize\n    });\n    app.route(\n      \"WS\",\n      path,\n      async (context) => {\n        const server = context.server ?? app.server, { set, path: path2, qi, headers, query, params } = context;\n        if (context.validator = responseValidator, options.upgrade)\n          if (typeof options.upgrade == \"function\") {\n            const temp = options.upgrade(context);\n            temp instanceof Promise && await temp;\n          } else options.upgrade && Object.assign(\n            set.headers,\n            options.upgrade\n          );\n        if (set.cookie && isNotEmpty(set.cookie)) {\n          const cookie = serializeCookie(set.cookie);\n          cookie && (set.headers[\"set-cookie\"] = cookie);\n        }\n        set.headers[\"set-cookie\"] && Array.isArray(set.headers[\"set-cookie\"]) && (set.headers = parseSetCookies(\n          new Headers(set.headers),\n          set.headers[\"set-cookie\"]\n        ));\n        const handleResponse = createHandleWSResponse(responseValidator), parseMessage = createWSMessageParser(parse);\n        let _id;\n        if (typeof options.beforeHandle == \"function\") {\n          const result = options.beforeHandle(context);\n          result instanceof Promise && await result;\n        }\n        const errorHandlers = [\n          ...options.error ? Array.isArray(options.error) ? options.error : [options.error] : [],\n          ...(app.event.error ?? []).map(\n            (x) => typeof x == \"function\" ? x : x.fn\n          )\n        ].filter((x) => x), hasCustomErrorHandlers = errorHandlers.length > 0, handleErrors = hasCustomErrorHandlers ? async (ws, error) => {\n          for (const handleError of errorHandlers) {\n            let response2 = handleError(\n              Object.assign(context, { error })\n            );\n            if (response2 instanceof Promise && (response2 = await response2), await handleResponse(ws, response2), response2) break;\n          }\n        } : () => {\n        };\n        if (!server?.upgrade(context.request, {\n          headers: isNotEmpty(set.headers) ? set.headers : void 0,\n          data: {\n            ...context,\n            get id() {\n              return _id || (_id = randomId());\n            },\n            validator: responseValidator,\n            ping(ws, data) {\n              options.ping?.(ws, data);\n            },\n            pong(ws, data) {\n              options.pong?.(ws, data);\n            },\n            open: async (ws) => {\n              try {\n                await handleResponse(\n                  ws,\n                  options.open?.(\n                    new ElysiaWS(ws, context)\n                  )\n                );\n              } catch (error) {\n                handleErrors(ws, error);\n              }\n            },\n            message: async (ws, _message) => {\n              const message = await parseMessage(ws, _message);\n              if (validateMessage && validateMessage(message)) {\n                const validationError = new ValidationError(\n                  \"message\",\n                  messageValidator,\n                  message\n                );\n                return hasCustomErrorHandlers ? handleErrors(ws, validationError) : void ws.send(\n                  validationError.message\n                );\n              }\n              try {\n                await handleResponse(\n                  ws,\n                  options.message?.(\n                    new ElysiaWS(\n                      ws,\n                      context,\n                      message\n                    ),\n                    message\n                  )\n                );\n              } catch (error) {\n                handleErrors(ws, error);\n              }\n            },\n            drain: async (ws) => {\n              try {\n                await handleResponse(\n                  ws,\n                  options.drain?.(\n                    new ElysiaWS(ws, context)\n                  )\n                );\n              } catch (error) {\n                handleErrors(ws, error);\n              }\n            },\n            close: async (ws, code, reason) => {\n              try {\n                await handleResponse(\n                  ws,\n                  options.close?.(\n                    new ElysiaWS(ws, context),\n                    code,\n                    reason\n                  )\n                );\n              } catch (error) {\n                handleErrors(ws, error);\n              }\n            }\n          }\n        }))\n          return status(400, \"Expected a websocket connection\");\n      },\n      {\n        ...rest,\n        websocket: options\n      }\n    );\n  }\n};\nexport {\n  BunAdapter,\n  isHTMLBundle\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5960, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/dynamic-handle.mjs"],"sourcesContent":["import { TransformDecodeError } from \"@sinclair/typebox/value\";\nimport { parseCookie } from \"./cookies.mjs\";\nimport {\n  ElysiaCustomStatusResponse,\n  NotFoundError,\n  status,\n  ValidationError\n} from \"./error.mjs\";\nimport { parseQuery } from \"./parse-query.mjs\";\nimport { hasSetImmediate, redirect, StatusMap, signCookie } from \"./utils.mjs\";\nconst injectDefaultValues = (typeChecker, obj) => {\n  let schema = typeChecker.schema;\n  if (schema && (schema.$defs?.[schema.$ref] && (schema = schema.$defs[schema.$ref]), !!schema?.properties))\n    for (const [key, keySchema] of Object.entries(schema.properties))\n      obj[key] ??= keySchema.default;\n}, createDynamicHandler = (app) => {\n  const { mapResponse, mapEarlyResponse } = app[\"~adapter\"].handler, defaultHeader = app.setHeaders;\n  return async (request) => {\n    const url = request.url, s = url.indexOf(\"/\", 11), qi = url.indexOf(\"?\", s + 1), path = qi === -1 ? url.substring(s) : url.substring(s, qi), set = {\n      cookie: {},\n      status: 200,\n      headers: defaultHeader ? { ...defaultHeader } : {}\n    }, context = Object.assign(\n      {},\n      // @ts-expect-error\n      app.singleton.decorator,\n      {\n        set,\n        // @ts-expect-error\n        store: app.singleton.store,\n        request,\n        path,\n        qi,\n        error: status,\n        status,\n        redirect\n      }\n    );\n    let hooks;\n    try {\n      if (app.event.request)\n        for (let i = 0; i < app.event.request.length; i++) {\n          const onRequest = app.event.request[i].fn;\n          let response2 = onRequest(context);\n          if (response2 instanceof Promise && (response2 = await response2), response2 = mapEarlyResponse(response2, set), response2) return context.response = response2;\n        }\n      const methodKey = request.method === \"GET\" && request.headers.get(\"upgrade\")?.toLowerCase() === \"websocket\" ? \"WS\" : request.method, handler = app.router.dynamic.find(request.method, path) ?? app.router.dynamic.find(methodKey, path) ?? app.router.dynamic.find(\"ALL\", path);\n      if (!handler)\n        throw context.query = qi === -1 ? {} : parseQuery(url.substring(qi + 1)), new NotFoundError();\n      const { handle, validator, content, route } = handler.store;\n      if (hooks = handler.store.hooks, hooks.config?.mount)\n        return await hooks.config.mount(request);\n      let body;\n      if (request.method !== \"GET\" && request.method !== \"HEAD\")\n        if (content)\n          switch (content) {\n            case \"application/json\":\n              body = await request.json();\n              break;\n            case \"text/plain\":\n              body = await request.text();\n              break;\n            case \"application/x-www-form-urlencoded\":\n              body = parseQuery(await request.text());\n              break;\n            case \"application/octet-stream\":\n              body = await request.arrayBuffer();\n              break;\n            case \"multipart/form-data\": {\n              body = {};\n              const form = await request.formData();\n              for (const key of form.keys()) {\n                if (body[key]) continue;\n                const value = form.getAll(key);\n                value.length === 1 ? body[key] = value[0] : body[key] = value;\n              }\n              break;\n            }\n          }\n        else {\n          let contentType;\n          if (request.body && (contentType = request.headers.get(\"content-type\")), contentType) {\n            const index = contentType.indexOf(\";\");\n            if (index !== -1 && (contentType = contentType.slice(0, index)), context.contentType = contentType, hooks.parse)\n              for (let i = 0; i < hooks.parse.length; i++) {\n                const hook = hooks.parse[i].fn;\n                if (typeof hook == \"string\")\n                  switch (hook) {\n                    case \"json\":\n                    case \"application/json\":\n                      body = await request.json();\n                      break;\n                    case \"text\":\n                    case \"text/plain\":\n                      body = await request.text();\n                      break;\n                    case \"urlencoded\":\n                    case \"application/x-www-form-urlencoded\":\n                      body = parseQuery(\n                        await request.text()\n                      );\n                      break;\n                    case \"arrayBuffer\":\n                    case \"application/octet-stream\":\n                      body = await request.arrayBuffer();\n                      break;\n                    case \"formdata\":\n                    case \"multipart/form-data\": {\n                      body = {};\n                      const form = await request.formData();\n                      for (const key of form.keys()) {\n                        if (body[key]) continue;\n                        const value = form.getAll(key);\n                        value.length === 1 ? body[key] = value[0] : body[key] = value;\n                      }\n                      break;\n                    }\n                    default: {\n                      const parser = app[\"~parser\"][hook];\n                      if (parser) {\n                        let temp = parser(\n                          context,\n                          contentType\n                        );\n                        if (temp instanceof Promise && (temp = await temp), temp) {\n                          body = temp;\n                          break;\n                        }\n                      }\n                      break;\n                    }\n                  }\n                else {\n                  let temp = hook(context, contentType);\n                  if (temp instanceof Promise && (temp = await temp), temp) {\n                    body = temp;\n                    break;\n                  }\n                }\n              }\n            if (delete context.contentType, body === void 0)\n              switch (contentType) {\n                case \"application/json\":\n                  body = await request.json();\n                  break;\n                case \"text/plain\":\n                  body = await request.text();\n                  break;\n                case \"application/x-www-form-urlencoded\":\n                  body = parseQuery(await request.text());\n                  break;\n                case \"application/octet-stream\":\n                  body = await request.arrayBuffer();\n                  break;\n                case \"multipart/form-data\": {\n                  body = {};\n                  const form = await request.formData();\n                  for (const key of form.keys()) {\n                    if (body[key]) continue;\n                    const value = form.getAll(key);\n                    value.length === 1 ? body[key] = value[0] : body[key] = value;\n                  }\n                  break;\n                }\n              }\n          }\n        }\n      context.route = route, context.body = body, context.params = handler?.params || void 0, context.query = qi === -1 ? {} : parseQuery(url.substring(qi + 1)), context.headers = {};\n      for (const [key, value] of request.headers.entries())\n        context.headers[key] = value;\n      const cookieMeta = {\n        domain: app.config.cookie?.domain ?? // @ts-expect-error\n        validator?.cookie?.config.domain,\n        expires: app.config.cookie?.expires ?? // @ts-expect-error\n        validator?.cookie?.config.expires,\n        httpOnly: app.config.cookie?.httpOnly ?? // @ts-expect-error\n        validator?.cookie?.config.httpOnly,\n        maxAge: app.config.cookie?.maxAge ?? // @ts-expect-error\n        validator?.cookie?.config.maxAge,\n        // @ts-expect-error\n        path: app.config.cookie?.path ?? validator?.cookie?.config.path,\n        priority: app.config.cookie?.priority ?? // @ts-expect-error\n        validator?.cookie?.config.priority,\n        partitioned: app.config.cookie?.partitioned ?? // @ts-expect-error\n        validator?.cookie?.config.partitioned,\n        sameSite: app.config.cookie?.sameSite ?? // @ts-expect-error\n        validator?.cookie?.config.sameSite,\n        secure: app.config.cookie?.secure ?? // @ts-expect-error\n        validator?.cookie?.config.secure,\n        secrets: app.config.cookie?.secrets ?? // @ts-expect-error\n        validator?.cookie?.config.secrets,\n        // @ts-expect-error\n        sign: app.config.cookie?.sign ?? validator?.cookie?.config.sign\n      }, cookieHeaderValue = request.headers.get(\"cookie\");\n      context.cookie = await parseCookie(\n        context.set,\n        cookieHeaderValue,\n        cookieMeta\n      );\n      const headerValidator = validator?.createHeaders?.();\n      headerValidator && injectDefaultValues(headerValidator, context.headers);\n      const paramsValidator = validator?.createParams?.();\n      paramsValidator && injectDefaultValues(paramsValidator, context.params);\n      const queryValidator = validator?.createQuery?.();\n      if (queryValidator && injectDefaultValues(queryValidator, context.query), hooks.transform)\n        for (let i = 0; i < hooks.transform.length; i++) {\n          const hook = hooks.transform[i];\n          let response2 = hook.fn(context);\n          if (response2 instanceof Promise && (response2 = await response2), response2 instanceof ElysiaCustomStatusResponse) {\n            const result = mapEarlyResponse(response2, context.set);\n            if (result)\n              return context.response = result;\n          }\n          hook.subType === \"derive\" && Object.assign(context, response2);\n        }\n      if (validator) {\n        if (headerValidator) {\n          const _header = structuredClone(context.headers);\n          for (const [key, value] of request.headers)\n            _header[key] = value;\n          if (validator.headers.Check(_header) === !1)\n            throw new ValidationError(\n              \"header\",\n              validator.headers,\n              _header\n            );\n        } else validator.headers?.Decode && (context.headers = validator.headers.Decode(context.headers));\n        if (paramsValidator?.Check(context.params) === !1)\n          throw new ValidationError(\n            \"params\",\n            validator.params,\n            context.params\n          );\n        if (validator.params?.Decode && (context.params = validator.params.Decode(context.params)), validator.query?.schema) {\n          let schema = validator.query.schema;\n          schema.$defs?.[schema.$ref] && (schema = schema.$defs[schema.$ref]);\n          const properties = schema.properties;\n          for (const property of Object.keys(properties)) {\n            const value = properties[property];\n            (value.type === \"array\" || value.items?.type === \"string\") && typeof context.query[property] == \"string\" && context.query[property] && (context.query[property] = context.query[property].split(\",\"));\n          }\n        }\n        if (queryValidator?.Check(context.query) === !1)\n          throw new ValidationError(\n            \"query\",\n            validator.query,\n            context.query\n          );\n        if (validator.query?.Decode && (context.query = validator.query.Decode(context.query)), validator.createCookie?.()) {\n          let cookieValue = {};\n          for (const [key, value] of Object.entries(context.cookie))\n            cookieValue[key] = value.value;\n          if (validator.cookie.Check(cookieValue) === !1)\n            throw new ValidationError(\n              \"cookie\",\n              validator.cookie,\n              cookieValue\n            );\n          validator.cookie?.Decode && (cookieValue = validator.cookie.Decode(\n            cookieValue\n          ));\n        }\n        if (validator.createBody?.()?.Check(body) === !1)\n          throw new ValidationError(\"body\", validator.body, body);\n        validator.body?.Decode && (context.body = validator.body.Decode(body));\n      }\n      if (hooks.beforeHandle)\n        for (let i = 0; i < hooks.beforeHandle.length; i++) {\n          const hook = hooks.beforeHandle[i];\n          let response2 = hook.fn(context);\n          if (response2 instanceof Promise && (response2 = await response2), response2 instanceof ElysiaCustomStatusResponse) {\n            const result = mapEarlyResponse(response2, context.set);\n            if (result)\n              return context.response = result;\n          }\n          if (hook.subType === \"resolve\") {\n            Object.assign(context, response2);\n            continue;\n          }\n          if (response2 !== void 0) {\n            if (context.response = response2, hooks.afterHandle)\n              for (let i2 = 0; i2 < hooks.afterHandle.length; i2++) {\n                let newResponse = hooks.afterHandle[i2].fn(\n                  context\n                );\n                newResponse instanceof Promise && (newResponse = await newResponse), newResponse && (response2 = newResponse);\n              }\n            const result = mapEarlyResponse(response2, context.set);\n            if (result) return context.response = result;\n          }\n        }\n      let response = typeof handle == \"function\" ? handle(context) : handle;\n      if (response instanceof Promise && (response = await response), hooks.afterHandle?.length) {\n        context.response = response;\n        for (let i = 0; i < hooks.afterHandle.length; i++) {\n          let response2 = hooks.afterHandle[i].fn(\n            context\n          );\n          response2 instanceof Promise && (response2 = await response2);\n          const isCustomStatuResponse = response2 instanceof ElysiaCustomStatusResponse, status2 = isCustomStatuResponse ? response2.code : set.status ? typeof set.status == \"string\" ? StatusMap[set.status] : set.status : 200;\n          isCustomStatuResponse && (set.status = status2, response2 = response2.response);\n          const responseValidator = validator?.createResponse?.()?.[status2];\n          if (responseValidator?.Check(response2) === !1)\n            if (responseValidator?.Clean) {\n              const temp = responseValidator.Clean(response2);\n              if (responseValidator?.Check(temp) === !1)\n                throw new ValidationError(\n                  \"response\",\n                  responseValidator,\n                  response2\n                );\n              response2 = temp;\n            } else\n              throw new ValidationError(\n                \"response\",\n                responseValidator,\n                response2\n              );\n          responseValidator?.Encode && (context.response = response2 = responseValidator.Encode(response2)), responseValidator?.Clean && (context.response = response2 = responseValidator.Clean(response2));\n          const result = mapEarlyResponse(response2, context.set);\n          if (result !== void 0) return context.response = result;\n        }\n      } else {\n        const isCustomStatuResponse = response instanceof ElysiaCustomStatusResponse, status2 = isCustomStatuResponse ? response.code : set.status ? typeof set.status == \"string\" ? StatusMap[set.status] : set.status : 200;\n        isCustomStatuResponse && (set.status = status2, response = response.response);\n        const responseValidator = validator?.createResponse?.()?.[status2];\n        if (responseValidator?.Check(response) === !1)\n          if (responseValidator?.Clean) {\n            const temp = responseValidator.Clean(response);\n            if (responseValidator?.Check(temp) === !1)\n              throw new ValidationError(\n                \"response\",\n                responseValidator,\n                response\n              );\n            response = temp;\n          } else\n            throw new ValidationError(\n              \"response\",\n              responseValidator,\n              response\n            );\n        responseValidator?.Encode && (response = responseValidator.Encode(response)), responseValidator?.Clean && (response = responseValidator.Clean(response));\n      }\n      if (context.set.cookie && cookieMeta?.sign) {\n        const secret = cookieMeta.secrets ? typeof cookieMeta.secrets == \"string\" ? cookieMeta.secrets : cookieMeta.secrets[0] : void 0;\n        if (cookieMeta.sign === !0) {\n          if (secret)\n            for (const [key, cookie] of Object.entries(\n              context.set.cookie\n            ))\n              context.set.cookie[key].value = await signCookie(\n                cookie.value,\n                secret\n              );\n        } else {\n          const properties = validator?.cookie?.schema?.properties;\n          if (secret)\n            for (const name of cookieMeta.sign)\n              name in properties && context.set.cookie[name]?.value && (context.set.cookie[name].value = await signCookie(\n                context.set.cookie[name].value,\n                secret\n              ));\n        }\n      }\n      return mapResponse(context.response = response, context.set);\n    } catch (error) {\n      const reportedError = error instanceof TransformDecodeError && error.error ? error.error : error;\n      return app.handleError(context, reportedError);\n    } finally {\n      const afterResponses = hooks ? hooks.afterResponse : app.event.afterResponse;\n      afterResponses && (hasSetImmediate ? setImmediate(async () => {\n        for (const afterResponse of afterResponses)\n          await afterResponse.fn(context);\n      }) : Promise.resolve().then(async () => {\n        for (const afterResponse of afterResponses)\n          await afterResponse.fn(context);\n      }));\n    }\n  };\n}, createDynamicErrorHandler = (app) => {\n  const { mapResponse } = app[\"~adapter\"].handler;\n  return async (context, error) => {\n    const errorContext = Object.assign(context, { error, code: error.code });\n    if (errorContext.set = context.set, // @ts-expect-error\n    typeof error?.toResponse == \"function\" && !(error instanceof ValidationError) && !(error instanceof TransformDecodeError))\n      try {\n        let raw = error.toResponse();\n        typeof raw?.then == \"function\" && (raw = await raw), raw instanceof Response && (context.set.status = raw.status), context.response = raw;\n      } catch {\n      }\n    if (!context.response && app.event.error)\n      for (let i = 0; i < app.event.error.length; i++) {\n        let response = app.event.error[i].fn(errorContext);\n        if (response instanceof Promise && (response = await response), response != null)\n          return context.response = mapResponse(\n            response,\n            context.set\n          );\n      }\n    if (context.response) {\n      if (app.event.mapResponse)\n        for (let i = 0; i < app.event.mapResponse.length; i++) {\n          let response = app.event.mapResponse[i].fn(errorContext);\n          response instanceof Promise && (response = await response), response != null && (context.response = response);\n        }\n      return mapResponse(context.response, context.set);\n    }\n    return context.set.status = error.status ?? 500, mapResponse(\n      typeof error.cause == \"string\" ? error.cause : error.message,\n      context.set\n    );\n  };\n};\nexport {\n  createDynamicErrorHandler,\n  createDynamicHandler\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6288, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mateo/Documents/GitHub/aevum_web/node_modules/elysia/dist/index.mjs"],"sourcesContent":["var _a;\nimport { Memoirist } from \"memoirist\";\nimport {\n  Kind\n} from \"@sinclair/typebox\";\nimport fastDecodeURIComponent from \"fast-decode-uri-component\";\nimport { t } from \"./type-system/index.mjs\";\nimport { mergeInference, sucrose } from \"./sucrose.mjs\";\nimport { BunAdapter } from \"./adapter/bun/index.mjs\";\nimport { WebStandardAdapter } from \"./adapter/web-standard/index.mjs\";\nimport { env } from \"./universal/env.mjs\";\nimport {\n  cloneInference,\n  deduplicateChecksum,\n  fnToContainer,\n  getLoosePath,\n  localHookToLifeCycleStore,\n  mergeDeep,\n  mergeSchemaValidator,\n  PromiseGroup,\n  promoteEvent,\n  isNotEmpty,\n  encodePath,\n  lifeCycleToArray,\n  supportPerMethodInlineHandler,\n  redirect,\n  emptySchema,\n  insertStandaloneValidator\n} from \"./utils.mjs\";\nimport {\n  getSchemaValidator,\n  getResponseSchemaValidator,\n  getCookieValidator,\n  hasType,\n  resolveSchema\n} from \"./schema.mjs\";\nimport {\n  composeHandler,\n  composeGeneralHandler,\n  composeErrorHandler\n} from \"./compose.mjs\";\nimport { createTracer } from \"./trace.mjs\";\nimport {\n  mergeHook,\n  checksum,\n  mergeLifeCycle,\n  filterGlobalHook,\n  asHookType,\n  replaceUrlPath\n} from \"./utils.mjs\";\nimport {\n  createDynamicErrorHandler,\n  createDynamicHandler\n} from \"./dynamic-handle.mjs\";\nimport {\n  status,\n  ERROR_CODE,\n  ValidationError\n} from \"./error.mjs\";\nimport {\n  coercePrimitiveRoot,\n  coerceFormData,\n  queryCoercions,\n  stringToStructureCoercions\n} from \"./replace-schema.mjs\";\n_a = Symbol.dispose;\nconst _Elysia = class _Elysia {\n  constructor(config = {}) {\n    this.server = null;\n    this.dependencies = {};\n    this[\"~Prefix\"] = \"\";\n    this[\"~Singleton\"] = null;\n    this[\"~Definitions\"] = null;\n    this[\"~Metadata\"] = null;\n    this[\"~Ephemeral\"] = null;\n    this[\"~Volatile\"] = null;\n    this[\"~Routes\"] = null;\n    this.singleton = {\n      decorator: {},\n      store: {},\n      derive: {},\n      resolve: {}\n    };\n    this.definitions = {\n      typebox: t.Module({}),\n      type: {},\n      error: {}\n    };\n    this.extender = {\n      macro: {},\n      higherOrderFunctions: []\n    };\n    this.validator = {\n      global: null,\n      scoped: null,\n      local: null,\n      getCandidate() {\n        return !this.global && !this.scoped && !this.local ? {\n          body: void 0,\n          headers: void 0,\n          params: void 0,\n          query: void 0,\n          cookie: void 0,\n          response: void 0\n        } : mergeSchemaValidator(\n          mergeSchemaValidator(this.global, this.scoped),\n          this.local\n        );\n      }\n    };\n    this.standaloneValidator = {\n      global: null,\n      scoped: null,\n      local: null\n    };\n    this.event = {};\n    this.router = {\n      \"~http\": void 0,\n      get http() {\n        return this[\"~http\"] || (this[\"~http\"] = new Memoirist({\n          lazy: !0,\n          onParam: fastDecodeURIComponent\n        })), this[\"~http\"];\n      },\n      \"~dynamic\": void 0,\n      // Use in non-AOT mode\n      get dynamic() {\n        return this[\"~dynamic\"] || (this[\"~dynamic\"] = new Memoirist({\n          onParam: fastDecodeURIComponent\n        })), this[\"~dynamic\"];\n      },\n      // Static Router\n      static: {},\n      // Native Static Response\n      response: {},\n      history: []\n    };\n    this.routeTree = {};\n    this.inference = {\n      body: !1,\n      cookie: !1,\n      headers: !1,\n      query: !1,\n      set: !1,\n      server: !1,\n      path: !1,\n      route: !1,\n      url: !1\n    };\n    this[\"~parser\"] = {};\n    this.handle = async (request) => this.fetch(request);\n    this.handleError = async (context, error) => (this.handleError = this.config.aot ? composeErrorHandler(this) : createDynamicErrorHandler(this))(context, error);\n    /**\n     * ### listen\n     * Assign current instance to port and start serving\n     *\n     * ---\n     * @example\n     * ```typescript\n     * new Elysia()\n     *     .get(\"/\", () => 'hi')\n     *     .listen(3000)\n     * ```\n     */\n    this.listen = (options, callback) => (this[\"~adapter\"].listen(this)(options, callback), this);\n    /**\n     * ### stop\n     * Stop server from serving\n     *\n     * ---\n     * @example\n     * ```typescript\n     * const app = new Elysia()\n     *     .get(\"/\", () => 'hi')\n     *     .listen(3000)\n     *\n     * // Sometime later\n     * app.stop()\n     * ```\n     *\n     * @example\n     * ```typescript\n     * const app = new Elysia()\n     *     .get(\"/\", () => 'hi')\n     *     .listen(3000)\n     *\n     * app.stop(true) // Abruptly any requests inflight\n     * ```\n     */\n    this.stop = async (closeActiveConnections) => (await this[\"~adapter\"].stop?.(this, closeActiveConnections), this);\n    this[_a] = () => {\n      this.server && this.stop();\n    };\n    config.tags && (config.detail ? config.detail.tags = config.tags : config.detail = {\n      tags: config.tags\n    }), this.config = {\n      aot: env.ELYSIA_AOT !== \"false\",\n      nativeStaticResponse: !0,\n      encodeSchema: !0,\n      normalize: !0,\n      ...config,\n      prefix: config.prefix ? config.prefix.charCodeAt(0) === 47 ? config.prefix : `/${config.prefix}` : void 0,\n      cookie: {\n        path: \"/\",\n        ...config?.cookie\n      },\n      experimental: config?.experimental ?? {},\n      seed: config?.seed === void 0 ? \"\" : config?.seed\n    }, this[\"~adapter\"] = config.adapter ?? (typeof Bun < \"u\" ? BunAdapter : WebStandardAdapter), config?.analytic && (config?.name || config?.seed !== void 0) && (this.telemetry = {\n      stack: new Error().stack\n    });\n  }\n  get store() {\n    return this.singleton.store;\n  }\n  get decorator() {\n    return this.singleton.decorator;\n  }\n  get routes() {\n    return this.router.history;\n  }\n  getGlobalRoutes() {\n    return this.router.history;\n  }\n  getGlobalDefinitions() {\n    return this.definitions;\n  }\n  getServer() {\n    return this.server;\n  }\n  getParent() {\n    return null;\n  }\n  get promisedModules() {\n    return this._promisedModules || (this._promisedModules = new PromiseGroup(console.error, () => {\n    })), this._promisedModules;\n  }\n  env(model, _env = env) {\n    if (getSchemaValidator(model, {\n      modules: this.definitions.typebox,\n      dynamic: !0,\n      additionalProperties: !0,\n      coerce: !0,\n      sanitize: () => this.config.sanitize\n    }).Check(_env) === !1) {\n      const error = new ValidationError(\"env\", model, _env);\n      throw new Error(error.all.map((x) => x.summary).join(`\n`));\n    }\n    return this;\n  }\n  /**\n   * @private DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n   * @version 1.1.0\n   *\n   * ! Do not use unless you know exactly what you are doing\n   * ? Add Higher order function to Elysia.fetch\n   */\n  wrap(fn) {\n    return this.extender.higherOrderFunctions.push({\n      checksum: checksum(\n        JSON.stringify({\n          name: this.config.name,\n          seed: this.config.seed,\n          content: fn.toString()\n        })\n      ),\n      fn\n    }), this;\n  }\n  get models() {\n    const models = {};\n    for (const name of Object.keys(this.definitions.type))\n      models[name] = getSchemaValidator(\n        this.definitions.typebox.Import(name),\n        {\n          models: this.definitions.type\n        }\n      );\n    return models.modules = this.definitions.typebox, models;\n  }\n  add(method, path, handle, localHook, options) {\n    const skipPrefix = options?.skipPrefix ?? !1, allowMeta = options?.allowMeta ?? !1;\n    localHook ??= {}, this.applyMacro(localHook);\n    let standaloneValidators = [];\n    if (localHook.standaloneValidator && (standaloneValidators = standaloneValidators.concat(\n      localHook.standaloneValidator\n    )), this.standaloneValidator.local && (standaloneValidators = standaloneValidators.concat(\n      this.standaloneValidator.local\n    )), this.standaloneValidator.scoped && (standaloneValidators = standaloneValidators.concat(\n      this.standaloneValidator.scoped\n    )), this.standaloneValidator.global && (standaloneValidators = standaloneValidators.concat(\n      this.standaloneValidator.global\n    )), path !== \"\" && path.charCodeAt(0) !== 47 && (path = \"/\" + path), this.config.prefix && !skipPrefix && (path = this.config.prefix + path), localHook?.type)\n      switch (localHook.type) {\n        case \"text\":\n          localHook.type = \"text/plain\";\n          break;\n        case \"json\":\n          localHook.type = \"application/json\";\n          break;\n        case \"formdata\":\n          localHook.type = \"multipart/form-data\";\n          break;\n        case \"urlencoded\":\n          localHook.type = \"application/x-www-form-urlencoded\";\n          break;\n        case \"arrayBuffer\":\n          localHook.type = \"application/octet-stream\";\n          break;\n        default:\n          break;\n      }\n    const instanceValidator = this.validator.getCandidate(), cloned = {\n      body: localHook?.body ?? instanceValidator?.body,\n      headers: localHook?.headers ?? instanceValidator?.headers,\n      params: localHook?.params ?? instanceValidator?.params,\n      query: localHook?.query ?? instanceValidator?.query,\n      cookie: localHook?.cookie ?? instanceValidator?.cookie,\n      response: localHook?.response ?? instanceValidator?.response\n    }, shouldPrecompile = this.config.precompile === !0 || typeof this.config.precompile == \"object\" && this.config.precompile.compose === !0, createValidator = () => {\n      const models = this.definitions.type, dynamic = !this.config.aot, normalize = this.config.normalize, modules = this.definitions.typebox, sanitize = () => this.config.sanitize, cookieValidator = () => {\n        if (cloned.cookie || standaloneValidators.find((x) => x.cookie))\n          return getCookieValidator({\n            modules,\n            validator: cloned.cookie,\n            defaultConfig: this.config.cookie,\n            normalize,\n            config: cloned.cookie?.config ?? {},\n            dynamic,\n            models,\n            validators: standaloneValidators.map((x) => x.cookie),\n            sanitize\n          });\n      };\n      return shouldPrecompile ? {\n        body: getSchemaValidator(cloned.body, {\n          modules,\n          dynamic,\n          models,\n          normalize,\n          additionalCoerce: (() => {\n            const resolved = resolveSchema(\n              cloned.body,\n              models,\n              modules\n            );\n            return resolved && Kind in resolved && (hasType(\"File\", resolved) || hasType(\"Files\", resolved)) ? coerceFormData() : coercePrimitiveRoot();\n          })(),\n          validators: standaloneValidators.map((x) => x.body),\n          sanitize\n        }),\n        headers: getSchemaValidator(cloned.headers, {\n          modules,\n          dynamic,\n          models,\n          additionalProperties: !0,\n          coerce: !0,\n          additionalCoerce: stringToStructureCoercions(),\n          validators: standaloneValidators.map(\n            (x) => x.headers\n          ),\n          sanitize\n        }),\n        params: getSchemaValidator(cloned.params, {\n          modules,\n          dynamic,\n          models,\n          coerce: !0,\n          additionalCoerce: stringToStructureCoercions(),\n          validators: standaloneValidators.map(\n            (x) => x.params\n          ),\n          sanitize\n        }),\n        query: getSchemaValidator(cloned.query, {\n          modules,\n          dynamic,\n          models,\n          normalize,\n          coerce: !0,\n          additionalCoerce: queryCoercions(),\n          validators: standaloneValidators.map(\n            (x) => x.query\n          ),\n          sanitize\n        }),\n        cookie: cookieValidator(),\n        response: getResponseSchemaValidator(cloned.response, {\n          modules,\n          dynamic,\n          models,\n          normalize,\n          validators: standaloneValidators.map(\n            (x) => x.response\n          ),\n          sanitize\n        })\n      } : {\n        createBody() {\n          return this.body ? this.body : this.body = getSchemaValidator(\n            cloned.body,\n            {\n              modules,\n              dynamic,\n              models,\n              normalize,\n              additionalCoerce: (() => {\n                const resolved = resolveSchema(\n                  cloned.body,\n                  models,\n                  modules\n                );\n                return resolved && Kind in resolved && (hasType(\"File\", resolved) || hasType(\"Files\", resolved)) ? coerceFormData() : coercePrimitiveRoot();\n              })(),\n              validators: standaloneValidators.map(\n                (x) => x.body\n              ),\n              sanitize\n            }\n          );\n        },\n        createHeaders() {\n          return this.headers ? this.headers : this.headers = getSchemaValidator(\n            cloned.headers,\n            {\n              modules,\n              dynamic,\n              models,\n              normalize,\n              additionalProperties: !normalize,\n              coerce: !0,\n              additionalCoerce: stringToStructureCoercions(),\n              validators: standaloneValidators.map(\n                (x) => x.headers\n              ),\n              sanitize\n            }\n          );\n        },\n        createParams() {\n          return this.params ? this.params : this.params = getSchemaValidator(\n            cloned.params,\n            {\n              modules,\n              dynamic,\n              models,\n              normalize,\n              coerce: !0,\n              additionalCoerce: stringToStructureCoercions(),\n              validators: standaloneValidators.map(\n                (x) => x.params\n              ),\n              sanitize\n            }\n          );\n        },\n        createQuery() {\n          return this.query ? this.query : this.query = getSchemaValidator(\n            cloned.query,\n            {\n              modules,\n              dynamic,\n              models,\n              normalize,\n              coerce: !0,\n              additionalCoerce: queryCoercions(),\n              validators: standaloneValidators.map(\n                (x) => x.query\n              ),\n              sanitize\n            }\n          );\n        },\n        createCookie() {\n          return this.cookie ? this.cookie : this.cookie = cookieValidator();\n        },\n        createResponse() {\n          return this.response ? this.response : this.response = getResponseSchemaValidator(\n            cloned.response,\n            {\n              modules,\n              dynamic,\n              models,\n              normalize,\n              validators: standaloneValidators.map(\n                (x) => x.response\n              ),\n              sanitize\n            }\n          );\n        }\n      };\n    };\n    (instanceValidator.body || instanceValidator.cookie || instanceValidator.headers || instanceValidator.params || instanceValidator.query || instanceValidator.response) && (localHook = mergeHook(localHook, instanceValidator)), localHook.tags && (localHook.detail ? localHook.detail.tags = localHook.tags : localHook.detail = {\n      tags: localHook.tags\n    }), isNotEmpty(this.config.detail) && (localHook.detail = mergeDeep(\n      Object.assign({}, this.config.detail),\n      localHook.detail\n    ));\n    const hooks = isNotEmpty(this.event) ? mergeHook(this.event, localHookToLifeCycleStore(localHook)) : { ...lifeCycleToArray(localHookToLifeCycleStore(localHook)) };\n    if (standaloneValidators.length && Object.assign(hooks, {\n      standaloneValidator: standaloneValidators\n    }), this.config.aot === !1) {\n      const validator = createValidator();\n      this.router.dynamic.add(method, path, {\n        validator,\n        hooks,\n        content: localHook?.type,\n        handle,\n        route: path\n      });\n      const encoded = encodePath(path, { dynamic: !0 });\n      if (path !== encoded && this.router.dynamic.add(method, encoded, {\n        validator,\n        hooks,\n        content: localHook?.type,\n        handle,\n        route: path\n      }), !this.config.strictPath) {\n        const loosePath = getLoosePath(path);\n        this.router.dynamic.add(method, loosePath, {\n          validator,\n          hooks,\n          content: localHook?.type,\n          handle,\n          route: path\n        });\n        const encoded2 = encodePath(loosePath);\n        loosePath !== encoded2 && this.router.dynamic.add(method, loosePath, {\n          validator,\n          hooks,\n          content: localHook?.type,\n          handle,\n          route: path\n        });\n      }\n      this.router.history.push({\n        method,\n        path,\n        composed: null,\n        handler: handle,\n        compile: void 0,\n        hooks\n      });\n      return;\n    }\n    const adapter = this[\"~adapter\"].handler, nativeStaticHandler = typeof handle != \"function\" ? () => {\n      const context = {\n        redirect,\n        request: this[\"~adapter\"].isWebStandard ? new Request(`http://ely.sia${path}`, {\n          method\n        }) : void 0,\n        server: null,\n        set: {\n          headers: Object.assign({}, this.setHeaders)\n        },\n        status,\n        store: this.store\n      };\n      try {\n        this.event.request?.map((x) => {\n          if (typeof x.fn == \"function\")\n            return x.fn(context);\n          if (typeof x == \"function\") return x(context);\n        });\n      } catch (error) {\n        let res;\n        context.error = error, this.event.error?.some((x) => {\n          if (typeof x.fn == \"function\")\n            return res = x.fn(context);\n          if (typeof x == \"function\")\n            return res = x(context);\n        }), res !== void 0 && (handle = res);\n      }\n      const fn = adapter.createNativeStaticHandler?.(\n        handle,\n        hooks,\n        context.set\n      );\n      return fn instanceof Promise ? fn.then((fn2) => {\n        if (fn2) return fn2;\n      }) : fn?.();\n    } : void 0, useNativeStaticResponse = this.config.nativeStaticResponse === !0, addResponsePath = (path2) => {\n      !useNativeStaticResponse || !nativeStaticHandler || (supportPerMethodInlineHandler ? this.router.response[path2] ? this.router.response[path2][method] = nativeStaticHandler() : this.router.response[path2] = {\n        [method]: nativeStaticHandler()\n      } : this.router.response[path2] = nativeStaticHandler());\n    };\n    addResponsePath(path);\n    let _compiled;\n    const compile = () => {\n      if (_compiled) return _compiled;\n      const compiled = composeHandler({\n        app: this,\n        path,\n        method,\n        hooks,\n        validator: createValidator(),\n        handler: typeof handle != \"function\" && typeof adapter.createStaticHandler != \"function\" ? () => handle : handle,\n        allowMeta,\n        inference: this.inference\n      });\n      return this.router.history[index] && (_compiled = this.router.history[index].composed = compiled), compiled;\n    };\n    let oldIndex;\n    if (`${method}_${path}` in this.routeTree)\n      for (let i = 0; i < this.router.history.length; i++) {\n        const route2 = this.router.history[i];\n        if (route2.path === path && route2.method === method) {\n          oldIndex = i;\n          break;\n        }\n      }\n    else this.routeTree[`${method}_${path}`] = this.router.history.length;\n    const index = oldIndex ?? this.router.history.length, route = this.router.history, mainHandler = shouldPrecompile ? compile() : (ctx) => _compiled ? _compiled(ctx) : (route[index].composed = compile())(ctx);\n    oldIndex !== void 0 ? this.router.history[oldIndex] = Object.assign(\n      {\n        method,\n        path,\n        composed: mainHandler,\n        compile,\n        handler: handle,\n        hooks\n      },\n      standaloneValidators.length ? {\n        standaloneValidators\n      } : void 0,\n      localHook.webSocket ? { websocket: localHook.websocket } : void 0\n    ) : this.router.history.push(\n      Object.assign(\n        {\n          method,\n          path,\n          composed: mainHandler,\n          compile,\n          handler: handle,\n          hooks\n        },\n        localHook.webSocket ? { websocket: localHook.websocket } : void 0\n      )\n    );\n    const handler = {\n      handler: shouldPrecompile ? route[index].composed : void 0,\n      compile() {\n        return this.handler = compile();\n      }\n    }, staticRouter = this.router.static, isStaticPath = path.indexOf(\":\") === -1 && path.indexOf(\"*\") === -1;\n    if (method === \"WS\") {\n      if (isStaticPath) {\n        path in staticRouter ? staticRouter[path][method] = index : staticRouter[path] = {\n          [method]: index\n        };\n        return;\n      }\n      this.router.http.add(\"WS\", path, handler), this.config.strictPath || this.router.http.add(\"WS\", getLoosePath(path), handler);\n      const encoded = encodePath(path, { dynamic: !0 });\n      path !== encoded && this.router.http.add(\"WS\", encoded, handler);\n      return;\n    }\n    if (isStaticPath)\n      path in staticRouter ? staticRouter[path][method] = index : staticRouter[path] = {\n        [method]: index\n      }, this.config.strictPath || addResponsePath(getLoosePath(path));\n    else {\n      if (this.router.http.add(method, path, handler), !this.config.strictPath) {\n        const loosePath = getLoosePath(path);\n        addResponsePath(loosePath), this.router.http.add(method, loosePath, handler);\n      }\n      const encoded = encodePath(path, { dynamic: !0 });\n      path !== encoded && (this.router.http.add(method, encoded, handler), addResponsePath(encoded));\n    }\n  }\n  headers(header) {\n    return header ? (this.setHeaders || (this.setHeaders = {}), this.setHeaders = mergeDeep(this.setHeaders, header), this) : this;\n  }\n  /**\n   * ### start | Life cycle event\n   * Called after server is ready for serving\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .onStart(({ server }) => {\n   *         console.log(\"Running at ${server?.url}:${server?.port}\")\n   *     })\n   *     .listen(3000)\n   * ```\n   */\n  onStart(handler) {\n    return this.on(\"start\", handler), this;\n  }\n  onRequest(handler) {\n    return this.on(\"request\", handler), this;\n  }\n  onParse(options, handler) {\n    return handler ? this.on(\n      options,\n      \"parse\",\n      handler\n    ) : typeof options == \"string\" ? this.on(\"parse\", this[\"~parser\"][options]) : this.on(\"parse\", options);\n  }\n  /**\n   * ### parse | Life cycle event\n   * Callback function to handle body parsing\n   *\n   * If truthy value is returned, will be assigned to `context.body`\n   * Otherwise will skip the callback and look for the next one.\n   *\n   * Equivalent to Express's body parser\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .onParse((request, contentType) => {\n   *         if(contentType === \"application/json\")\n   *             return request.json()\n   *     })\n   * ```\n   */\n  parser(name, parser) {\n    return this[\"~parser\"][name] = parser, this;\n  }\n  onTransform(options, handler) {\n    return handler ? this.on(\n      options,\n      \"transform\",\n      handler\n    ) : this.on(\"transform\", options);\n  }\n  resolve(optionsOrResolve, resolve) {\n    resolve || (resolve = optionsOrResolve, optionsOrResolve = { as: \"local\" });\n    const hook = {\n      subType: \"resolve\",\n      fn: resolve\n    };\n    return this.onBeforeHandle(optionsOrResolve, hook);\n  }\n  mapResolve(optionsOrResolve, mapper) {\n    mapper || (mapper = optionsOrResolve, optionsOrResolve = { as: \"local\" });\n    const hook = {\n      subType: \"mapResolve\",\n      fn: mapper\n    };\n    return this.onBeforeHandle(optionsOrResolve, hook);\n  }\n  onBeforeHandle(options, handler) {\n    return handler ? this.on(\n      options,\n      \"beforeHandle\",\n      handler\n    ) : this.on(\"beforeHandle\", options);\n  }\n  onAfterHandle(options, handler) {\n    return handler ? this.on(\n      options,\n      \"afterHandle\",\n      handler\n    ) : this.on(\"afterHandle\", options);\n  }\n  mapResponse(options, handler) {\n    return handler ? this.on(\n      options,\n      \"mapResponse\",\n      handler\n    ) : this.on(\"mapResponse\", options);\n  }\n  onAfterResponse(options, handler) {\n    return handler ? this.on(\n      options,\n      \"afterResponse\",\n      handler\n    ) : this.on(\"afterResponse\", options);\n  }\n  /**\n   * ### After Handle | Life cycle event\n   * Intercept request **after** main handler is called.\n   *\n   * If truthy value is returned, will be assigned as `Response`\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .onAfterHandle((context, response) => {\n   *         if(typeof response === \"object\")\n   *             return JSON.stringify(response)\n   *     })\n   * ```\n   */\n  trace(options, handler) {\n    handler || (handler = options, options = { as: \"local\" }), Array.isArray(handler) || (handler = [handler]);\n    for (const fn of handler)\n      this.on(\n        options,\n        \"trace\",\n        createTracer(fn)\n      );\n    return this;\n  }\n  error(name, error) {\n    switch (typeof name) {\n      case \"string\":\n        return error.prototype[ERROR_CODE] = name, this.definitions.error[name] = error, this;\n      case \"function\":\n        return this.definitions.error = name(this.definitions.error), this;\n    }\n    for (const [code, error2] of Object.entries(name))\n      error2.prototype[ERROR_CODE] = code, this.definitions.error[code] = error2;\n    return this;\n  }\n  /**\n   * ### Error | Life cycle event\n   * Called when error is thrown during processing request\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .onError(({ code }) => {\n   *         if(code === \"NOT_FOUND\")\n   *             return \"Path not found :(\"\n   *     })\n   * ```\n   */\n  onError(options, handler) {\n    return handler ? this.on(\n      options,\n      \"error\",\n      handler\n    ) : this.on(\"error\", options);\n  }\n  /**\n   * ### stop | Life cycle event\n   * Called after server stop serving request\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .onStop((app) => {\n   *         cleanup()\n   *     })\n   * ```\n   */\n  onStop(handler) {\n    return this.on(\"stop\", handler), this;\n  }\n  on(optionsOrType, typeOrHandlers, handlers) {\n    let type;\n    switch (typeof optionsOrType) {\n      case \"string\":\n        type = optionsOrType, handlers = typeOrHandlers;\n        break;\n      case \"object\":\n        type = typeOrHandlers, !Array.isArray(typeOrHandlers) && typeof typeOrHandlers == \"object\" && (handlers = typeOrHandlers);\n        break;\n    }\n    Array.isArray(handlers) ? handlers = fnToContainer(handlers) : typeof handlers == \"function\" ? handlers = [\n      {\n        fn: handlers\n      }\n    ] : handlers = [handlers];\n    const handles = handlers;\n    for (const handle of handles)\n      handle.scope = typeof optionsOrType == \"string\" ? \"local\" : optionsOrType?.as ?? \"local\", (type === \"resolve\" || type === \"derive\") && (handle.subType = type);\n    type !== \"trace\" && (this.inference = sucrose(\n      {\n        [type]: handles.map((x) => x.fn)\n      },\n      this.inference,\n      this.config.sucrose\n    ));\n    for (const handle of handles) {\n      const fn = asHookType(handle, \"global\", { skipIfHasType: !0 });\n      switch (type) {\n        case \"start\":\n          this.event.start ??= [], this.event.start.push(fn);\n          break;\n        case \"request\":\n          this.event.request ??= [], this.event.request.push(fn);\n          break;\n        case \"parse\":\n          this.event.parse ??= [], this.event.parse.push(fn);\n          break;\n        case \"transform\":\n          this.event.transform ??= [], this.event.transform.push(fn);\n          break;\n        // @ts-expect-error\n        case \"derive\":\n          this.event.transform ??= [], this.event.transform.push(\n            fnToContainer(fn, \"derive\")\n          );\n          break;\n        case \"beforeHandle\":\n          this.event.beforeHandle ??= [], this.event.beforeHandle.push(fn);\n          break;\n        // @ts-expect-error\n        // eslint-disable-next-line sonarjs/no-duplicated-branches\n        case \"resolve\":\n          this.event.beforeHandle ??= [], this.event.beforeHandle.push(\n            fnToContainer(fn, \"resolve\")\n          );\n          break;\n        case \"afterHandle\":\n          this.event.afterHandle ??= [], this.event.afterHandle.push(fn);\n          break;\n        case \"mapResponse\":\n          this.event.mapResponse ??= [], this.event.mapResponse.push(fn);\n          break;\n        case \"afterResponse\":\n          this.event.afterResponse ??= [], this.event.afterResponse.push(fn);\n          break;\n        case \"trace\":\n          this.event.trace ??= [], this.event.trace.push(fn);\n          break;\n        case \"error\":\n          this.event.error ??= [], this.event.error.push(fn);\n          break;\n        case \"stop\":\n          this.event.stop ??= [], this.event.stop.push(fn);\n          break;\n      }\n    }\n    return this;\n  }\n  as(type) {\n    return promoteEvent(this.event.parse, type), promoteEvent(this.event.transform, type), promoteEvent(this.event.beforeHandle, type), promoteEvent(this.event.afterHandle, type), promoteEvent(this.event.mapResponse, type), promoteEvent(this.event.afterResponse, type), promoteEvent(this.event.trace, type), promoteEvent(this.event.error, type), type === \"scoped\" ? (this.validator.scoped = mergeSchemaValidator(\n      this.validator.scoped,\n      this.validator.local\n    ), this.validator.local = null, this.standaloneValidator.local !== null && (this.standaloneValidator.scoped ||= [], this.standaloneValidator.scoped.push(\n      ...this.standaloneValidator.local\n    ), this.standaloneValidator.local = null)) : type === \"global\" && (this.validator.global = mergeSchemaValidator(\n      this.validator.global,\n      mergeSchemaValidator(\n        this.validator.scoped,\n        this.validator.local\n      )\n    ), this.validator.scoped = null, this.validator.local = null, this.standaloneValidator.local !== null && (this.standaloneValidator.scoped ||= [], this.standaloneValidator.scoped.push(\n      ...this.standaloneValidator.local\n    ), this.standaloneValidator.local = null), this.standaloneValidator.scoped !== null && (this.standaloneValidator.global ||= [], this.standaloneValidator.global.push(\n      ...this.standaloneValidator.scoped\n    ), this.standaloneValidator.scoped = null)), this;\n  }\n  /**\n   * ### group\n   * Encapsulate and group path with prefix\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .group('/v1', app => app\n   *         .get('/', () => 'Hi')\n   *         .get('/name', () => 'Elysia')\n   *     })\n   * ```\n   */\n  group(prefix, schemaOrRun, run) {\n    const instance = new _Elysia({\n      ...this.config,\n      prefix: \"\"\n    });\n    instance.singleton = { ...this.singleton }, instance.definitions = { ...this.definitions }, instance.getServer = () => this.getServer(), instance.inference = cloneInference(this.inference), instance.extender = { ...this.extender }, instance[\"~parser\"] = this[\"~parser\"], instance.standaloneValidator = {\n      local: [...this.standaloneValidator.local ?? []],\n      scoped: [...this.standaloneValidator.scoped ?? []],\n      global: [...this.standaloneValidator.global ?? []]\n    };\n    const isSchema = typeof schemaOrRun == \"object\", sandbox = (isSchema ? run : schemaOrRun)(instance);\n    return this.singleton = mergeDeep(this.singleton, instance.singleton), this.definitions = mergeDeep(this.definitions, instance.definitions), sandbox.event.request?.length && (this.event.request = [\n      ...this.event.request || [],\n      ...sandbox.event.request || []\n    ]), sandbox.event.mapResponse?.length && (this.event.mapResponse = [\n      ...this.event.mapResponse || [],\n      ...sandbox.event.mapResponse || []\n    ]), this.model(sandbox.definitions.type), Object.values(instance.router.history).forEach(\n      ({ method, path, handler, hooks }) => {\n        if (path = (isSchema ? \"\" : this.config.prefix ?? \"\") + prefix + path, isSchema) {\n          const {\n            body,\n            headers,\n            query,\n            params,\n            cookie,\n            response,\n            ...hook\n          } = schemaOrRun, localHook = hooks;\n          this.applyMacro(hook);\n          const hasStandaloneSchema = body || headers || query || params || cookie || response;\n          this.add(\n            method,\n            path,\n            handler,\n            mergeHook(hook, {\n              ...localHook || {},\n              error: localHook.error ? Array.isArray(localHook.error) ? [\n                ...localHook.error ?? [],\n                ...sandbox.event.error ?? []\n              ] : [\n                localHook.error,\n                ...sandbox.event.error ?? []\n              ] : sandbox.event.error,\n              // Merge macro's standaloneValidator with local and group schema\n              standaloneValidator: hook.standaloneValidator || localHook.standaloneValidator || hasStandaloneSchema ? [\n                ...hook.standaloneValidator ?? [],\n                ...localHook.standaloneValidator ?? [],\n                ...hasStandaloneSchema ? [\n                  {\n                    body,\n                    headers,\n                    query,\n                    params,\n                    cookie,\n                    response\n                  }\n                ] : []\n              ] : void 0\n            }),\n            void 0\n          );\n        } else\n          this.add(\n            method,\n            path,\n            handler,\n            mergeHook(hooks, {\n              error: sandbox.event.error\n            }),\n            {\n              skipPrefix: !0\n            }\n          );\n      }\n    ), this;\n  }\n  /**\n   * ### guard\n   * Encapsulate and pass hook into all child handler\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { t } from 'elysia'\n   *\n   * new Elysia()\n   *     .guard({\n   *          body: t.Object({\n   *              username: t.String(),\n   *              password: t.String()\n   *          })\n   *     }, app => app\n   *         .get(\"/\", () => 'Hi')\n   *         .get(\"/name\", () => 'Elysia')\n   *     })\n   * ```\n   */\n  guard(hook, run) {\n    if (!run) {\n      if (typeof hook == \"object\") {\n        this.applyMacro(hook), hook.detail && (this.config.detail ? this.config.detail = mergeDeep(\n          Object.assign({}, this.config.detail),\n          hook.detail\n        ) : this.config.detail = hook.detail), hook.tags && (this.config.detail ? this.config.detail.tags = hook.tags : this.config.detail = {\n          tags: hook.tags\n        });\n        const type = hook.as ?? \"local\";\n        if (hook.schema === \"standalone\") {\n          this.standaloneValidator[type] || (this.standaloneValidator[type] = []);\n          const response = hook?.response ? typeof hook.response == \"string\" || Kind in hook.response || \"~standard\" in hook.response ? {\n            200: hook.response\n          } : hook?.response : void 0;\n          this.standaloneValidator[type].push({\n            body: hook.body,\n            headers: hook.headers,\n            params: hook.params,\n            query: hook.query,\n            response,\n            cookie: hook.cookie\n          });\n        } else\n          this.validator[type] = {\n            body: hook.body ?? this.validator[type]?.body,\n            headers: hook.headers ?? this.validator[type]?.headers,\n            params: hook.params ?? this.validator[type]?.params,\n            query: hook.query ?? this.validator[type]?.query,\n            response: hook.response ?? this.validator[type]?.response,\n            cookie: hook.cookie ?? this.validator[type]?.cookie\n          };\n        return hook.parse && this.on({ as: type }, \"parse\", hook.parse), hook.transform && this.on({ as: type }, \"transform\", hook.transform), hook.derive && this.on({ as: type }, \"derive\", hook.derive), hook.beforeHandle && this.on({ as: type }, \"beforeHandle\", hook.beforeHandle), hook.resolve && this.on({ as: type }, \"resolve\", hook.resolve), hook.afterHandle && this.on({ as: type }, \"afterHandle\", hook.afterHandle), hook.mapResponse && this.on({ as: type }, \"mapResponse\", hook.mapResponse), hook.afterResponse && this.on({ as: type }, \"afterResponse\", hook.afterResponse), hook.error && this.on({ as: type }, \"error\", hook.error), this;\n      }\n      return this.guard({}, hook);\n    }\n    const instance = new _Elysia({\n      ...this.config,\n      prefix: \"\"\n    });\n    instance.singleton = { ...this.singleton }, instance.definitions = { ...this.definitions }, instance.inference = cloneInference(this.inference), instance.extender = { ...this.extender }, instance.getServer = () => this.getServer();\n    const sandbox = run(instance);\n    return this.singleton = mergeDeep(this.singleton, instance.singleton), this.definitions = mergeDeep(this.definitions, instance.definitions), sandbox.getServer = () => this.server, sandbox.event.request?.length && (this.event.request = [\n      ...this.event.request || [],\n      ...sandbox.event.request || []\n    ]), sandbox.event.mapResponse?.length && (this.event.mapResponse = [\n      ...this.event.mapResponse || [],\n      ...sandbox.event.mapResponse || []\n    ]), this.model(sandbox.definitions.type), Object.values(instance.router.history).forEach(\n      ({ method, path, handler, hooks: localHook }) => {\n        const {\n          body,\n          headers,\n          query,\n          params,\n          cookie,\n          response,\n          ...guardHook\n        } = hook, hasStandaloneSchema = body || headers || query || params || cookie || response;\n        this.add(\n          method,\n          path,\n          handler,\n          mergeHook(guardHook, {\n            ...localHook || {},\n            error: localHook.error ? Array.isArray(localHook.error) ? [\n              ...localHook.error ?? [],\n              ...sandbox.event.error ?? []\n            ] : [\n              localHook.error,\n              ...sandbox.event.error ?? []\n            ] : sandbox.event.error,\n            standaloneValidator: hasStandaloneSchema ? [\n              ...localHook.standaloneValidator ?? [],\n              {\n                body,\n                headers,\n                query,\n                params,\n                cookie,\n                response\n              }\n            ] : localHook.standaloneValidator\n          })\n        );\n      }\n    ), this;\n  }\n  /**\n   * ### use\n   * Merge separate logic of Elysia with current\n   *\n   * ---\n   * @example\n   * ```typescript\n   * const plugin = (app: Elysia) => app\n   *     .get('/plugin', () => 'hi')\n   *\n   * new Elysia()\n   *     .use(plugin)\n   * ```\n   */\n  use(plugin) {\n    if (!plugin) return this;\n    if (Array.isArray(plugin)) {\n      let app = this;\n      for (const p of plugin) app = app.use(p);\n      return app;\n    }\n    return plugin instanceof Promise ? (this.promisedModules.add(\n      plugin.then((plugin2) => {\n        if (typeof plugin2 == \"function\") return plugin2(this);\n        if (plugin2 instanceof _Elysia)\n          return this._use(plugin2).compile();\n        if (plugin2.constructor?.name === \"Elysia\")\n          return this._use(\n            plugin2\n          ).compile();\n        if (typeof plugin2.default == \"function\")\n          return plugin2.default(this);\n        if (plugin2.default instanceof _Elysia)\n          return this._use(plugin2.default);\n        if (plugin2.constructor?.name === \"Elysia\")\n          return this._use(plugin2.default);\n        if (plugin2.constructor?.name === \"_Elysia\")\n          return this._use(plugin2.default);\n        try {\n          return this._use(plugin2.default);\n        } catch (error) {\n          throw console.error(\n            'Invalid plugin type. Expected Elysia instance, function, or module with \"default\" as Elysia instance or function that returns Elysia instance.'\n          ), error;\n        }\n      }).then((v) => (v && typeof v.compile == \"function\" && v.compile(), v))\n    ), this) : this._use(plugin);\n  }\n  propagatePromiseModules(plugin) {\n    if (plugin.promisedModules.size <= 0) return this;\n    for (const promise of plugin.promisedModules.promises)\n      this.promisedModules.add(\n        promise.then((v) => {\n          if (!v) return;\n          const t3 = this._use(v);\n          return t3 instanceof Promise ? t3.then((v2) => {\n            v2 ? v2.compile() : v.compile();\n          }) : v.compile();\n        })\n      );\n    return this;\n  }\n  _use(plugin) {\n    if (typeof plugin == \"function\") {\n      const instance = plugin(this);\n      return instance instanceof Promise ? (this.promisedModules.add(\n        instance.then((plugin2) => {\n          if (plugin2 instanceof _Elysia) {\n            plugin2.getServer = () => this.getServer(), plugin2.getGlobalRoutes = () => this.getGlobalRoutes(), plugin2.getGlobalDefinitions = () => this.getGlobalDefinitions(), plugin2.model(this.definitions.type), plugin2.error(this.definitions.error);\n            for (const {\n              method,\n              path,\n              handler,\n              hooks\n            } of Object.values(plugin2.router.history))\n              this.add(\n                method,\n                path,\n                handler,\n                hooks,\n                void 0\n              );\n            return plugin2 === this ? void 0 : (this.propagatePromiseModules(plugin2), plugin2);\n          }\n          return typeof plugin2 == \"function\" ? plugin2(\n            this\n          ) : typeof plugin2.default == \"function\" ? plugin2.default(\n            this\n          ) : this._use(plugin2);\n        }).then((v) => (v && typeof v.compile == \"function\" && v.compile(), v))\n      ), this) : instance;\n    }\n    this.propagatePromiseModules(plugin);\n    const name = plugin.config.name, seed = plugin.config.seed;\n    if (plugin.getParent = () => this, plugin.getServer = () => this.getServer(), plugin.getGlobalRoutes = () => this.getGlobalRoutes(), plugin.getGlobalDefinitions = () => this.getGlobalDefinitions(), plugin.standaloneValidator?.scoped && (this.standaloneValidator.local ? this.standaloneValidator.local = this.standaloneValidator.local.concat(\n      plugin.standaloneValidator.scoped\n    ) : this.standaloneValidator.local = plugin.standaloneValidator.scoped), plugin.standaloneValidator?.global && (this.standaloneValidator.global ? this.standaloneValidator.global = this.standaloneValidator.global.concat(\n      plugin.standaloneValidator.global\n    ) : this.standaloneValidator.global = plugin.standaloneValidator.global), isNotEmpty(plugin[\"~parser\"]) && (this[\"~parser\"] = {\n      ...plugin[\"~parser\"],\n      ...this[\"~parser\"]\n    }), plugin.setHeaders && this.headers(plugin.setHeaders), name) {\n      name in this.dependencies || (this.dependencies[name] = []);\n      const current = seed !== void 0 ? checksum(name + JSON.stringify(seed)) : 0;\n      this.dependencies[name].some(\n        ({ checksum: checksum3 }) => current === checksum3\n      ) || (this.extender.macro = {\n        ...this.extender.macro,\n        ...plugin.extender.macro\n      }, this.extender.higherOrderFunctions = this.extender.higherOrderFunctions.concat(\n        plugin.extender.higherOrderFunctions\n      ));\n    } else\n      isNotEmpty(plugin.extender.macro) && (this.extender.macro = {\n        ...this.extender.macro,\n        ...plugin.extender.macro\n      }), plugin.extender.higherOrderFunctions.length && (this.extender.higherOrderFunctions = this.extender.higherOrderFunctions.concat(\n        plugin.extender.higherOrderFunctions\n      ));\n    if (plugin.extender.higherOrderFunctions.length) {\n      deduplicateChecksum(this.extender.higherOrderFunctions);\n      const hofHashes = [];\n      for (let i = 0; i < this.extender.higherOrderFunctions.length; i++) {\n        const hof = this.extender.higherOrderFunctions[i];\n        hof.checksum && (hofHashes.includes(hof.checksum) && (this.extender.higherOrderFunctions.splice(i, 1), i--), hofHashes.push(hof.checksum));\n      }\n      hofHashes.length = 0;\n    }\n    this.inference = mergeInference(this.inference, plugin.inference), isNotEmpty(plugin.singleton.decorator) && this.decorate(plugin.singleton.decorator), isNotEmpty(plugin.singleton.store) && this.state(plugin.singleton.store), isNotEmpty(plugin.definitions.type) && this.model(plugin.definitions.type), isNotEmpty(plugin.definitions.error) && this.error(plugin.definitions.error), isNotEmpty(plugin.extender.macro) && (this.extender.macro = {\n      ...this.extender.macro,\n      ...plugin.extender.macro\n    });\n    for (const { method, path, handler, hooks } of Object.values(\n      plugin.router.history\n    ))\n      this.add(method, path, handler, hooks);\n    if (name) {\n      name in this.dependencies || (this.dependencies[name] = []);\n      const current = seed !== void 0 ? checksum(name + JSON.stringify(seed)) : 0;\n      if (this.dependencies[name].some(\n        ({ checksum: checksum3 }) => current === checksum3\n      ))\n        return this;\n      this.dependencies[name].push(\n        this.config?.analytic ? {\n          name: plugin.config.name,\n          seed: plugin.config.seed,\n          checksum: current,\n          dependencies: plugin.dependencies,\n          stack: plugin.telemetry?.stack,\n          routes: plugin.router.history,\n          decorators: plugin.singleton,\n          store: plugin.singleton.store,\n          error: plugin.definitions.error,\n          derive: plugin.event.transform?.filter((x) => x?.subType === \"derive\").map((x) => ({\n            fn: x.toString(),\n            stack: new Error().stack ?? \"\"\n          })),\n          resolve: plugin.event.transform?.filter((x) => x?.subType === \"resolve\").map((x) => ({\n            fn: x.toString(),\n            stack: new Error().stack ?? \"\"\n          }))\n        } : {\n          name: plugin.config.name,\n          seed: plugin.config.seed,\n          checksum: current,\n          dependencies: plugin.dependencies\n        }\n      ), isNotEmpty(plugin.event) && (this.event = mergeLifeCycle(\n        this.event,\n        filterGlobalHook(plugin.event),\n        current\n      ));\n    } else\n      isNotEmpty(plugin.event) && (this.event = mergeLifeCycle(\n        this.event,\n        filterGlobalHook(plugin.event)\n      ));\n    return plugin.validator.global && (this.validator.global = mergeHook(this.validator.global, {\n      ...plugin.validator.global\n    })), plugin.validator.scoped && (this.validator.local = mergeHook(this.validator.local, {\n      ...plugin.validator.scoped\n    })), this;\n  }\n  macro(macroOrName, macro) {\n    if (typeof macroOrName == \"string\" && !macro)\n      throw new Error(\"Macro function is required\");\n    return typeof macroOrName == \"string\" ? this.extender.macro[macroOrName] = macro : this.extender.macro = {\n      ...this.extender.macro,\n      ...macroOrName\n    }, this;\n  }\n  applyMacro(localHook, appliable = localHook, {\n    iteration = 0,\n    applied = {}\n  } = {}) {\n    if (iteration >= 16) return;\n    const macro = this.extender.macro;\n    for (let [key, value] of Object.entries(appliable)) {\n      if (!(key in macro)) continue;\n      const macroHook = typeof macro[key] == \"function\" ? macro[key](value) : macro[key];\n      if (!macroHook || typeof macro[key] == \"object\" && value === !1)\n        return;\n      const seed = checksum(key + JSON.stringify(macroHook.seed ?? value));\n      if (!(seed in applied)) {\n        applied[seed] = !0;\n        for (let [k, value2] of Object.entries(macroHook))\n          if (k !== \"seed\") {\n            if (k in emptySchema) {\n              insertStandaloneValidator(\n                localHook,\n                k,\n                value2\n              ), delete localHook[key];\n              continue;\n            }\n            if (k === \"introspect\") {\n              value2?.(localHook), delete localHook[key];\n              continue;\n            }\n            if (k === \"detail\") {\n              localHook.detail || (localHook.detail = {}), localHook.detail = mergeDeep(localHook.detail, value2, {\n                mergeArray: !0\n              }), delete localHook[key];\n              continue;\n            }\n            if (k in macro) {\n              this.applyMacro(\n                localHook,\n                { [k]: value2 },\n                { applied, iteration: iteration + 1 }\n              ), delete localHook[key];\n              continue;\n            }\n            switch ((k === \"derive\" || k === \"resolve\") && typeof value2 == \"function\" && (value2 = {\n              fn: value2,\n              subType: k\n            }), typeof localHook[k]) {\n              case \"function\":\n                localHook[k] = [localHook[k], value2];\n                break;\n              case \"object\":\n                Array.isArray(localHook[k]) ? localHook[k].push(value2) : localHook[k] = [localHook[k], value2];\n                break;\n              case \"undefined\":\n                localHook[k] = value2;\n                break;\n            }\n            delete localHook[key];\n          }\n      }\n    }\n  }\n  mount(path, handleOrConfig, config) {\n    if (path instanceof _Elysia || typeof path == \"function\" || path.length === 0 || path === \"/\") {\n      const run = typeof path == \"function\" ? path : path instanceof _Elysia ? path.compile().fetch : handleOrConfig instanceof _Elysia ? handleOrConfig.compile().fetch : typeof handleOrConfig == \"function\" ? handleOrConfig : (() => {\n        throw new Error(\"Invalid handler\");\n      })(), handler2 = ({ request, path: path2 }) => run(\n        new Request(replaceUrlPath(request.url, path2), {\n          method: request.method,\n          headers: request.headers,\n          signal: request.signal,\n          credentials: request.credentials,\n          referrerPolicy: request.referrerPolicy,\n          duplex: request.duplex,\n          redirect: request.redirect,\n          mode: request.mode,\n          keepalive: request.keepalive,\n          integrity: request.integrity,\n          body: request.body\n        })\n      );\n      return this.route(\"ALL\", \"/*\", handler2, {\n        parse: \"none\",\n        ...config,\n        detail: {\n          ...config?.detail,\n          hide: !0\n        },\n        config: {\n          mount: run\n        }\n      }), this;\n    }\n    const handle = handleOrConfig instanceof _Elysia ? handleOrConfig.compile().fetch : typeof handleOrConfig == \"function\" ? handleOrConfig : (() => {\n      throw new Error(\"Invalid handler\");\n    })(), length = (typeof path == \"string\" && this.config.prefix ? this.config.prefix + path : path).length - (path.endsWith(\"*\") ? 1 : 0), handler = ({ request, path: path2 }) => handle(\n      new Request(\n        replaceUrlPath(request.url, path2.slice(length) || \"/\"),\n        {\n          method: request.method,\n          headers: request.headers,\n          signal: request.signal,\n          credentials: request.credentials,\n          referrerPolicy: request.referrerPolicy,\n          duplex: request.duplex,\n          redirect: request.redirect,\n          mode: request.mode,\n          keepalive: request.keepalive,\n          integrity: request.integrity,\n          body: request.body\n        }\n      )\n    );\n    return this.route(\"ALL\", path, handler, {\n      parse: \"none\",\n      ...config,\n      detail: {\n        ...config?.detail,\n        hide: !0\n      },\n      config: {\n        mount: handle\n      }\n    }), this.route(\n      \"ALL\",\n      path + (path.endsWith(\"/\") ? \"*\" : \"/*\"),\n      handler,\n      {\n        parse: \"none\",\n        ...config,\n        detail: {\n          ...config?.detail,\n          hide: !0\n        },\n        config: {\n          mount: handle\n        }\n      }\n    ), this;\n  }\n  /**\n   * ### get\n   * Register handler for path with method [GET]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .get('/', () => 'hi')\n   *     .get('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  get(path, handler, hook) {\n    return this.add(\"GET\", path, handler, hook), this;\n  }\n  /**\n   * ### post\n   * Register handler for path with method [POST]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .post('/', () => 'hi')\n   *     .post('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  post(path, handler, hook) {\n    return this.add(\"POST\", path, handler, hook), this;\n  }\n  /**\n   * ### put\n   * Register handler for path with method [PUT]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .put('/', () => 'hi')\n   *     .put('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  put(path, handler, hook) {\n    return this.add(\"PUT\", path, handler, hook), this;\n  }\n  /**\n   * ### patch\n   * Register handler for path with method [PATCH]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .patch('/', () => 'hi')\n   *     .patch('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  patch(path, handler, hook) {\n    return this.add(\"PATCH\", path, handler, hook), this;\n  }\n  /**\n   * ### delete\n   * Register handler for path with method [DELETE]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .delete('/', () => 'hi')\n   *     .delete('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  delete(path, handler, hook) {\n    return this.add(\"DELETE\", path, handler, hook), this;\n  }\n  /**\n   * ### options\n   * Register handler for path with method [POST]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .options('/', () => 'hi')\n   *     .options('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  options(path, handler, hook) {\n    return this.add(\"OPTIONS\", path, handler, hook), this;\n  }\n  /**\n   * ### all\n   * Register handler for path with method [ALL]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .all('/', () => 'hi')\n   *     .all('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  all(path, handler, hook) {\n    return this.add(\"ALL\", path, handler, hook), this;\n  }\n  /**\n   * ### head\n   * Register handler for path with method [HEAD]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .head('/', () => 'hi')\n   *     .head('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  head(path, handler, hook) {\n    return this.add(\"HEAD\", path, handler, hook), this;\n  }\n  /**\n   * ### connect\n   * Register handler for path with method [CONNECT]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .connect('/', () => 'hi')\n   *     .connect('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  connect(path, handler, hook) {\n    return this.add(\"CONNECT\", path, handler, hook), this;\n  }\n  /**\n   * ### route\n   * Register handler for path with method [ROUTE]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .route('/', () => 'hi')\n   *     .route('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  route(method, path, handler, hook) {\n    return this.add(method.toUpperCase(), path, handler, hook, hook?.config), this;\n  }\n  /**\n   * ### ws\n   * Register handler for path with method [ws]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .ws('/', {\n   *         message(ws, message) {\n   *             ws.send(message)\n   *         }\n   *     })\n   * ```\n   */\n  ws(path, options) {\n    return this[\"~adapter\"].ws ? this[\"~adapter\"].ws(this, path, options) : console.warn(\"Current adapter doesn't support WebSocket\"), this;\n  }\n  /**\n   * ### state\n   * Assign global mutatable state accessible for all handler\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .state('counter', 0)\n   *     .get('/', (({ counter }) => ++counter)\n   * ```\n   */\n  state(options, name, value) {\n    name === void 0 ? (value = options, options = { as: \"append\" }, name = \"\") : value === void 0 && (typeof options == \"string\" ? (value = name, name = options, options = { as: \"append\" }) : typeof options == \"object\" && (value = name, name = \"\"));\n    const { as } = options;\n    if (typeof name != \"string\") return this;\n    switch (typeof value) {\n      case \"object\":\n        return !value || !isNotEmpty(value) ? this : name ? (name in this.singleton.store ? this.singleton.store[name] = mergeDeep(\n          this.singleton.store[name],\n          value,\n          {\n            override: as === \"override\"\n          }\n        ) : this.singleton.store[name] = value, this) : value === null ? this : (this.singleton.store = mergeDeep(this.singleton.store, value, {\n          override: as === \"override\"\n        }), this);\n      case \"function\":\n        return name ? (as === \"override\" || !(name in this.singleton.store)) && (this.singleton.store[name] = value) : this.singleton.store = value(this.singleton.store), this;\n      default:\n        return (as === \"override\" || !(name in this.singleton.store)) && (this.singleton.store[name] = value), this;\n    }\n  }\n  /**\n   * ### decorate\n   * Define custom method to `Context` accessible for all handler\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .decorate('getDate', () => Date.now())\n   *     .get('/', (({ getDate }) => getDate())\n   * ```\n   */\n  decorate(options, name, value) {\n    name === void 0 ? (value = options, options = { as: \"append\" }, name = \"\") : value === void 0 && (typeof options == \"string\" ? (value = name, name = options, options = { as: \"append\" }) : typeof options == \"object\" && (value = name, name = \"\"));\n    const { as } = options;\n    if (typeof name != \"string\") return this;\n    switch (typeof value) {\n      case \"object\":\n        return name ? (name in this.singleton.decorator ? this.singleton.decorator[name] = mergeDeep(\n          this.singleton.decorator[name],\n          value,\n          {\n            override: as === \"override\"\n          }\n        ) : this.singleton.decorator[name] = value, this) : value === null ? this : (this.singleton.decorator = mergeDeep(\n          this.singleton.decorator,\n          value,\n          {\n            override: as === \"override\"\n          }\n        ), this);\n      case \"function\":\n        return name ? (as === \"override\" || !(name in this.singleton.decorator)) && (this.singleton.decorator[name] = value) : this.singleton.decorator = value(this.singleton.decorator), this;\n      default:\n        return (as === \"override\" || !(name in this.singleton.decorator)) && (this.singleton.decorator[name] = value), this;\n    }\n  }\n  derive(optionsOrTransform, transform) {\n    transform || (transform = optionsOrTransform, optionsOrTransform = { as: \"local\" });\n    const hook = {\n      subType: \"derive\",\n      fn: transform\n    };\n    return this.onTransform(optionsOrTransform, hook);\n  }\n  model(name, model) {\n    const onlyTypebox = (a) => {\n      const res = {};\n      for (const key in a) \"~standard\" in a[key] || (res[key] = a[key]);\n      return res;\n    };\n    switch (typeof name) {\n      case \"object\":\n        const parsedTypebox = {}, kvs = Object.entries(name);\n        if (!kvs.length) return this;\n        for (const [key, value] of kvs)\n          key in this.definitions.type || (\"~standard\" in value ? this.definitions.type[key] = value : (parsedTypebox[key] = this.definitions.type[key] = value, parsedTypebox[key].$id ??= `#/components/schemas/${key}`));\n        return this.definitions.typebox = t.Module({\n          ...this.definitions.typebox.$defs,\n          ...parsedTypebox\n        }), this;\n      case \"function\":\n        const result = name(this.definitions.type);\n        return this.definitions.type = result, this.definitions.typebox = t.Module(onlyTypebox(result)), this;\n      case \"string\":\n        if (!model) break;\n        if (this.definitions.type[name] = model, \"~standard\" in model) return this;\n        const newModel = {\n          ...model,\n          id: model.$id ?? `#/components/schemas/${name}`\n        };\n        return this.definitions.typebox = t.Module({\n          ...this.definitions.typebox.$defs,\n          ...newModel\n        }), this;\n    }\n    return model ? (this.definitions.type[name] = model, \"~standard\" in model ? this : (this.definitions.typebox = t.Module({\n      ...this.definitions.typebox.$defs,\n      [name]: model\n    }), this)) : this;\n  }\n  Ref(key) {\n    return t.Ref(key);\n  }\n  mapDerive(optionsOrDerive, mapper) {\n    mapper || (mapper = optionsOrDerive, optionsOrDerive = { as: \"local\" });\n    const hook = {\n      subType: \"mapDerive\",\n      fn: mapper\n    };\n    return this.onTransform(optionsOrDerive, hook);\n  }\n  affix(base, type, word) {\n    if (word === \"\") return this;\n    const delimieter = [\"_\", \"-\", \" \"], capitalize = (word2) => word2[0].toUpperCase() + word2.slice(1), joinKey = base === \"prefix\" ? (prefix, word2) => delimieter.includes(prefix.at(-1) ?? \"\") ? prefix + word2 : prefix + capitalize(word2) : delimieter.includes(word.at(-1) ?? \"\") ? (suffix, word2) => word2 + suffix : (suffix, word2) => word2 + capitalize(suffix), remap = (type2) => {\n      const store = {};\n      switch (type2) {\n        case \"decorator\":\n          for (const key in this.singleton.decorator)\n            store[joinKey(word, key)] = this.singleton.decorator[key];\n          this.singleton.decorator = store;\n          break;\n        case \"state\":\n          for (const key in this.singleton.store)\n            store[joinKey(word, key)] = this.singleton.store[key];\n          this.singleton.store = store;\n          break;\n        case \"model\":\n          for (const key in this.definitions.type)\n            store[joinKey(word, key)] = this.definitions.type[key];\n          this.definitions.type = store;\n          break;\n        case \"error\":\n          for (const key in this.definitions.error)\n            store[joinKey(word, key)] = this.definitions.error[key];\n          this.definitions.error = store;\n          break;\n      }\n    }, types = Array.isArray(type) ? type : [type];\n    for (const type2 of types.some((x) => x === \"all\") ? [\"decorator\", \"state\", \"model\", \"error\"] : types)\n      remap(type2);\n    return this;\n  }\n  prefix(type, word) {\n    return this.affix(\"prefix\", type, word);\n  }\n  suffix(type, word) {\n    return this.affix(\"suffix\", type, word);\n  }\n  compile() {\n    return this[\"~adapter\"].beforeCompile?.(this), this[\"~adapter\"].isWebStandard ? (this._handle = this.config.aot ? composeGeneralHandler(this) : createDynamicHandler(this), Object.defineProperty(this, \"fetch\", {\n      value: this._handle,\n      configurable: !0,\n      writable: !0\n    }), typeof this.server?.reload == \"function\" && this.server.reload({\n      ...this.server || {},\n      fetch: this.fetch\n    }), this) : (typeof this.server?.reload == \"function\" && this.server.reload(this.server || {}), this._handle = composeGeneralHandler(this), this);\n  }\n  /**\n   * Use handle can be either sync or async to save performance.\n   *\n   * Beside benchmark purpose, please use 'handle' instead.\n   */\n  get fetch() {\n    const fetch = this.config.aot ? composeGeneralHandler(this) : createDynamicHandler(this);\n    return Object.defineProperty(this, \"fetch\", {\n      value: fetch,\n      configurable: !0,\n      writable: !0\n    }), fetch;\n  }\n  /**\n   * Wait until all lazy loaded modules all load is fully\n   */\n  get modules() {\n    return this.promisedModules;\n  }\n};\nlet Elysia = _Elysia;\nimport { t as t2 } from \"./type-system/index.mjs\";\nimport { validationDetail, fileType } from \"./type-system/utils.mjs\";\nimport { serializeCookie, Cookie } from \"./cookies.mjs\";\nimport {\n  ELYSIA_TRACE\n} from \"./trace.mjs\";\nimport { getSchemaValidator as getSchemaValidator2, getResponseSchemaValidator as getResponseSchemaValidator2 } from \"./schema.mjs\";\nimport { replaceSchemaTypeFromManyOptions } from \"./replace-schema.mjs\";\nimport {\n  mergeHook as mergeHook2,\n  mergeObjectArray,\n  redirect as redirect2,\n  StatusMap,\n  InvertedStatusMap,\n  form,\n  replaceUrlPath as replaceUrlPath2,\n  checksum as checksum2,\n  cloneInference as cloneInference2,\n  deduplicateChecksum as deduplicateChecksum2,\n  ELYSIA_FORM_DATA,\n  ELYSIA_REQUEST_ID,\n  sse\n} from \"./utils.mjs\";\nimport {\n  status as status2,\n  mapValueError,\n  ParseError,\n  NotFoundError,\n  ValidationError as ValidationError2,\n  InvalidFileType,\n  InternalServerError,\n  InvalidCookieSignature,\n  ERROR_CODE as ERROR_CODE2,\n  ElysiaCustomStatusResponse\n} from \"./error.mjs\";\nimport { env as env2 } from \"./universal/env.mjs\";\nimport { file, ElysiaFile } from \"./universal/file.mjs\";\nimport { TypeSystemPolicy } from \"@sinclair/typebox/system\";\nexport {\n  Cookie,\n  ELYSIA_FORM_DATA,\n  ELYSIA_REQUEST_ID,\n  ELYSIA_TRACE,\n  ERROR_CODE2 as ERROR_CODE,\n  Elysia,\n  ElysiaCustomStatusResponse,\n  ElysiaFile,\n  InternalServerError,\n  InvalidCookieSignature,\n  InvalidFileType,\n  InvertedStatusMap,\n  NotFoundError,\n  ParseError,\n  StatusMap,\n  TypeSystemPolicy,\n  ValidationError2 as ValidationError,\n  checksum2 as checksum,\n  cloneInference2 as cloneInference,\n  deduplicateChecksum2 as deduplicateChecksum,\n  Elysia as default,\n  env2 as env,\n  file,\n  fileType,\n  form,\n  getResponseSchemaValidator2 as getResponseSchemaValidator,\n  getSchemaValidator2 as getSchemaValidator,\n  mapValueError,\n  mergeHook2 as mergeHook,\n  mergeObjectArray,\n  redirect2 as redirect,\n  replaceSchemaTypeFromManyOptions as replaceSchemaType,\n  replaceUrlPath2 as replaceUrlPath,\n  serializeCookie,\n  sse,\n  status2 as status,\n  t2 as t,\n  validationDetail\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}}]
}